!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";var e,t={exports:{}};e||(e=1,function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new w(r||[]);return o(i,"_invoke",{value:O(e,n,c)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m="suspendedStart",p="suspendedYield",f="executing",h="completed",_={};function b(){}function E(){}function y(){}var g={};l(g,i,(function(){return this}));var C=Object.getPrototypeOf,v=C&&C(C(M([])));v&&v!==n&&r.call(v,i)&&(g=v);var T=y.prototype=b.prototype=Object.create(g);function R(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(o,a,i,c){var s=d(e[o],e,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function O(e,n,r){var o=m;return function(a,i){if(o===f)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=I(c,r);if(s){if(s===_)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var l=d(e,n,r);if("normal"===l.type){if(o=r.done?h:p,l.arg===_)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),_;var a=d(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,_;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,_):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function M(e){if(null!=e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return E.prototype=y,o(T,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:E,configurable:!0}),E.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},e.awrap=function(e){return{__await:e}},R(A.prototype),l(A.prototype,c,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new A(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(T),l(T,s,"Generator"),l(T,i,(function(){return this})),l(T,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=M,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,_):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),_}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(t));var n,r=({dispatch:e,getState:t})=>r=>o=>"function"==typeof o?o(e,t,n):r(o);let o=(e=21)=>{let t="",n=e;for(;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t};function a(){const e={};function t(e,t=!1){1===arguments.length&&!0===arguments[0]&&(t=!0),e=Number.isInteger(e)&&e>0?e:10;const n=(!0===t?((e,t=21)=>(n=t)=>{let r="",o=n;for(;o--;)r+=e[Math.random()*e.length|0];return r})("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",3*e):o.bind(null,3*e))();return n.replace(/_/g,"-").replace(/(^[-\d]+?|-+?$)/g,"").slice(0,e)}return(a=function(){let n=t();for(;n in e&&(n=t()););return e[n]=1,n})()}const i=a(),c=a(),s=a(),l=a(),u=a(),d=a(),m=a(),p=a(),f=a(),h=a(),_=a(),b=a(),E=a(),y=a(),g=a(),C=a();function v(){}function T(e){return e}function R(e){return function(){return e}}function A(e){return"string"==typeof e}function O(e){return"boolean"==typeof e}function I(e){return"function"==typeof e}function S(e){return"[object Object]"===Object.prototype.toString.call(e)}function N(e,t,n=!1){return Object.defineProperties(e,S(t)?Object.keys(t).reduce(((e,r)=>(e[r]={enumerable:!0,writable:!0===n,value:t[r]},e)),{}):{})}function w(e,t){const{getter:n,setter:r,extendable:o=arguments[2]}=I(t)?t.length?{setter:t}:{getter:t}:S(t)?t:{};Object.defineProperty(this,e,{enumerable:!0,configurable:!0===o,get:I(n)?n.bind(this):v,set:I(r)?r.bind(this):v})}function M(e,t){return I(e)?e:I(t)?t:v}function $(e,t){return e instanceof RegExp&&t&&e.test(String(t).trim())&&t.trim()||null}function D(e,t=!0){return[!0,"true",1,"1"].indexOf(e)>=0||!([!1,"false",0,"0"].indexOf(e)>=0)&&!0===D(t)}function k(e,t){t=(t?String(t):String()).replace(/\[((?:['"])?)([^[\]]*)\1\]/g,(function(e,t,n){return`.${Number(n)||String(n)}`})).split(/\.+/).filter(Boolean);let n=e;for(const e of t)try{if(n=(n instanceof Object||S(n))&&e in n?n[e]:n[n instanceof Array?Number(e):e],void 0===n)break}catch(e){n=void 0;break}return n}function L(e,t=!0){const n=this||Object.create(null);if(S(e)){const t=w.bind(n);Object.keys(e).forEach((n=>{t(n,e[n])}))}return!1===t||n===this?n:Object.freeze(n)}function P(e,t=!0){function n(e){let t;const n=this;function r(e){t=e}return arguments.length&&(A(e)||"symbol"==typeof e)&&S(n)&&(r=function(r){t!==r&&(n[e]instanceof Array&&n[e].forEach((function(e){I(e)&&e(r,t)})),t=r)}),{getter:function(){return t},setter:r}}return P=function(e,t=!0){const r=S(e);return L.call(this,[].concat(r?Object.keys(e):e).reduce(((t,o)=>((A(o)||"symbol"==typeof o)&&(t[o]=r?n.call(e,o):n()),t)),{}),t)},P(e,t)}function j(e){return[].concat(e).filter(Boolean)}function x(e,t){return(e=j(e)).concat(e.indexOf(t)<0?t:[])}function U(e,t){let n=(e=j(e)).indexOf(t);return n=~n?n:e.length,e.slice(0,n).concat(e.slice(n+1))}function V(e,t=30,n=30){try{const r=new URL(e),o={...Object.fromEntries(new URLSearchParams(r.search)),width:parseFloat(t),height:parseFloat(n),resize:1,fit:"crop",align:"center"};return function(e="",t={}){let n=e;return t&&Object.keys(t).length>0&&(n+="?"+function(e){const t=[];for(const n in e)void 0!==e[n]&&e.hasOwnProperty(n)&&t.push(n+"="+e[n]);return t.join("&")}(t)),n}(r.origin+r.pathname,o)}catch{return e}}function F(){const e=Object.create(null);return N(e,{NAME:"dcc",Reducer:function(e=null,t){const n=S(t.payload)?t.payload:{};if(t.type===f){const{dcc:e}=n;return e||null}return e}}),F=e}const B=function(){const e=2147483647,t=-2147483648;function n(e){return(1<<e)-1}function r(e,t){return t?e&n(t):e}return{MAX_NUMBER:e,MIN_NUMBER:t,clamp:function(e,t){return Math.min(e,n(t))},difference:function(e,t,n){return r(e,n)^r(t,n)},maxima:n,overflows:function(e,t){return e!==r(e,t)},size:function(n){return n>=t&&n<=e?n>=0?Math.ceil(Math.log2(n+1)):31:null},truncate:r}}();function H(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var G=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),z=()=>Math.random().toString(36).substring(7).split("").join("."),W={INIT:`@@redux/INIT${z()}`,REPLACE:`@@redux/REPLACE${z()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${z()}`};function K(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const o=t[r];"function"==typeof e[o]&&(n[o]=e[o])}const r=Object.keys(n);let o;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if(void 0===n(void 0,{type:W.INIT}))throw new Error(H(12));if(void 0===n(void 0,{type:W.PROBE_UNKNOWN_ACTION()}))throw new Error(H(13))}))}(n)}catch(e){o=e}return function(e={},t){if(o)throw o;let a=!1;const i={};for(let o=0;o<r.length;o++){const c=r[o],s=n[c],l=e[c],u=s(l,t);if(void 0===u)throw t&&t.type,new Error(H(14));i[c]=u,a=a||u!==l}return a=a||r.length!==Object.keys(e).length,a?i:e}}function q(e,t){return function(...n){return t(e.apply(this,n))}}function Y(e,t){if("function"==typeof e)return q(e,t);if("object"!=typeof e||null===e)throw new Error(H(16));const n={};for(const r in e){const o=e[r];"function"==typeof o&&(n[r]=q(o,t))}return n}const Z=L({localStorage:function(){try{if("localStorage"in self){let e;const t="1",n=`___${Date.now()}${String(1e5*Math.random()).split(".")[1]}___`;return localStorage.setItem(n,t),e=localStorage.getItem(n),localStorage.removeItem(n),e===t}}catch(e){}return!1},matchMedia:function(){return"matchMedia"in self},performance:function(){return"performance"in self&&I(performance.now)},worker:function(){return"Worker"in self}});const Q=["no-preference","light","dark"],J=L({browser:function(){const e=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,t="undefined"!=typeof InstallTrigger,n=/constructor/i.test(window.HTMLElement)||(i=!window.safari||n.pushNotification,"[object SafariRemoteNotification]"===i.toString()),r=!!document.documentMode,o=!r&&!!window.StyleMedia,a=!!window.chrome&&!!window.chrome.webstore;var i;return withProperties(Object.create(null),{chrome:a,edge:o,firefox:t,ie:r,opera:e,safari:n})},cookies:X,darkMode:function(){return"dark"===ee()},isMobile:function(){return e=navigator.userAgent||navigator.vendor||window.opera,/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4));var e},thirdPartyCookies:function(){return X()&&Z.localStorage}});function X(){return"navigator"in self&&navigator.cookieEnabled}function ee(){if(Z.matchMedia)for(let e of Q){if(matchMedia(`(prefers-color-scheme: ${e})`).matches)return"no-preference"!==e?e:null}return null}const te={darkMode:!1,overrideSystem:!1};let ne,re=0;function oe(){const e=Object.create(null),{dispatch:t}=this;function n(){return B.truncate(re,2)}function r(e){re=B.truncate(e,2)}function o(){return!!(1&n())}function a(){return t=>{const{overrideSystem:n}=e.STATE;n?I(ne)&&ne((()=>{ne=void 0})):I(ne)||(ne=function(e){if(Z.matchMedia){let t,n,r,o,a;function i(e){e.matches||c(s)}function c(e){r(i),I(e)&&e()}function s(){const c=t;t=ee()||"no-preference",a=matchMedia(`(prefers-color-scheme: ${t})`),void 0===o&&(o=I(a.addEventListener)),o?(n=a.addEventListener.bind(a,"change"),r=a.removeEventListener.bind(a,"change")):(n=a.addListener.bind(a),r=a.removeListener.bind(a)),n(i),void 0!==c&&e(t,c)}return e=M(e),s(),c}}((e=>{t({type:_,payload:{dark:"dark"===e}})})))}}function i(t){return o=>{const{darkMode:a,overrideSystem:i}=e.STATE;i&&(t=!0===t)!==a&&(o({type:_,payload:{dark:t}}),r(1^n()))}}function c(t){return o=>{const{overrideSystem:i}=e.STATE;(t=!0===t)!==i&&(o({type:b,payload:{override:t}}),r(2^n()),o(a()))}}return N(e,{NAME:"color",Reducer:function(e=te,t){const n=S(t.payload)?t.payload:{};switch(t.type){case _:{let{dark:t}=n;const{darkMode:r}=e;return(t=!0===t)!==r?{...e,darkMode:t}:e}case b:{let{override:t}=n;const{overrideSystem:r}=e;return(t=!0===t)!==r?{darkMode:t?o():J.darkMode,overrideSystem:t}:e}default:return e}},actions:N(Object.create(null),{updateDarkMode:i,updateOverrideSystem:c}),exposedActions:N(Object.create(null),{AutoColorMode:Y({on:function(){return e=>{e(c(!1))}},off:function(){return e=>{e(c(!0))}}},t),DarkMode:Y({on:function(){return e=>{e(i(!0))}},off:function(){return e=>{e(i(!1))}}},t)})}),setTimeout((()=>{const e=!!(2&n());t({type:b,payload:{override:e}}),t({type:_,payload:{dark:e?o():J.darkMode}}),t(a())}),0),oe=e}function ae(){const e=Object.create(null);let t=0;return N(e,{NAME:"error",Reducer:function(e=null,t){const n=S(t.payload)?t.payload:{};if(t.type===h){const{error:e}=n;return(A(e)?e.trim():"")||null}return e},actions:N(Object.create(null),{updateErrorMessage:function(e,n){return(r,o)=>{const a=k(o(),"error");((A(e)?e.trim():"")||null)!==a&&(n=arguments.length>1?isNaN(n=Number(n))?1/0:Math.round(1e3*Math.max(n,10)):1/0,t&&(clearTimeout(t),t=0),r({type:h,payload:{error:e}}),n!==1/0&&(t=setTimeout((()=>{clearTimeout(t),t=0,r({type:h})}),n)))}}})}),ae=e}function ie(){const e=Object.create(null),{data:t}=this;return N(e,{NAME:"amount",Reducer:function(e=k(t,"amount")||null,n){const r=S(n.payload)?n.payload:{};if(n.type===p){const{amount:t}=r;return+t||e}return e},actions:N(Object.create(null),{updateChargeAmount:function(e){return t=>{t({type:p,payload:{amount:k(e,"charge_amount")||e}}),t({type:f,payload:{dcc:k(e,"dcc")}})}}})}),ie=e}function ce(e){e=S(e)?e:{};return N(Object.create(null),Object.keys(e).reduce(((t,n)=>{const r=e[n];return t[n]=R(null==r?null:r),t}),{}))}function se(){const e=Object.create(null),{data:t}=this,n={new_amount:k(t,"new_amount"),is_discounted:k(t,"is_discounted"),discount:k(t,"discount"),discounted_value:k(t,"discounted_value"),discount_type:k(t,"discount_type")};let r;k(t,"campaign")&&(r={...k(t,"campaign"),...n});return N(e,{NAME:"campaign",Reducer:K({...ce({...r})})}),se=e}
/**
  * @vue/shared v3.5.12
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **/const le=Object.prototype.toString,ue=e=>{return"[object Object]"===(t=e,le.call(t));var t},de=Object.freeze(function(){try{return new DOMException("Aborted","AbortError")}catch(e){return pe("Aborted","AbortError")}}()),me=Object.freeze(pe("Timeout","TimeoutError"));function pe(e,t){const n=new Error(e);return n.name=t,n}function fe(){}function he(e){return function(){return e}}function _e(e){return e&&"function"==typeof e}function be(e){return e&&"object"==typeof e&&_e(e.then)&&e instanceof Promise}function Ee(e){return e&&"[object Object]"===Object.prototype.toString.call(e)}function ye(e){return Ee(e)&&0===Object.getOwnPropertyNames(e).length}function ge(e){return e&&"object"==typeof e&&_e(e.clone)&&e instanceof Response}function Ce(e){return e&&"object"==typeof e&&"boolean"==typeof e.aborted&&e instanceof AbortSignal}function ve(e){return Ce(e)&&e.aborted}function Te(e,t=!1){return t=!0===t,Object.defineProperties(this,Object.keys(e).reduce(((n,r)=>(n[r]={writable:t,value:e[r]},n)),Object.create(null)))}const Re=Object.freeze(new Promise(fe)),Ae=Object.freeze(Promise.reject.bind(Promise)),Oe=Object.freeze(Promise.resolve.bind(Promise));function Ie(){const e=new AbortController,{signal:t}=e;return{signal:t,abort:e.abort.bind(e)}}function Se(e){return Ce(e)&&!ve(e)?new Promise(((t,n)=>{e.addEventListener("abort",(()=>n(de)))})):Re}const Ne=1e4,we=["cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal"];const Me="RF-OPTRY",$e=Object.freeze(he(0)),De=Le((function(e){return 10*Pe(e)})),ke=Le((function(e){return 10*(1<<Math.max(e>>2,10))}));function Le(e){return e=_e(e)?e:$e,Object.freeze((function(t){let n;return e!==$e&&void 0!==e[Me]&&(n=e[Me]),t=Math.min(Math.max(0,t),10)||1,function(r){const o=(r=Math.max(0,Math.min(r,1/0))||0)>=n?Ne:Math.min(e(r),Ne);if(o>=Ne&&void 0===n)try{e!==$e&&Object.defineProperty(e,Me,{value:r})}finally{n=r}return o*t}}))}function Pe(e){const t=[];return Pe=function e(n){switch(!0){case n>0&&t[n]:return t[n];case n<=0:return t[n]=0;case n<=2:return t[n]=1;default:return t[n]=e(n-1)+e(n-2)}},Pe(e)}function je(e,t=()=>Ae(me)){let n=0;const{signal:r,abort:o}=Ie(),a=ve(r)?i(Ae):new Promise(((o,a)=>{n=setTimeout((()=>{i((()=>{o(_e(t)?t():t)}))}),e),r.addEventListener("abort",(()=>{i(a)}))}));return Object.defineProperty(a,"clear",{value:o});function i(e){return n&&clearTimeout(n),n=0,(i=function(e){return _e(e)&&e()})(e)}}function xe(e,t=0){return e=Math.max(0,e=+parseFloat(e)),e=Number.isFinite(e)?e:+parseFloat(t),Number.isFinite(e)?e:0}const Ue=Object.freeze(["delay","init","limit","many","one","retry","timeout"].reduce(((e,t)=>(e[t]=function(e,t=!1){return e=`$${e}`,{[!0===t?"get":"value"]:function(...t){try{if(_e(Object.getPrototypeOf(this.$context)[e])){const n=this.$context.$$clone()[e](...t);return Be.call(n)}}catch(e){}return this}}}(t,["many","one"].indexOf(t)>=0),e)),{})),Ve=Object.freeze(Te.call(Object.create(null),{$delay(e){if(!_e(e))if(0===(e=xe(e)))e=$e;else e=he(e);return _e(e)&&e!==this.retryDelaySequence&&(this.retryDelaySequence=e),this},$init(e){const{headers:t,...n}=Ee(e)?e:{},r=Object.keys(n).reduce(((e,t)=>{if(we.indexOf(t)>=0){const r=n[t];void 0!==r&&e.push(function(e,t){return we.indexOf(e)>=0&&"headers"!==e&&arguments.length>1?function(n){Ee(n)&&!Object.hasOwnProperty(n,e)&&(n[e]=t)}:fe}(t,r))}return e}),[]);return void 0!==t&&r.push(function(e){return Ee(e)&&!ye(e)&&(e=new Headers(e)),e instanceof Headers?function(t){if(Ee(t)){let n=t.headers;n=new Headers(Ee(n)?n:{}),n instanceof Headers&&(e.forEach(((e,t)=>{try{n.has(t)||n.set(t,e)}catch(e){}})),t.headers=n)}}:fe}(t)),this.initResolvers=r,this},$limit(e){return e=0==(e=+e)?0:Math.max(0,e),Number.isInteger(e)&&this.limit!==(e=0===e?1/0:e)&&(this.limit=e),this},$many(){return!1===this.multiple&&(this.multiple=!0),this},$one(){return!0===this.multiple&&(this.multiple=!1),this},$retry(...e){const t=(e=e.filter(_e)).length;return(t||0===t&&t!==this.retryPredicates.length)&&(this.retryPredicates=e),this},$timeout(e){return e=0==(e=+e)?0:Math.max(50,Math.min(e,1e5)),Number.isFinite(e)&&this.timeout!==e&&(this.timeout=e),this},$$clone(){return Fe.call(this)}}));function Fe(){const e=this,t=Ee(e)&&Object.getPrototypeOf(e)===Ve;return Te.call(Object.create(Ve),{limit:t?e.limit:1,timeout:t?e.timeout:0,multiple:!t||e.multiple,initResolvers:[...t?e.initResolvers:[]],retryPredicates:[...t?e.retryPredicates:[]],retryDelaySequence:t?e.retryDelaySequence:$e},!0)}function Be(){let e,t;const n=this,r=n.timeout>0,o=!0!==n.multiple;function a(){({abort:e,signal:t}=Ie()),t.addEventListener("abort",a)}function i(e,r){e=_e(e)?e:noop,r=[].concat(r).filter(be);let o=0;return function(a){return function(e){return Promise.all(n.retryPredicates.map((t=>Oe(t(ge(e)?e.clone():e)).then(Boolean,(()=>!1))))).then((e=>e.reduce(((e,t)=>e||t),!1)))}(a).then((i=>i&&++o<n.limit&&a!==de?new Promise(((a,i)=>{const c=je(xe(n.retryDelaySequence(o)),e);Promise.race([c,Se(t),...r]).catch((e=>(e===de&&_e(c.clear)&&c.clear(),Ae(e)))).then(a,i)})):(ge(a)?Oe:Ae)(a)))}}function c(...c){o&&e();const[s,l]=c,{signal:u,...d}=function(e){return e=Ee(e)?e:{},n.initResolvers.forEach((t=>t(e))),e}(l),m=Se(u),p=i(f,[m]);return f();function f(){if(ve(u))return Ae(de);ve(t)&&a();const e=Ie(),o=r?je(n.timeout):Re;return Promise.race([o,Se(t),m,fetch(s,{...d,signal:e.signal})]).catch((t=>((t===de||t===me)&&e.abort(),Ae(t)))).finally((()=>{r&&_e(o.clear)&&o.clear()})).then(p,p)}}return a(),Object.defineProperties(Object.defineProperty(c,"abort",{enumerable:!0,get:()=>e}),Ue),Object.defineProperty(c,"$context",{value:Object.freeze(n)})}function He(){return Be.call(Fe())}const Ge=Object.freeze((function(e){return!ge(e)})),ze=Object.freeze((function(e){return!(ge(e)||e===de||e===me)})),We=Object.freeze((function(e){return e===me}));Object.defineProperties(He,["delay","init","limit","many","one","retry","timeout"].reduce((function(e,t){return e[t]={get:()=>He()[t]},e}),{})),Te.call(He,{ABORT_ERROR:de,TIMEOUT_ERROR:me,FibonacciDelay:De,ProgressiveDelay:ke,RetryOnError:Ge,RetryOnNetworkError:ze,RetryOnTimeout:We});const Ke=/^[a-z]{2}$/i,qe=/^[^\s@]+@[^\s@]+\.[^\s@]+$/i,Ye=/^flwpubk(?:_test)?-[\da-f]{32}-x$/i,Ze=/^[\da-f]{32}(?:[\da-f]{8}(?:[\da-f]{24})?)?$/i,Qe=/((?:\*\d+)(?:\*\d+(?:\+\d+)*)+#)(?:\|(\d+))?/,Je=/^(?:(?:[1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(?:[1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])$/,Xe={AED:1,ALL:1,ARS:1,AUD:1,BGN:1,BHD:1,BIF:5,BND:1,BRL:1,BWP:1,CAD:1,CDF:1,CFA:1,CHF:1,CLP:5,CNY:1,COP:1,CRC:1,CVE:1,CZK:1,DJF:4,DKK:1,DOP:1,DZD:1,EGP:1,ETB:1,EUR:3,GBP:3,GHS:1,GMD:1,GNF:5,GTQ:1,HKD:1,HNL:1,HUF:1,IDR:1,ILS:1,INR:1,IQD:1,ISK:5,JOD:1,JPY:5,KES:1,KHR:1,KMF:4,KRW:5,KWD:1,LBP:1,LKR:1,LRD:1,LYD:1,MAD:1,MOP:1,MUR:1,MWK:1,MXN:1,MYR:1,MZN:1,NGN:3,NOK:1,NZD:1,OMR:1,PAB:1,PEN:1,PHP:1,PLN:1,PYG:5,QAR:1,RUB:1,RWF:5,SAR:1,SDD:1,SEK:1,SGD:1,SLL:1,STD:1,SVC:1,SYP:1,THB:1,TND:5,TRY:1,TWD:1,TZS:1,UGX:5,USD:3,UYI:4,VEF:1,VND:5,VUV:4,XAF:5,XOF:5,XPF:4,YER:1,ZAR:3,ZMK:1,ZMW:1,ZWD:1},et=/^\s*[a-z]{3}\s*$/i,tt="CurrencyValidationError",nt=ct("ERR_EMPTY_CURRENCY"),rt=ct("ERR_ABNORMAL_CURRENCY"),ot=ct("ERR_UNSUPPORTED_CURRENCY"),at=function(){function e(e){const t=ut(e),n=lt(e),r=t?n:"XXX",o=Xe[r]||0;Object.defineProperties(this,{isEmpty:{value:R(!n)},isCurrencyLike:{value:R(t)},toString:{value:R(r)},valueOf:{value:R(o)}})}return Object.defineProperties(e.prototype,{test:{value:function(e){return!!this.isCurrencyLike()&&(this&(e=Number.isInteger(e)?7&Math.max(e,0):0))===e}}}),function(t){return new e(t)}}(),it=function(){const{supported:e,rounded:t,dcc:n}=st();return Object.freeze(N(Object.create(null),{DCC:n,ROUNDED:t,SUPPORTED:e,NONE:"XXX",VALIDATION_ERR:tt,FLAG_DCC:2,FLAG_ROUNDED:4,FLAG_SUPPORTED:1,from:at,validate:ft,defaultValidate:ht,isCurrencyLike:ut,isSupported:dt,isDCCTarget:mt,usesRoundedAmount:pt}))}();function ct(e){const t=new TypeError((n=e,A(n)&&(n=n.toLowerCase().trim())?n.replace(/[^a-z0-9_]+/g,"_").replace(/^_+|_+(?=_)|_+$/g,""):String()).toUpperCase()||void 0);var n;return t.name=tt,Object.freeze(t)}function st(){const e=[],t=[],n=[];return Object.keys(Xe).forEach((function(r){const o=Xe[r=lt(r)]||0;o&&(1&o&&e.push(r),2&o&&n.push(r),4&o&&t.push(r))})),(st=R({supported:Object.freeze(e),rounded:Object.freeze(t),dcc:Object.freeze(n)}))()}function lt(e){return A(e)?e.trim().toUpperCase():""}function ut(e){return et.test(String(e))}function dt(e){return at(e).test(1)}function mt(e,t){return at(e).test(2|(!0===t&&1))}function pt(e,t){return at(e).test(4|(!0===t&&1))}function ft(e,t){const n=t;let r;({currency:e,support:r,silent:t}=S(e)?e:{currency:e}),e=at(e),t=O(n)?n:!0===t,r=!1!==r&&(7&r||1);try{if(e.isEmpty())throw nt;if(!e.isCurrencyLike())throw rt;if(r&&!e.test(r))throw ot;return!!t||String.call(null,e)}catch(e){if(t)return!1;throw e}}function ht(e,t){try{return ft(e,t)}catch(e){switch(e){case nt:e="Currency not provided or could not be resolved.";break;case rt:e="Currency not provided in three-letter code format.";break;case ot:e="Currency not supported for payments at this time."}if(A(e)){const t=new TypeError(e);throw t.name=tt,t}throw new Error("Currency validation failed.")}}const _t=256,bt=1024,Et=1536,yt=2048,gt=4096,Ct={amount:10241,campaign_id:0,country:64,currency:129,customer_email:3,customer_firstname:0,customer_fullname:0,customer_lastname:0,customer_phone:4,custom_description:0,custom_logo:8,custom_narration:0,custom_title:0,default_account:0,disable_pwb:_t,exclude_banks:5120,custom_pwbt_expiry:Et,include_discount_amount:768,init_url:8,integrity_hash:32,checkout_hash:32,payload_hash:32,is_event_tx:bt,mobilemoney_network:0,payment_method:0,payment_options:gt,payment_page:0,payment_plan:yt,PBFPubKey:17,recurring_stop:0,redirect_no_json:_t,redirect_post:_t,redirect_url:8,settlement_token:0,txref:1,custom_session_duration:Et,custom_retry:yt},vt=function e(t,n){const r=A(n)&&n.trim()||null,o=At.bind((this.value=r||n,this));if(t)try{if(1&t&&null===r)throw new TypeError("Missing parameter value.");if(t&Et&&null!==r)try{const e=Number(parseFloat(r));if(isNaN(e)&&(e<60||e>31536e3))throw"DURATION_ERR";return e}catch(e){throw o("valid expiration period value")}if(t&gt){const n=e.bind(Object.create(null),t^gt);return Object.freeze([].concat(r.split(/\s*,\s*/)).filter(Boolean).map(n))}if(2&t)try{return $(qe,r).toLowerCase()}catch(e){throw o("valid email")}if(8&t)try{return new URL(decodeURIComponent(r)).href}catch(e){throw o("valid url")}if(16&t)try{return $(Ye,r).toUpperCase().replace(/-[\da-f]{32}-/gi,I(a=String.prototype.toLowerCase)?Function.prototype.call.bind(a):a)}catch(e){throw o("valid public key")}if(32&t)try{return $(Ze,r).toLowerCase()}catch(e){throw o("valid checksum value")}if(64&t)try{return $(Ke,r).toUpperCase()}catch(e){throw o("2-character country-like code")}if(128&t)return it.defaultValidate(r);if(t&_t)return D(r,!!(512&t));if(t&bt)try{return $(/^[+-]?\d+(?:\.\d+)?$/,r).slice()}catch(e){throw o("valid numeric value")}if(8192&t)try{const e=Number(parseFloat(r));if(isNaN(e)||e<=0)throw"AMOUNT_ERR";return e}catch(e){throw o("amount")}if(t&yt)try{const e=Number(parseInt(r));if(isNaN(e)||e<=0)throw"NUMBER_ERR";return e}catch(e){throw o("number")}return r}catch(e){if(1&t)throw e;return null}var a;return r}.bind(Object.create(null)),Tt=function(){const e=(t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Object.freeze(Object.create(null,{encode:{value:function(e){return function(e){for(var n,r,o,a,i="",c=0,s=(e=String(e)).length%3;c<e.length;){if((r=e.charCodeAt(c++))>255||(o=e.charCodeAt(c++))>255||(a=e.charCodeAt(c++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");i+=t.charAt((n=r<<16|o<<8|a)>>18&63)+t.charAt(n>>12&63)+t.charAt(n>>6&63)+t.charAt(63&n)}return s?i.slice(0,s-3)+"===".substring(s):i}(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}},decode:{value:function(e){return decodeURIComponent(escape(function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!n.test(e))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");e+="==".slice(2-(3&e.length));for(var r,o,a,i="",c=0;c<e.length;)r=t.indexOf(e.charAt(c++))<<18|t.indexOf(e.charAt(c++))<<12|(o=t.indexOf(e.charAt(c++)))<<6|(a=t.indexOf(e.charAt(c++))),i+=64===o?String.fromCharCode(r>>16&255):64===a?String.fromCharCode(r>>16&255,r>>8&255):String.fromCharCode(r>>16&255,r>>8&255,255&r);return i}(e)))}}})));var t,n;return function(){let t;try{t=e.decode(new URLSearchParams(window.location.search).get("__").replace(/\s/g,"+")).replace(/([+])/g,((e,t)=>encodeURIComponent(t)))}catch(e){t=new URLSearchParams(window.location.search.replace(/([+])/g,((e,t)=>encodeURIComponent(t))))}return new URLSearchParams(t)}}(),Rt=function(){const e=Object.create(null),t=Object.create(null),n=Tt(),r=[...n.keys()],o=Object.fromEntries([...n.entries()].sort((function([e],[t]){return(e=e.toLowerCase())>(t=t.toLowerCase())?1:e<t?-1:0})));for(const o in Ct){let a=String();const i=RegExp(`^${o}$`,"i"),c=r.findIndex(i.test.bind(i));c>=0&&(a=n.get(r[c])||a,r.splice(c,1));try{t[o]=Ot(o,a)}catch(t){e[o]=t.message}}return Object.freeze(N(Object.create(null),{get(...e){if(!e.every(A))throw new TypeError("Expects parameter name to be a string.");const n=e.reduce((function(e,n){return e[n]=t[n],e}),Object.create(null));return 1===e.length?n[e[0]]:n},getError(){let t,n;for(const r of Object.keys(e))if(t=e[n=r])break;let r=t&&t.replace(/(?:(parameter) value\.\s*)((?:.*?(?=, but got))?).*$/,((e,t,r)=>`${t}(\`${n}\`): Kindly terminate this session and reconfirm the data.`));const o=r.includes(":")?r.split(":"):r;return o[1].includes("Kindly terminate")&&(o[0].includes("Missing")?r=`init.missing.parameter.${n}`:o[0].includes("Invalid")&&(r=`init.invalid.parameter.${n}`)),r},hasErrors:()=>!ye(e),raw:Object.freeze(o),parsed:Object.freeze(t)}))}();function At(e){return e=`${["a","e","i","o","u"].indexOf(String(e)[0])>=0?"an":"a"} ${e}`,new TypeError(`Invalid parameter value. Expected ${e}, but got ${""===this.value?"nothing":`"${this.value}" instead`}.`)}function Ot(e,t){return vt(e in Ct?Ct[e]:0,t)}function It(...e){const t={};for(const n of e){const[e,r=e]=String(n).split("::");e&&(t[e]=r)}const n=Rt.get(...Object.keys(t));return 1===Object.keys(t).length?n:Object.keys(n).reduce((function(e,r){return e[t[r]]=n[r],e}),{})}const St=Function.prototype.call.bind(Object.prototype.toString);function Nt(e){return"object"==typeof e&&"[object Object]"===St(e)}function wt(e,t){if(e&&"object"==typeof e){let n;for(const[r,o]of Object.entries(e))r===t&&(n=o);return n}}(()=>{let e=null,t=!1;const n=["BANK_TRANSFER_INIT_VIEW","NQR_INIT_VIEW","BANK_INIT_VIEW","GOOGLEPAY_INIT_VIEW","APPLEPAY_INIT_VIEW","OPAY_INIT_VIEW"],r=n=>{!0!==t&&(t=!0),e=n};addEventListener("on:CurrentViewChange",(({detail:e})=>{setTimeout(r,0,e)}))})();const Mt=he(null),$t={method:"POST",headers:{"Content-Type":"application/json"}},Dt=[function(e){return ge(e)&&!(Lt(e)&&e.ok)},He.RetryOnNetworkError,He.RetryOnTimeout],kt=5e3;function Lt(e){if(ge(e))try{const t=e.headers.get("content-type");return/\bapplication\/json\b/i.test(t)}catch(e){}return!1}function Pt(e){const t=Object.getOwnPropertyDescriptors(e);return Object.defineProperties(((t,n)=>{const r=Nt(n)?n:{},o=k(js.getState(),"locale")||Or(Rt.get("currency"));return e(t,{...r,headers:{"x-flw-lang":o.toUpperCase()}})}),t)}let jt,xt;const Ut=function(){const e=new Error("INITIALIZATION_FAILED");return e.name="ERR_INITIALIZATION_FAILURE",Object.freeze(e)}(),Vt=Pt(He.one.limit(5).init($t).retry(...Dt).timeout(1e4)),Ft=["card","paypal","applepay","googlepay","ussd","account","banktransfer","internetbanking","enaira","mobilemoneyfranco","mobilemoneyghana","mobilemoneymalawi","mobilemoneyrwanda","mobilemoneytanzania","mobilemoneyuganda","mobilemoneyzambia","mpesa","1voucher","qr","barter","opay","bankreference","fawrypay","payattitude","paga","nqr","credit","wechat","cryptocurrency","mcash","alipay"];function Bt(){return jt?Promise.resolve(jt):(Rt.hasErrors()?new Promise(((e,t)=>{setTimeout(t,100)})):Vt("https://api.ravepay.co/v3/checkout/initialize",{body:JSON.stringify({...It("amount","country","currency","customer_email","disable_pwb","init_url","integrity_hash","checkout_hash","payload_hash","payment_plan","payment_method","payment_options","PBFPubKey::public_key","txref::tx_ref"),last_used_payment_option:Z.localStorage?localStorage.getItem("lastUsedOption"):null,payment_options_sequence:`${Ft}`})}).then((e=>(xt=null,Lt(e)?e.json().then((e=>{try{if("error"===e.status)return xt=e.message||null,Promise.reject(Ut)}catch(e){}if(S(e)&&S(e.data)){const t={...e.data};for(const e in t.payment_options){const n=t.payment_options[e];Array.isArray(n)&&["mobilemoneyxaf","mobilemoneyxof"].forEach((r=>{const o=n.indexOf(r);-1!==o&&(t.payment_options[e][o]="mobilemoneyfranco")}))}const n=t,r="custom_retry"in Rt.raw?Rt.get("custom_retry")||0:null;return null!==r&&Z.localStorage&&localStorage.setItem("retryAttempts",btoa(String(100*Math.round(Number(r))))),Object.defineProperty(n,"get",{value(e){const t=k(n,e);return void 0===t?null:t}}),jt=n}return Promise.reject(Ut)})):Promise.reject(Ut))))).catch((()=>{let e=xt||"Initialization failed";return e&&(e=e.replace(/\.?\s*?$/,"").trim())&&setTimeout((()=>{let t=`${e}: Kindly terminate this session and try again.`;if("Initialization failed"===e)t="init.generic.notice";Rt.hasErrors()||js.dispatch(ae.actions.updateErrorMessage(t))}),100),jt=Object.create(null,{get:{value:()=>null}})}))}var Ht=function(){return Ht=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ht.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Gt={default:"endpoint"},zt="Blocked by CSP",Wt="The endpoint parameter is not a valid URL",Kt="Failed to load the JS script of the agent",qt="9319";function Yt(e,t){var n,r,o,a,i,c=[],s=(n=function(e){var t=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],e,!0);return{current:function(){return t[0]},postpone:function(){var e=t.shift();void 0!==e&&t.push(e)},exclude:function(){t.shift()}}}(e),a=0,r=function(){return Math.random()*Math.min(3e3,100*Math.pow(2,a++))},o=new Set,[n.current(),function(e,t){var a,i=t instanceof Error?t.message:"";if(i===zt||i===Wt)n.exclude(),a=0;else if(i===qt)n.exclude();else if(i===Kt){var c=Date.now()-e.getTime()<50,s=n.current();s&&c&&!o.has(s)&&(o.add(s),a=0),n.postpone()}else n.postpone();var l=n.current();return void 0===l?void 0:[l,null!=a?a:e.getTime()+r()-Date.now()]}]),l=s[0],u=s[1];if(void 0===l)return Promise.reject(new TypeError("The list of script URL patterns is empty"));var d=function(e){var n=new Date,r=function(t){return c.push({url:e,startedAt:n,finishedAt:new Date,error:t})},o=t(e);return o.then((function(){return r()}),r),o.catch((function(e){if(null!=i||(i=e),c.length>=5)throw i;var t=u(n,e);if(!t)throw i;var r,o=t[0],a=t[1];return(r=a,new Promise((function(e){return setTimeout(e,r)}))).then((function(){return d(o)}))}))};return d(l).then((function(e){return[e,c]}))}var Zt="https://fpnpmcdn.net/v<version>/<apiKey>/loader_v<loaderVersion>.js",Qt=Zt;function Jt(e){var t;e.scriptUrlPattern;var n=e.token,r=e.apiKey,o=void 0===r?n:r,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["scriptUrlPattern","token","apiKey"]),i=null!==(t=function(e,t){return function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,t)?e[t]:void 0}(e,"scriptUrlPattern"))&&void 0!==t?t:Zt,c=function(){var e=[],t=function(){e.push({time:new Date,state:document.visibilityState})},n=function(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}(document,"visibilitychange",t);return t(),[e,n]}(),s=c[0],l=c[1];return Promise.resolve().then((function(){if(!o||"string"!=typeof o)throw new Error("API key required");return Yt(function(e,t){return(Array.isArray(e)?e:[e]).map((function(e){return function(e,t){var n=encodeURIComponent;return e.replace(/<[^<>]+>/g,(function(e){return"<version>"===e?"3":"<apiKey>"===e?n(t):"<loaderVersion>"===e?n("3.11.10"):e}))}(String(e),t)}))}(i,o),Xt)})).catch((function(e){throw l(),function(e){return e instanceof Error&&e.message===qt?new Error(Kt):e}(e)})).then((function(e){var t=e[0],n=e[1];return l(),t.load(Ht(Ht({},a),{ldi:{attempts:n,visibilityStates:s}}))}))}function Xt(e){return function(e,t,n,r){var o,a=document,i="securitypolicyviolation",c=function(t){var n=new URL(e,location.href),r=t.blockedURI;r!==n.href&&r!==n.protocol.slice(0,-1)&&r!==n.origin||(o=t,s())};a.addEventListener(i,c);var s=function(){return a.removeEventListener(i,c)};return null==r||r.then(s,s),Promise.resolve().then(t).then((function(e){return s(),e}),(function(e){return new Promise((function(e){var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(null)})).then((function(){if(s(),o)return n(o);throw e}))}))}(e,(function(){return function(e){return new Promise((function(t,n){if(function(e){if(URL.prototype)try{return new URL(e,location.href),!1}catch(e){if(e instanceof Error&&"TypeError"===e.name)return!0;throw e}}(e))throw new Error(Wt);var r=document.createElement("script"),o=function(){var e;return null===(e=r.parentNode)||void 0===e?void 0:e.removeChild(r)},a=document.head||document.getElementsByTagName("head")[0];r.onload=function(){o(),t()},r.onerror=function(){o(),n(new Error(Kt))},r.async=!0,r.src=e,a.appendChild(r)}))}(e)}),(function(){throw new Error(zt)})).then(en)}function en(){var e=window,t="__fpjs_p_l_b",n=e[t];if(function(e,t){var n,r=null===(n=Object.getOwnPropertyDescriptor)||void 0===n?void 0:n.call(Object,e,t);(null==r?void 0:r.configurable)?delete e[t]:r&&!r.writable||(e[t]=void 0)}(e,t),"function"!=typeof(null==n?void 0:n.load))throw new Error(qt);return n}let tn,nn=!1;let rn=null;async function on(){if(rn)return rn;const e=await async function(){if(nn)return Promise.resolve(null);const e=()=>{const e=Z.localStorage?JSON.parse(localStorage.getItem("fp_visitor_data")):null;return e&&e.visitorId&&Date.now()-e.timestamp<=1728e5?e.visitorId:null};if(e())tn=e(),nn=!0;else{const e=Jt({apiKey:"JzcOGu3fvxuz4ZZNCK8j",endpoint:["https://metrics.flutterwave.com",Gt],scriptUrlPattern:["https://metrics.flutterwave.com/web/v<version>/<apiKey>/loader_v<loaderVersion>.js",Qt]}),t=await e,n=await t.get(),r={visitorId:n.visitorId,timestamp:Date.now()};localStorage.setItem("fp_visitor_data",JSON.stringify(r)),tn=n.visitorId,nn=!0}return new Promise((e=>{try{e(tn)}catch(t){e(null)}})).finally((()=>{nn=!1}))}();return new Promise((t=>{t(rn=null!==e?e:null)}))}function an(e){return Object.prototype.toString.call(e).replace(/^\[object\s+(.+?)]$/i,"$1").toLowerCase()}function cn(e){return S(e)?e:I(e)?{onComplete:e}:{}}function sn(e,t){let n,r;({data:n,...e}=cn(e)),({data:r,...t}=cn(t)),Object.keys(t).forEach((n=>{const r=e[n],o=t[n];I(o)&&(e[n]=I(r)?function(...e){o.call(this,...e),r.call(this,...e)}:o)}));try{Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:()=>({...S(n)?n:{},...S(r)?r:{}})})}catch(e){}return e}const ln=Object.freeze(R(!1));function un(...e){const t=(e=[...e]).length;function n(r,o,a=0){if(a===t)return 0;try{const t=e[a];let i=r[t],c=o[t];return"number"!=typeof i&&"number"!=typeof c&&(i=String(i).toLowerCase(),c=String(c).toLowerCase()),i>c?1:i<c?-1:n(r,o,++a)}catch(e){return-1}}return function(e,t){return n(e,t,0)}}const dn=Function.prototype.call.bind(Object.prototype.hasOwnProperty);function mn(...e){const t=N(Object.create(null),e.reduce(((e,t)=>((A(t)||"symbol"==typeof t)&&(e[t]=[]),e)),{}),!0);return Object.defineProperties(P.call(this,t,!1),{$subscribe:{value(e,...n){dn(t,e)&&n.forEach((n=>{I(n)&&(t[e]=x(t[e],n))}))}},$unsubscribe:{value(e,...n){dn(t,e)&&n.forEach((n=>{t[e]=U(t[e],n)}))}}})}function pn(e,...t){if(!S(e)||!Object.isExtensible(e))throw new Error("Cannot setup reactive fields without appropriate context object.");return mn.call(e,...t)}const fn=Pt(He.one.limit(5).timeout(6e3).init($t).retry(Dt)),hn=Object.freeze(N(Object.create(null),{toString(){const e=this.masked_pan;return A(e)?e.replace(/^[*\d]+?(\d{4})$/,((e,t)=>`**** ${t}`)):e}})),_n=Object.create(null);let bn=[];function En(e){return!0!==k(this,"preferences[blacklist_saved_cards]")&&(!I(e)||e())}function yn(){const e=this;let t=Z.localStorage?localStorage.getItem("device_mobile_key"):null;return Promise.resolve(En.call(this,(()=>Object.isFrozen(_n)||(null!==t?fn(new URL("/v2/gpx/users/lookup","https://api.ravepay.co"),{body:JSON.stringify({modalauditid:k(e,"modalauditid"),public_key:k(e,"PBFPubKey"),device_key:t})}).then((e=>{if(Lt(e)&&e.ok)return e.json().then((e=>{let t=!1,n=!1;const{data:r,status:o}=S(e)?e:{};return"success"===o&&"array"===an(r)&&(r.forEach((e=>{if(S(e)){if(!n){const{device:t,mobile_number:r,email:o}=e,a=N(Object.create(null),{id:t,email:o,phone:r});N(_n,{device:Object.freeze(a)}),n=!0}const{card:t,card_hash:r}=e,{card_brand:o,masked_pan:a}=S(t)?t:{},i=String(a).substring(0,6);!/\d{6}/.test(i)||/^(506(?:099|1(?:[0-9][0-8]|[0-8]9))|6500(?:[0-2][2-7]|[01][89]|[12][01]))$/.test(i)||/^(5640)\d+$/.test(i)||bn.push(N(Object.create(hn),{brand:o,hash:r,masked_pan:a}))}})),Object.freeze(bn)&&L.call(_n,{cards:()=>bn},!1),!0!==t&&(t=!0)),!(!0!==t||!Object.freeze(_n))}))})).catch(ln):void 0))))}function gn(e){const t=this;let n=null;return Promise.resolve(En.call(this,(()=>(n=Cn(bn,e))&&fn(new URL("/v2/gpx/users/remove","https://api.ravepay.co"),{body:JSON.stringify({public_key:k(t,"PBFPubKey"),mobile_number:k(_n,"device.phone"),card_hash:k(n,"hash")})}).then((e=>{if(Lt(e)&&e.ok)return e.json().then((e=>{const{message:t,status:r}=S(e)?e:{};return"success"===r&&"USER-REMOVED"===t&&(bn=U(bn,n),!!Object.freeze(bn))}))})).catch(ln))))}function Cn(e,t){if("array"!==an(e))return null;if(e.indexOf(t)<0){const n=S(t);let{hash:r,masked_pan:o}=n?t:{hash:t=String(t),masked_pan:t};r=null!=r&&(r=RegExp(`^${r.replace(/\*/g,"\\*")}`,"i")),o=null!=o&&(o=RegExp(`^${o.replace(/\*/g,"\\*")}`,"i")),t=e.find((e=>{if(S(e)){if(String(e).replace(/\s/g,"")===String(t).replace(/\s/g,""))return!0;const{hash:a,masked_pan:i}=e;let c=r||o?1:0;return n?(r&&(c&=r.test(a)),o&&(c&=o.test(i))):c&=!!r&&r.test(a)||!!o&&o.test(i),c}}))}return t||null}function vn(e,t){if(!S(e)||!Object.isExtensible(e))throw new Error("Cannot setup input fields without appropriate context object.");return setTimeout((()=>{const{DATA:n}=e,r=k(n,"saved_cards"),o=En.call(n);let{device:a,cards:i}=S(r)?r:{};const c=pn(Object.create(null),"CARDS"),s=N(Object.create(null),{enabled:o,fetch:function(){if(o){let e=!1;const t=yn.bind(n);return function(){e||t().then((()=>{const t=k(n,"saved_cards");({device:a,cards:i}=S(t)?t:{}),c.CARDS=i,e=!0}))}}return ln}(),remove:function(){if(o){const e=gn.bind(n);return function(t){k(i,"length")>0&&e(t).then((()=>{const e=k(n,"saved_cards");({cards:i}=S(e)?e:{}),c.CARDS=i}))}}return ln}()});L.call(s,{cards:()=>i,device:()=>a},!1),c.CARDS=i,Object.defineProperties(s,{$subscribe:{value:(...e)=>c.$subscribe("CARDS",...e)},$unsubscribe:{value:(...e)=>c.$unsubscribe("CARDS",...e)}}),N(e,{$savedCards:s}),I(t)&&t.call(e)}),0),e}const Tn=He.one.limit(5).timeout(6e3).retry(Dt),Rn=un("name","code"),An=un("label","name"),On=N(Object.create(null),{GH:Object.freeze([{name:"AIRTEL",identifier:"TIGO",label:"AIRTEL/TIGO"},{name:"MTN",identifier:"MTN",label:"MTN"},{name:"VODACOM",identifier:"VODAFONE",label:"VODAFONE"}].sort(An)),KE:Object.freeze([{name:"MPESA",identifier:"SAFARICOM",label:"M-PESA"}].sort(An)),TZ:Object.freeze([{name:"AIRTEL",identifier:"AIRTEL",label:"AIRTEL"},{name:"TIGOPESA",identifier:"TIGOPESA",label:"TIGO"},{name:"HALOPESA",identifier:"HALOPESA",label:"HALOPESA"}].sort(An)),ZM:Object.freeze([{name:"AIRTEL",identifier:"AIRTEL",label:"AIRTEL"},{name:"MTN",identifier:"MTN",label:"MTN"},{name:"ZAMTEL",identifier:"ZAMTEL",label:"ZAMTEL"}].sort(An))}),In=Object.freeze([{name:"Burkina Faso",code:"BF",currency:"XOF"},{name:"Cameroon",code:"CM",currency:"XAF"},{name:"Côte d'Ivoire",code:"CI",currency:"XOF"},{name:"Senegal",code:"SN",currency:"XOF"}].sort(Rn));function Sn(e){return Promise.resolve(Object.isFrozen(On)||Tn(new URL("/services/fetch/mobilemoneyfranco/networks","https://checkout.flutterwave.com")).then((e=>{if(Lt(e)&&e.ok)return e.json().then((e=>{let t=!1;const{data:n,response_code:r}=S(e)?e:{};return"00"===r&&"array"===an(n)&&n.forEach((e=>{if(S(e)){let{operators:n,country_code:r}=e;if(/^[a-z]{2}$/i.test(r)&&"array"===an(n)&&(n=n.reduce(((e,t)=>{if(S(t)){const{name:n,code:r}=t;n&&r&&A(n)&&A(r)&&e.push({name:n,identifier:r,label:n})}return e}),[]),n.length>0))try{N(On,{[r.toUpperCase()]:Object.freeze(n.sort(An))}),!0!==t&&(t=!0)}catch(e){}}})),!(!0!==t||!Object.freeze(On))}))})).catch((()=>{setTimeout((()=>{["XAF","XOF"].includes(k(e,"DATA.currency"))&&e.dispatch(ae.actions.updateErrorMessage("network.fetch.error"))}),100)})))}function Nn(e,t){if("array"!==an(e))return null;if(e.indexOf(t)<0){const{name:n,code:r}=S(t)?t:/^[A-Z]{2}$/.test(t)?{code:t}:{name:String(t)};t=e.find((e=>{if(S(e)){const{name:t,code:o}=e,a=void 0!==n,i=void 0!==r;let c=a||i?1:0;return a&&(c&=n===t),i&&(c&=r===o),c}}))}return t||null}function wn(e,t){if("array"!==an(e))return null;if(e.indexOf(t)<0){const n=S(t),{name:r,identifier:o}=n?t:{name:t=String(t),identifier:t};t=e.find((e=>{if(S(e)){const{name:t,identifier:a}=e,i=void 0!==r,c=void 0!==o;let s=i||c?1:0;return n?(i&&(s&=r===t),c&&(s&=o===a)):s&=i&&r===t||c&&o===a,s}}))}return t||null}let Mn=N(Object.create(null),null);const $n=Pt(He.one.limit(5).timeout(6e3).retry(Dt));function Dn(e,t){if("array"!==an(e))return null;if(e.indexOf(t)<0){const{name:n,code:r}=S(t)?t:/^\d{2,}$/.test(t)?{code:t}:{name:String(t)};t=e.find((e=>{if(S(e)){const{name:t,code:o}=e,a=void 0!==n,i=void 0!==r;let c=a||i?1:0;return a&&(c&=n===t),i&&(c&=r===o),c}}))}return t||null}const kn=Object.freeze([{name:"QR",identifier:"QR",label:"QR"},{name:"Token",identifier:"TOKEN",label:"Token"},{name:"Direct Wallet Debit",identifier:"DIRECT_WALLET_DEBIT",label:"Direct Wallet Debit"}]);function Ln(e,t){if("array"!==an(e))return null;if(e.indexOf(t)<0){const n=S(t),{name:r,identifier:o}=n?t:{name:t=String(t),identifier:t};t=e.find((e=>{if(S(e)){const{name:t,identifier:a}=e,i=void 0!==r,c=void 0!==o;let s=i||c?1:0;return n?(i&&(s&=r===t),c&&(s&=o===a)):s&=i&&r===t||c&&o===a,s}}))}return t||null}let Pn,jn,xn,Un;const Vn="AED ALL AUD BGN BHD BND CAD CHF CLP CNY COP CRC CZK DKK DOP DZD EGP EUR GBP GHS GMD GTQ HKD HNL HUF IDR ILS INR IQD ISK JOD JPY KHR KRW KWD LBP LKR LYD MAD MOP MYR NGN NOK NZD OMR PAB PHP PYG QAR SAR SDD SEK SGD SLL SVC SYP THB TND TWD TZS UGX USD VND YER ZAR ZMK ZMW".split(" ");function Fn(e,...t){if(A(e)&&S(jn)){[].concat(e.split(/\s*\|\s*/).filter(Boolean)).forEach((e=>{e in jn&&t.forEach((t=>{jn[e]=U(jn[e],t)}))}))}}function Bn(e){if(jn=S(e)?e:{},Rt.hasErrors()){const e=Object.create(null);Object.keys(jn).forEach((t=>{e[t]=Object.freeze([])})),jn=e}!0===k(er,"allowApplePay")||function(){try{return"ApplePaySession"in window&&!0===window.ApplePaySession.canMakePayments()}catch(e){return!1}}()||Vn.forEach((e=>{e in jn&&Fn(e,"applepay")})),Fn("NGN","credit","internetbanking","qr","payattitude"),Fn("USD | EUR","banktransfer"),Fn("KES","wechat"),Fn("USD","account"),Pn=Object.keys(jn).filter((e=>Rt.get("currency")===(e=String(e).toUpperCase())||it.DCC.indexOf(it)>=0)),xn=Pn.reduce((function(e,t){if(!Rt.hasErrors())for(const n of jn[t])e.indexOf(n)<0&&e.push(n);return e}),[])}const Hn=[],Gn=[],zn=[];function Wn(e){const t="test"!==this.get("env");e="array"===an(e)?e:[];[{name:"Access Bank",code:"044",availability:7},{name:"Ecobank",code:"050",availability:2},{name:"First City Monument Bank (FCMB)",code:"214",availability:2},{name:"Fidelity Bank",code:"070",availability:6},{name:"First Bank of Nigeria",code:"011",availability:3},{name:"FSDH Merchant Bank Limited",code:"601",availability:0},{name:"GTBank",code:"058",availability:7},{name:"Heritage Bank",code:"030",availability:2},{name:"Keystone Bank",code:"082",availability:2},{name:"Lotus Bank",code:"303",availability:2},{name:"Polaris Bank",code:"076",availability:0},{name:"Premium Trust Bank",code:"105",availability:2},{name:"Providus Bank",code:"101",availability:!t&&1},{name:"Stanbic IBTC Bank",code:"221",availability:2|(!t&&1)},{name:"Sterling Bank",code:"232",availability:3},{name:"United Bank for Africa",code:"033",availability:3},{name:"Union Bank",code:"032",availability:2},{name:"Unity Bank",code:"215",availability:2|(!t&&1)},{name:"VFD Microfinance Bank",code:"090110",availability:2},{name:"Wema Bank",code:"035",availability:2},{name:"Zenith Bank",code:"057",availability:3}].sort(un("name","code")).forEach((t=>{const{name:n,code:r,availability:o}=t,a=Object.freeze({name:n,code:r});o&&(1&o&&e.indexOf(r)<0&&Hn.push(a),4&o&&Gn.push(a),2&o&&zn.push(a))})),Object.freeze(Hn),Object.freeze(Gn),Object.freeze(zn)}function Kn(e,t){if("array"!==an(e))return null;if(e.indexOf(t)<0){const{name:n,code:r}=S(t)?t:/^\d{2,}$/.test(t)?{code:t}:{name:String(t)};t=e.find((e=>{if(S(e)){const{name:t,code:o}=e,a=void 0!==n,i=void 0!==r;let c=a||i?1:0;return a&&(c&=n===t),i&&(c&=r===o),c}}))}return t||null}const qn=Object.freeze([{id:1,sortname:"AF",name:"Afghanistan",phoneCode:93},{id:2,sortname:"AL",name:"Albania",phoneCode:355},{id:3,sortname:"DZ",name:"Algeria",phoneCode:213},{id:4,sortname:"AS",name:"American Samoa",phoneCode:1684},{id:5,sortname:"AD",name:"Andorra",phoneCode:376},{id:6,sortname:"AO",name:"Angola",phoneCode:244},{id:7,sortname:"AI",name:"Anguilla",phoneCode:1264},{id:8,sortname:"AQ",name:"Antarctica",phoneCode:0},{id:9,sortname:"AG",name:"Antigua And Barbuda",phoneCode:1268},{id:10,sortname:"AR",name:"Argentina",phoneCode:54},{id:11,sortname:"AM",name:"Armenia",phoneCode:374},{id:12,sortname:"AW",name:"Aruba",phoneCode:297},{id:13,sortname:"AU",name:"Australia",phoneCode:61},{id:14,sortname:"AT",name:"Austria",phoneCode:43},{id:15,sortname:"AZ",name:"Azerbaijan",phoneCode:994},{id:16,sortname:"BS",name:"Bahamas The",phoneCode:1242},{id:17,sortname:"BH",name:"Bahrain",phoneCode:973},{id:18,sortname:"BD",name:"Bangladesh",phoneCode:880},{id:19,sortname:"BB",name:"Barbados",phoneCode:1246},{id:20,sortname:"BY",name:"Belarus",phoneCode:375},{id:21,sortname:"BE",name:"Belgium",phoneCode:32},{id:22,sortname:"BZ",name:"Belize",phoneCode:501},{id:23,sortname:"BJ",name:"Benin",phoneCode:229},{id:24,sortname:"BM",name:"Bermuda",phoneCode:1441},{id:25,sortname:"BT",name:"Bhutan",phoneCode:975},{id:26,sortname:"BO",name:"Bolivia",phoneCode:591},{id:27,sortname:"BA",name:"Bosnia and Herzegovina",phoneCode:387},{id:28,sortname:"BW",name:"Botswana",phoneCode:267},{id:29,sortname:"BV",name:"Bouvet Island",phoneCode:0},{id:30,sortname:"BR",name:"Brazil",phoneCode:55},{id:31,sortname:"IO",name:"British Indian Ocean Territory",phoneCode:246},{id:32,sortname:"BN",name:"Brunei",phoneCode:673},{id:33,sortname:"BG",name:"Bulgaria",phoneCode:359},{id:34,sortname:"BF",name:"Burkina Faso",phoneCode:226},{id:35,sortname:"BI",name:"Burundi",phoneCode:257},{id:36,sortname:"KH",name:"Cambodia",phoneCode:855},{id:37,sortname:"CM",name:"Cameroon",phoneCode:237},{id:38,sortname:"CA",name:"Canada",phoneCode:1},{id:39,sortname:"CV",name:"Cape Verde",phoneCode:238},{id:40,sortname:"KY",name:"Cayman Islands",phoneCode:1345},{id:41,sortname:"CF",name:"Central African Republic",phoneCode:236},{id:42,sortname:"TD",name:"Chad",phoneCode:235},{id:43,sortname:"CL",name:"Chile",phoneCode:56},{id:44,sortname:"CN",name:"China",phoneCode:86},{id:45,sortname:"CX",name:"Christmas Island",phoneCode:61},{id:46,sortname:"CC",name:"Cocos (Keeling) Islands",phoneCode:672},{id:47,sortname:"CO",name:"Colombia",phoneCode:57},{id:48,sortname:"KM",name:"Comoros",phoneCode:269},{id:49,sortname:"CG",name:"Republic Of The Congo",phoneCode:242},{id:50,sortname:"CD",name:"Democratic Republic Of The Congo",phoneCode:242},{id:51,sortname:"CK",name:"Cook Islands",phoneCode:682},{id:52,sortname:"CR",name:"Costa Rica",phoneCode:506},{id:53,sortname:"CI",name:"Cote D''Ivoire (Ivory Coast)",phoneCode:225},{id:54,sortname:"HR",name:"Croatia (Hrvatska)",phoneCode:385},{id:55,sortname:"CU",name:"Cuba",phoneCode:53},{id:56,sortname:"CY",name:"Cyprus",phoneCode:357},{id:57,sortname:"CZ",name:"Czech Republic",phoneCode:420},{id:58,sortname:"DK",name:"Denmark",phoneCode:45},{id:59,sortname:"DJ",name:"Djibouti",phoneCode:253},{id:60,sortname:"DM",name:"Dominica",phoneCode:1767},{id:61,sortname:"DO",name:"Dominican Republic",phoneCode:1809},{id:62,sortname:"TP",name:"East Timor",phoneCode:670},{id:63,sortname:"EC",name:"Ecuador",phoneCode:593},{id:64,sortname:"EG",name:"Egypt",phoneCode:20},{id:65,sortname:"SV",name:"El Salvador",phoneCode:503},{id:66,sortname:"GQ",name:"Equatorial Guinea",phoneCode:240},{id:67,sortname:"ER",name:"Eritrea",phoneCode:291},{id:68,sortname:"EE",name:"Estonia",phoneCode:372},{id:69,sortname:"ET",name:"Ethiopia",phoneCode:251},{id:70,sortname:"XA",name:"External Territories of Australia",phoneCode:61},{id:71,sortname:"FK",name:"Falkland Islands",phoneCode:500},{id:72,sortname:"FO",name:"Faroe Islands",phoneCode:298},{id:73,sortname:"FJ",name:"Fiji Islands",phoneCode:679},{id:74,sortname:"FI",name:"Finland",phoneCode:358},{id:75,sortname:"FR",name:"France",phoneCode:33},{id:76,sortname:"GF",name:"French Guiana",phoneCode:594},{id:77,sortname:"PF",name:"French Polynesia",phoneCode:689},{id:78,sortname:"TF",name:"French Southern Territories",phoneCode:0},{id:79,sortname:"GA",name:"Gabon",phoneCode:241},{id:80,sortname:"GM",name:"Gambia The",phoneCode:220},{id:81,sortname:"GE",name:"Georgia",phoneCode:995},{id:82,sortname:"DE",name:"Germany",phoneCode:49},{id:83,sortname:"GH",name:"Ghana",phoneCode:233},{id:84,sortname:"GI",name:"Gibraltar",phoneCode:350},{id:85,sortname:"GR",name:"Greece",phoneCode:30},{id:86,sortname:"GL",name:"Greenland",phoneCode:299},{id:87,sortname:"GD",name:"Grenada",phoneCode:1473},{id:88,sortname:"GP",name:"Guadeloupe",phoneCode:590},{id:89,sortname:"GU",name:"Guam",phoneCode:1671},{id:90,sortname:"GT",name:"Guatemala",phoneCode:502},{id:91,sortname:"XU",name:"Guernsey and Alderney",phoneCode:44},{id:92,sortname:"GN",name:"Guinea",phoneCode:224},{id:93,sortname:"GW",name:"Guinea-Bissau",phoneCode:245},{id:94,sortname:"GY",name:"Guyana",phoneCode:592},{id:95,sortname:"HT",name:"Haiti",phoneCode:509},{id:96,sortname:"HM",name:"Heard and McDonald Islands",phoneCode:0},{id:97,sortname:"HN",name:"Honduras",phoneCode:504},{id:98,sortname:"HK",name:"Hong Kong S.A.R.",phoneCode:852},{id:99,sortname:"HU",name:"Hungary",phoneCode:36},{id:100,sortname:"IS",name:"Iceland",phoneCode:354},{id:101,sortname:"IN",name:"India",phoneCode:91},{id:102,sortname:"ID",name:"Indonesia",phoneCode:62},{id:103,sortname:"IR",name:"Iran",phoneCode:98},{id:104,sortname:"IQ",name:"Iraq",phoneCode:964},{id:105,sortname:"IE",name:"Ireland",phoneCode:353},{id:106,sortname:"IL",name:"Israel",phoneCode:972},{id:107,sortname:"IT",name:"Italy",phoneCode:39},{id:108,sortname:"JM",name:"Jamaica",phoneCode:1876},{id:109,sortname:"JP",name:"Japan",phoneCode:81},{id:110,sortname:"XJ",name:"Jersey",phoneCode:44},{id:111,sortname:"JO",name:"Jordan",phoneCode:962},{id:112,sortname:"KZ",name:"Kazakhstan",phoneCode:7},{id:113,sortname:"KE",name:"Kenya",phoneCode:254},{id:114,sortname:"KI",name:"Kiribati",phoneCode:686},{id:115,sortname:"KP",name:"Korea North",phoneCode:850},{id:116,sortname:"KR",name:"Korea South",phoneCode:82},{id:117,sortname:"KW",name:"Kuwait",phoneCode:965},{id:118,sortname:"KG",name:"Kyrgyzstan",phoneCode:996},{id:119,sortname:"LA",name:"Laos",phoneCode:856},{id:120,sortname:"LV",name:"Latvia",phoneCode:371},{id:121,sortname:"LB",name:"Lebanon",phoneCode:961},{id:122,sortname:"LS",name:"Lesotho",phoneCode:266},{id:123,sortname:"LR",name:"Liberia",phoneCode:231},{id:124,sortname:"LY",name:"Libya",phoneCode:218},{id:125,sortname:"LI",name:"Liechtenstein",phoneCode:423},{id:126,sortname:"LT",name:"Lithuania",phoneCode:370},{id:127,sortname:"LU",name:"Luxembourg",phoneCode:352},{id:128,sortname:"MO",name:"Macau S.A.R.",phoneCode:853},{id:129,sortname:"MK",name:"Macedonia",phoneCode:389},{id:130,sortname:"MG",name:"Madagascar",phoneCode:261},{id:131,sortname:"MW",name:"Malawi",phoneCode:265},{id:132,sortname:"MY",name:"Malaysia",phoneCode:60},{id:133,sortname:"MV",name:"Maldives",phoneCode:960},{id:134,sortname:"ML",name:"Mali",phoneCode:223},{id:135,sortname:"MT",name:"Malta",phoneCode:356},{id:136,sortname:"XM",name:"Man (Isle of)",phoneCode:44},{id:137,sortname:"MH",name:"Marshall Islands",phoneCode:692},{id:138,sortname:"MQ",name:"Martinique",phoneCode:596},{id:139,sortname:"MR",name:"Mauritania",phoneCode:222},{id:140,sortname:"MU",name:"Mauritius",phoneCode:230},{id:141,sortname:"YT",name:"Mayotte",phoneCode:269},{id:142,sortname:"MX",name:"Mexico",phoneCode:52},{id:143,sortname:"FM",name:"Micronesia",phoneCode:691},{id:144,sortname:"MD",name:"Moldova",phoneCode:373},{id:145,sortname:"MC",name:"Monaco",phoneCode:377},{id:146,sortname:"MN",name:"Mongolia",phoneCode:976},{id:147,sortname:"MS",name:"Montserrat",phoneCode:1664},{id:148,sortname:"MA",name:"Morocco",phoneCode:212},{id:149,sortname:"MZ",name:"Mozambique",phoneCode:258},{id:150,sortname:"MM",name:"Myanmar",phoneCode:95},{id:151,sortname:"NA",name:"Namibia",phoneCode:264},{id:152,sortname:"NR",name:"Nauru",phoneCode:674},{id:153,sortname:"NP",name:"Nepal",phoneCode:977},{id:154,sortname:"AN",name:"Netherlands Antilles",phoneCode:599},{id:155,sortname:"NL",name:"Netherlands The",phoneCode:31},{id:156,sortname:"NC",name:"New Caledonia",phoneCode:687},{id:157,sortname:"NZ",name:"New Zealand",phoneCode:64},{id:158,sortname:"NI",name:"Nicaragua",phoneCode:505},{id:159,sortname:"NE",name:"Niger",phoneCode:227},{id:160,sortname:"NG",name:"Nigeria",phoneCode:234},{id:161,sortname:"NU",name:"Niue",phoneCode:683},{id:162,sortname:"NF",name:"Norfolk Island",phoneCode:672},{id:163,sortname:"MP",name:"Northern Mariana Islands",phoneCode:1670},{id:164,sortname:"NO",name:"Norway",phoneCode:47},{id:165,sortname:"OM",name:"Oman",phoneCode:968},{id:166,sortname:"PK",name:"Pakistan",phoneCode:92},{id:167,sortname:"PW",name:"Palau",phoneCode:680},{id:168,sortname:"PS",name:"Palestinian Territory Occupied",phoneCode:970},{id:169,sortname:"PA",name:"Panama",phoneCode:507},{id:170,sortname:"PG",name:"Papua new Guinea",phoneCode:675},{id:171,sortname:"PY",name:"Paraguay",phoneCode:595},{id:172,sortname:"PE",name:"Peru",phoneCode:51},{id:173,sortname:"PH",name:"Philippines",phoneCode:63},{id:174,sortname:"PN",name:"Pitcairn Island",phoneCode:0},{id:175,sortname:"PL",name:"Poland",phoneCode:48},{id:176,sortname:"PT",name:"Portugal",phoneCode:351},{id:177,sortname:"PR",name:"Puerto Rico",phoneCode:1787},{id:178,sortname:"QA",name:"Qatar",phoneCode:974},{id:179,sortname:"RE",name:"Reunion",phoneCode:262},{id:180,sortname:"RO",name:"Romania",phoneCode:40},{id:181,sortname:"RU",name:"Russia",phoneCode:70},{id:182,sortname:"RW",name:"Rwanda",phoneCode:250},{id:183,sortname:"SH",name:"Saint Helena",phoneCode:290},{id:184,sortname:"KN",name:"Saint Kitts And Nevis",phoneCode:1869},{id:185,sortname:"LC",name:"Saint Lucia",phoneCode:1758},{id:186,sortname:"PM",name:"Saint Pierre and Miquelon",phoneCode:508},{id:187,sortname:"VC",name:"Saint Vincent And The Grenadines",phoneCode:1784},{id:188,sortname:"WS",name:"Samoa",phoneCode:684},{id:189,sortname:"SM",name:"San Marino",phoneCode:378},{id:190,sortname:"ST",name:"Sao Tome and Principe",phoneCode:239},{id:191,sortname:"SA",name:"Saudi Arabia",phoneCode:966},{id:192,sortname:"SN",name:"Senegal",phoneCode:221},{id:193,sortname:"RS",name:"Serbia",phoneCode:381},{id:194,sortname:"SC",name:"Seychelles",phoneCode:248},{id:195,sortname:"SL",name:"Sierra Leone",phoneCode:232},{id:196,sortname:"SG",name:"Singapore",phoneCode:65},{id:197,sortname:"SK",name:"Slovakia",phoneCode:421},{id:198,sortname:"SI",name:"Slovenia",phoneCode:386},{id:199,sortname:"XG",name:"Smaller Territories of the UK",phoneCode:44},{id:200,sortname:"SB",name:"Solomon Islands",phoneCode:677},{id:201,sortname:"SO",name:"Somalia",phoneCode:252},{id:202,sortname:"ZA",name:"South Africa",phoneCode:27},{id:203,sortname:"GS",name:"South Georgia",phoneCode:0},{id:204,sortname:"SS",name:"South Sudan",phoneCode:211},{id:205,sortname:"ES",name:"Spain",phoneCode:34},{id:206,sortname:"LK",name:"Sri Lanka",phoneCode:94},{id:207,sortname:"SD",name:"Sudan",phoneCode:249},{id:208,sortname:"SR",name:"Suriname",phoneCode:597},{id:209,sortname:"SJ",name:"Svalbard And Jan Mayen Islands",phoneCode:47},{id:210,sortname:"SZ",name:"Swaziland",phoneCode:268},{id:211,sortname:"SE",name:"Sweden",phoneCode:46},{id:212,sortname:"CH",name:"Switzerland",phoneCode:41},{id:213,sortname:"SY",name:"Syria",phoneCode:963},{id:214,sortname:"TW",name:"Taiwan",phoneCode:886},{id:215,sortname:"TJ",name:"Tajikistan",phoneCode:992},{id:216,sortname:"TZ",name:"Tanzania",phoneCode:255},{id:217,sortname:"TH",name:"Thailand",phoneCode:66},{id:218,sortname:"TG",name:"Togo",phoneCode:228},{id:219,sortname:"TK",name:"Tokelau",phoneCode:690},{id:220,sortname:"TO",name:"Tonga",phoneCode:676},{id:221,sortname:"TT",name:"Trinidad And Tobago",phoneCode:1868},{id:222,sortname:"TN",name:"Tunisia",phoneCode:216},{id:223,sortname:"TR",name:"Turkey",phoneCode:90},{id:224,sortname:"TM",name:"Turkmenistan",phoneCode:7370},{id:225,sortname:"TC",name:"Turks And Caicos Islands",phoneCode:1649},{id:226,sortname:"TV",name:"Tuvalu",phoneCode:688},{id:227,sortname:"UG",name:"Uganda",phoneCode:256},{id:228,sortname:"UA",name:"Ukraine",phoneCode:380},{id:229,sortname:"AE",name:"United Arab Emirates",phoneCode:971},{id:230,sortname:"GB",name:"United Kingdom",phoneCode:44},{id:231,sortname:"US",name:"United States",phoneCode:1},{id:232,sortname:"UM",name:"United States Minor Outlying Islands",phoneCode:1},{id:233,sortname:"UY",name:"Uruguay",phoneCode:598},{id:234,sortname:"UZ",name:"Uzbekistan",phoneCode:998},{id:235,sortname:"VU",name:"Vanuatu",phoneCode:678},{id:236,sortname:"VA",name:"Vatican City State (Holy See)",phoneCode:39},{id:237,sortname:"VE",name:"Venezuela",phoneCode:58},{id:238,sortname:"VN",name:"Vietnam",phoneCode:84},{id:239,sortname:"VG",name:"Virgin Islands (British)",phoneCode:1284},{id:240,sortname:"VI",name:"Virgin Islands (US)",phoneCode:1340},{id:241,sortname:"WF",name:"Wallis And Futuna Islands",phoneCode:681},{id:242,sortname:"EH",name:"Western Sahara",phoneCode:212},{id:243,sortname:"YE",name:"Yemen",phoneCode:967},{id:244,sortname:"YU",name:"Yugoslavia",phoneCode:38},{id:245,sortname:"ZM",name:"Zambia",phoneCode:260},{id:246,sortname:"ZW",name:"Zimbabwe",phoneCode:26}]);function Yn(e,t){if("array"!==an(e))return null;if(e.indexOf(t)<0){const n=S(t),{name:r,sortname:o}=n?t:{name:t=String(t),identifier:t};t=e.find((e=>{if(S(e)){const{name:t,sortname:a}=e,i=void 0!==r,c=void 0!==o;let s=i||c?1:0;return n?(i&&(s&=r===t),c&&(s&=o===a)):s&=i&&r===t||c&&o===a,s}}))}return t||null}const Zn="Account number",Qn="Mobile number",Jn=Object.freeze([{name:Zn,identifier:Zn,label:Zn},{name:Qn,identifier:Qn,label:Qn}]);function Xn(e,t){if("array"!==an(e))return null;if(e.indexOf(t)<0){const n=S(t),{name:r,identifier:o}=n?t:{name:t=String(t),identifier:t};t=e.find((e=>{if(S(e)){const{name:t,identifier:a}=e,i=void 0!==r,c=void 0!==o;let s=i||c?1:0;return n?(i&&(s&=r===t),c&&(s&=o===a)):s&=i&&r===t||c&&o===a,s}}))}return t||null}let er,tr;Pt(He.one.limit(3).retry(...Dt).timeout(kt));const nr="__CheckoutInitAddress";function rr(e){return er||(er=Object.create(null)),N(er,It("amount","campaign_id","country","currency","default_account","customer_email::email","mobilemoney_network","payment_page","payment_plan","PBFPubKey","customer_phone::phone","recurring_stop","redirect_url","settlement_token","txref")),mr.call(er),new Promise((t=>{const n=[];try{n.push({metaname:nr,metavalue:new URL(decodeURIComponent(er.init_url)).href})}catch(e){n.push({metaname:nr,metavalue:"N/A"})}if(Object.defineProperty(er,"meta",{configurable:!0,value:n}),self.parent!==self)return self.parent.postMessage({name:"readytorecieve"},"*"),void addEventListener("message",(function r({data:o,source:a}){if(a===self.parent){const{name:a,...i}=S(o)?o:{};if("updategotten"===a){removeEventListener("message",r);const{applepay:o,billing:a,meta:c,subaccounts:s,theme:l,v3:u}=i;try{c.forEach((e=>{if(S(e)){const{metaname:t,metavalue:r}=e,o={string:!0,number:!0,boolean:!0};if(r&&S(r)){if(r.metaname&&r.metaname!==nr&&r.metavalue&&([!0,!1].includes(r.isRequired)&&delete r.isRequired,A(r.metaname)&&o[typeof r.metavalue])){for(let e=0,t=n.length;e<t;e++)if(r.metaname===n[e].metaname)return;n.push(r)}}else if(A(t)&&t){if(!r)return;for(let e=0,r=n.length;e<r;e++)if(t===n[e].metaname)return;n.push(e)}}}))}catch(e){}if(S(a)){const e=["billingaddress","billingcity","billingstate","billingzip","billingcountry","shippingname","shippingaddress","shippingcity","shippingstate","shippingzip","shippingcountry"];try{N(er,"billing_metadata",{value:Object.freeze(e.reduce(((e,t)=>(e[t]=a[t],e)),Object.create(null)))})}catch(e){}}N(er,{subaccounts:s,meta:n.filter(Boolean),use_v3:!0===Boolean(+u),allowApplePay:!0===o}),t(e)}}}));t(e)}))}function or(...e){return[].concat(e).filter(Boolean)[0]||null}function ar(){let e;const t=Rt.get("customer_firstname"),n=Rt.get("customer_lastname");e=Rt.get("customer_fullname"),e=(A(e)?e:String()).split(/\b[^a-z-]+?\b/i).map((e=>e.trim()||null)),e=Array.from(new Array(Math.max(2,e.length)),((t,n)=>null==e[n]?void 0:e[n]));const{length:r,0:o=t,[r-1]:a=n}=e;N(this,{firstname:o,lastname:a,names:[o,...e.slice(1,-1),a]})}function ir(e){const t=e.get("ip");let{ipv4:n,country:r}=S(t)?t:A(t)?{ipv4:t}:{};n=$(Je,n),r=$(/^[a-z]{2}$/i,r),N(this,{ip:n,ip_country:n&&r&&r.toUpperCase()})}function cr(e){const t=[].concat(Rt.get("exclude_banks"),vt(Ct.exclude_banks,e.get("exclude_banks"))).filter(Boolean);Wn.call(e,t),N(this,{banks:Object.freeze(N(Object.create(null),{account:Hn,internet:Gn,ussd:zn}))})}function sr(){let e=Rt.get("custom_pwbt_expiry");const t=Rt.raw;e||(e=t.bank_transfer_expiry),this.expires=or(e)}function lr(){this.session_duration=or(Rt.get("custom_session_duration"))}function ur(e){if(e.get("campaignMeta")&&e.get("discount")&&e.get("discount").apply_discount){let t=e.get("campaignMeta");N(this,{campaign:{...e.get("discount").campaign,...t},new_amount:e.get("discount").amount_to_pay,discount:e.get("discount").discount_to_apply,discounted_value:e.get("discount").discounted_value,discount_type:e.get("discount").discount_type})}}function dr(e){let t;this.merchant_name=or(Rt.get("custom_title"),e.get("merchant.name"),"Flutterwave Merchant"),this.banktransfer_beneficiary_name=or(Rt.get("custom_narration"),this.merchant_name),this.merchant_logo=or(Rt.get("custom_logo"),e.get("merchant.logo"),new URL("/assets/img/rave-logo.png","https://checkout.flutterwave.com").href),t=e.get("preferences"),t=S(t)?t:{},N(t,{merchant_bears_fees:D(e.get("initial.merchant_bearing"),!1),use_dynamic_currency_conversion:D(e.get("enabled_for_dcc"),!1),use_old_saved_card_flow:D(e.get("use_old_saved_card_flow"),!1),use_secureauth_for_card:D(null,!1)}),S(t)&&!ye(t)&&Object.keys(t).forEach((e=>{e in this.preferences&&(this.preferences[e]=D(t[e],this.preferences[e]))}))}function mr(){let e=null;if(self===self.top)e=self.location.href;else try{const t=window.opener||window.parent;e=t&&t!==window.self?null:(self.top||self).location.href}catch(e){}N(this,{init_url:or(e,Rt.get("init_url"))})}function pr(e){const[,t,n]=String(e.get("powered_by_title")||e.get("poweredbytitle")).match(/^(\d+)(?::([^:]*))?$/)||[];N(er,{mpesaPaybill:t,canSendSTKPushNotification:"NOSTK"!==n,description:or(Rt.get("custom_description")),integrity_hash:or(e.get("integrity_hash"),Rt.get("integrity_hash")),narration:or(Rt.get("custom_narration")),charge_type:e.get("charge_type"),cycle:e.get("cycle"),include_discount_amount:D(Rt.get("include_discount_amount"),!1),modalauditid:e.get("id"),forter_site_id:e.get("forter_site_id"),use_authm_control:D(e.get("authm_control"),!0),preferences:N(Object.create(null),{blacklist_saved_cards:!1,can_switch_to_paymob:!1,ignore_mpesa_fallback:!1,merchant_bears_fees:!1,prefers_reduced_tracking:!1,prefers_hidden_email:!1,prefers_language_translation:!1,should_redirect_on_fail:!1,use_dynamic_currency_conversion:!1,use_old_saved_card_flow:!1,use_secureauth_for_card:!1},!0)}),w.call(er,"currencies",(()=>Pn)),w.call(er,"payment_options",(()=>xn)),w.call(er,"currency_options",(()=>jn)),w.call(er,"device_fingerprint",(()=>rn)),w.call(er,"initial_currency",(()=>Un.currency||Rt.get("currency"))),w.call(er,"initial_method",(()=>Un.option||(jn[er.initial_currency]||[])[0]||null)),N(er,{mobilemoneyfranco_countries:In}),w.call(er,"mobilemoney_networks",(()=>On)),w.call(er,"saved_cards",(()=>_n)),w.call(er,"enaira_payment_options",(()=>kn)),w.call(er,"iso_countries_options",(()=>qn)),w.call(er,"sa_banks",(()=>Mn)),w.call(er,"capitec_options",(()=>Jn)),ar.call(er),ir.call(er,e),cr.call(er,e),sr.call(er),lr.call(er),ur.call(er,e),dr.call(er,e),function(e){if(S(e)&&!ye(e)){let t=e.get("initial.payment_option"),n=$(/^[a-z]{2}$/i,Rt.get("country"))||"NG",r=$(/^[a-z]{3}$/i,e.get("initial.currency"));n=n&&n.toUpperCase(),r=r&&r.toUpperCase(),Bn.call(this,e.get("payment_options")),r=Pn.indexOf(r)>=0?r:null,t=r&&(xn.indexOf(t)>=0?t:null),Un||(Un=Object.create(null)),N(Un,{country:n,currency:r,option:t}),Object.freeze(Pn),Object.freeze(jn),Object.freeze(xn),Object.freeze(Un)}}(e),tr=Object.freeze(er),Ar.initializedModal.call(er)}function fr(){return e=()=>er,(tr?Promise.resolve():Bt().then(rr).then(pr)).then(M(e));var e}const hr=He.many.init($t),_r=new URL("https://flw-events-ge.myflutterwave.com/event/create");let br;function Er(e){return function(e){return Promise.resolve(br||fr().then((e=>{const t=e.modalauditid;return br=N(Object.create(null),{actor:Rt.get("customer_email"),context:/Mobi/.test(navigator.userAgent)?"mobile":"web",label:t,modalauditid:t,token:"flw_event_wt_e5fe4da063edacb29ec19f"}),br}))).then((t=>JSON.stringify({...S(e)?e:{},...t,date:Date.now()})))}(e).then((e=>{let t=0,n=0;return function r(){return t<10&&setTimeout((()=>hr(_r,{body:e}).then((e=>Lt(e)&&e.ok||Promise.reject())).catch(r)),1e3*(n+=t++))}()}))}const yr=He.many.init($t);let gr=!0;function Cr(e,t,n,r){return Er({action:e,object:t,comment:n,data:r})}function vr(e){return A(e)?e:String()}function Tr(e){return vr(e).toLowerCase()}function Rr(e){return vr(e).replace(/(.*?)(\b[A-Z]+\b)(.*?)/g,((e,t,n,r)=>`${Tr(t)}${n}${Tr(r)}`))}var Ar=N(Object.create(null),{closeModal:function(e=!1){return Cr("closed","modal",!0===e?"Closed modal after successful payment":"Closed modal")},initializedModal:function(){try{const e=S(this)?this:{},{init_url:t,ip:n,txref:r,currency:o,amount:a}=e,i={ref:r,amount:a,currency:o,ip:n};return Cr("loaded","modal","Initiated Checkout"+(t?` from ${decodeURIComponent(t)}`:""),i)}catch(e){return Cr("loaded","modal","Initiated Checkout")}},transactionSuccessful:function(){return Cr("completion","TRANSACTION","Transaction Completed!")},transactionFailed:function(){return Cr("failure","TRANSACTION","Transaction Failed!")},transactionTimeout:function(){return Cr("timeout","TRANSACTION","Transaction Session Timeout!")},paypalPendingMerchantAction:function(){return Cr("charge","PAYPAL","Charge processing completed: Pending merchant action.")},redirectingToMerchant:function(e){return Cr("redirect","REDIRECT_URL","Redirecting to merchant",e)},selectedOption:function(e,t){return Cr("selected",e,`Selected ${t}`)},startedInput:function(e){return Cr("typing",e,`Entering ${Rr(e)}`)},stoppedInput:function(e){return Cr("typing",e,`Stopped entering ${Rr(e)}`)},switchedMethod:function(e){return!0===gr?(gr=!1,Cr("launched","modal",`Launched ${e} as initial payment option`)):Cr("switched","modal",`Switched to ${e} option`)},eNairaOptionSelected:function(e){return Cr("eNaira option selected","modal",`Selected eNaira ${e}`)},startEnairaTokenValidation:function(){return Cr("eNaira token validation","modal","Starting eNaira token validation")},customerOpenedRedirectURL:function(e,t){return Cr(`${e} redirect URL opened`,"modal",`Customer opened ${t} verification page`)},customerAttemptingCharge:function(e){return Cr(`${e} charge`,"modal",`Attempting ${e} charge`)},customerReturnedFromVerificationPage:function(){return Cr("verification page","modal","Customer returned returned from verification page")},chargeRequestStatus:function(e){return Cr("charge request","modal",`Charge request ${e}`)},changedLanguage:function(e){return Cr("locale change","modal",`Changed language to ${e}`)},logUntranslatedError:function(e){return function(e){let t=0,n=0;const r=Rt.get("PBFPubKey"),o=JSON.stringify({channel:"Checkout",public_key:r,...e});return function e(){return t<5&&setTimeout((()=>yr("https://api.ravepay.co/v3/checkout/non-translated-messages",{body:o}).then((e=>Lt(e)?e.json().then((e=>{"error"===e.status&&"Message has already been logged"===e.message&&(t=5)})):Promise.reject())).catch(e)),1e3*(n+=t++))}()}(e)},transactionPending:function(){return Cr("pending","TRANSACTION","Transaction Pending!")}});const Or=e=>["CFA","XAF","XOF"].includes(e)?"fr":"en";function Ir(){const e=Object.create(null),{data:t,dispatch:n}=this,r=k(t,"currency"),o=Or(r);function a(e){return t=>{t({type:y,payload:{locale:e||o}}),Ar.changedLanguage(e)}}return N(e,{NAME:"locale",Reducer:function(e=k(t,"locale")||o,n){const r=ue(n.payload)?n.payload:{};if(n.type===y){const{locale:t}=r;return t||e}return e},actions:N(Object.create(null),{updateLocale:a}),exposedActions:N(Object.create(null),{CurrentLocale:Y({switch:a},n)})}),Ir=e}function Sr(){Object.defineProperty(this,"list",{value:[]})}Object.defineProperties(Sr.prototype,{empty:{get(){return this.list.length<=0}},peek:{get(){if(!this.empty)return this.list[this.list.length-1]}},pop:{value(){return this.list.pop()}},push:{value(e){return this.list.push(e),this}}});const Nr=Function.prototype.call.bind(Object.prototype.hasOwnProperty);function wr(e){let t,n=!1;const{$inputs:r,dispatch:o}=this,a=Object.create(null),i=Object.create(null),c=new Sr;let s,l,u;const d=N(Object.create(null),[].concat(e).reduce(((e,t)=>{let[n,o=n]=String(t).split("::");if(Nr(r,n)){if(o=o.trim()||n,e[o]=r[n],Nr(i,o))throw new Error(`Duplicate local view input key(\`${o}\`) not allowed.`);N(i,{[o]:n}),r.$subscribe(n,f)}return e}),{}),!0),m=Object.keys(d);function p(){const e=m.reduce(((e,t)=>{const n=i[t];return r.$available(n)&&(e={...e,[t]:d[t]}),e}),{});s=N(Object.create(null),{...e},!0),l=Object.keys(s),u=l.length}function f(){t&&clearTimeout(t),t=setTimeout(h,0),!n&&(n=!0)}function h(){o({type:C}),t&&clearTimeout(t),t=void 0}function _(){return n&&(m.forEach((e=>{const t=i[e];d[e]!==r[t]&&(d[e]=r[t])})),p(),n=!1),s}return p(),N(a,{inputs:(e=_(),t)=>t.type===C?_():e}),Object.defineProperties(a,{$focusin:{value(e){const t=i[e];if(c.empty&&r.$available(t)){c.push(t);"PLAIN"===s[e].type&&Ar.startedInput(e)}}},$focusout:{value(e){const t=i[e];if(!c.empty&&r.$available(t)&&c.peek===t){c.pop(t);const n=s[e];"PLAIN"===n.type?Ar.stoppedInput(e):"SELECTION"===n.type&&Ar.selectedOption(e,n.value)}}},$loggingCompleted:{get:()=>c.empty},$update:{value:function(e){e=S(e)?e:1===u?{[l[0]]:e}:null,S(e)&&l.forEach((t=>{if(Nr(e,t))try{const n=i[t];r.$update(n,e[t])}catch(e){}}))}},$unsubscribe:{value(){m.forEach((e=>{const t=i[e];r.$unsubscribe(t,f)}))}}})}const Mr=Function.prototype.call.bind(Object.prototype.hasOwnProperty);function $r(e){const t=this,n=[],r=S(e)?Object.keys(e).reduce(((r,o,a)=>{if(A(o)){let i=e[o];i=S(i)?i:A(i)?{prop:i}:{};let{prop:c}=i;if(!(c=c.trim())||!Mr(t,c))throw new Error(`Reactive property${c?`(\`${c}\`)`:""} not found for key(\`${o}\`).`);let s=(Mr(i,"initialValue")?()=>i.initialValue:()=>t[c])();null==s&&(s=null);const l=`${o}_$${a}`;if(I(t.$subscribe)&&I(t.$unsubscribe)){const e=function(e,n){e!==n&&t.dispatch({type:C,payload:{[l]:e}})};t.$subscribe(c,e),n.push((()=>t.$unsubscribe(c,e)))}r[o]=function(e=s,t){const n=S(t.payload)?t.payload:{};if(t.type===C){if(Mr(n,l)){const t=n[l];return t!==e?null==t?null:t:e}return e}return e}}return r}),Object.create(null)):Object.create(null);return Object.defineProperties(r,{$unsubscribe:{value:function(){n.forEach((e=>I(e)&&e()))}}})}function Dr(e){const{NAME:t,constants:n,inputs:r,mutables:o}=e=S(e)?e:{},a=M(e.back),i=M(e.code),c=M(e.next),s=M(e.switch);function l(){let u=v,d=v,m=v,p=v,f=R(!0);const h=this,_=Object.create(null);function b(...e){return()=>_.ACTIVE&&f()&&a.call(h,...e)}function E(...e){return()=>_.ACTIVE&&f()&&i.call(h,...e)}function y(...e){return()=>_.ACTIVE&&f()&&c.call(h,...e)}function g(...e){return()=>_.ACTIVE&&u.call(h,...e)}function C(...e){return()=>_.ACTIVE&&d.call(h,...e)}function T(...e){return()=>_.ACTIVE&&m.call(h,...e)}function O(...e){return()=>_.ACTIVE&&f()&&s.call(h,...e)}return N(_,{Reducer:null},!0),I(e.mount)&&N(_,{$mount:e.mount.bind(h)}),l=N(_,{NAME:t,setup:function(){const{$inputs:t,dispatch:a}=this;let i={},c=S(t)?Object.keys(t):[];c=[].concat(r).filter((e=>{if(A(e)){const[t]=e.split("::");return c.indexOf(t)>=0}}));const s=ce({$actions:N(Object.create(null),Y({back:b,code:E,focusin:C,focusout:T,next:y,update:g,switch:O},a)),...S(n)?n:{}}),l=$r.call(this,o);if(c.length){const e=wr.call(this,c);i={...i,...e},u=M(e.$update),d=M(e.$focusin),m=M(e.$focusout),p=M(e.$unsubscribe)}_.Reducer=N(K({...s,...l,...i}),{teardown(){l.$unsubscribe(),p(),_.Reducer=null}}),I(e.afterSetup)&&e.afterSetup.call(h)}.bind(h)})}return l}function kr(){const e=S(this)?this:Object.create(null);return Dr({NAME:"CONFIRMING_VIEW"}).call(e)}const Lr=function(){const e=/[^\x00-\x7F]/;return function(t){return e.test(t)?encodeURIComponent(t):t}}();function Pr(e){return cryptico.encrypt("string"==typeof e?e:function(e){return JSON.stringify(e,((e,t)=>{if("meta"===e)try{t=t.map((e=>({metaname:Lr(e.metaname),metavalue:Lr(e.metavalue)})))}catch(e){}else if("QUERY_STRING_DATA"===e)try{t=Object.keys(t).reduce(((e,n)=>(e[n]=Lr(t[n]),e)),{})}catch(e){}return t}))}(e),"baA/RgjURU3I0uqH3iRos3NbE8fT+lP8SDXKymsnfdPrMQAEoMBuXtoaQiJ1i5tuBG9EgSEOH1LAZEaAsvwClw==").cipher}function jr(e){return cryptico.publicKeyID("string"==typeof e?e:JSON.stringify(e))}let xr,Ur,Vr,Fr,Br,Hr,Gr;function zr(e){return new Promise(((t,n)=>{Promise.resolve(xr).then((r=>{!0===r&&I(e)&&e(t,n)})).finally(t)}))}var Wr=N(Object.create(null),{init:function(){(O(xr)?Promise.resolve(xr):fr().then((e=>(Br=(k(e,"email")||"").trim().toLowerCase().replace(/^([^@]+)(?=@|$)/,((e,t)=>jr(t))),Hr=jr(k(e,"firstname")||""),Gr=jr(k(e,"lastname")||""),Fr=k(e,"merchant_name"),Vr=k(e,"txref"),xr=!k(e,"preferences[prefers_reduced_tracking]"))))).then((e=>{!0===e&&(!0!==Ur&&(function(e,t){var n,r,o,a;t.__SV||(window.mixpanel=t,t._i=[],t.init=function(e,n,r){function i(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var c=t;for(void 0!==r?c=t[r]=[]:r="mixpanel",c.people=c.people||[],c.toString=function(e){var t="mixpanel";return"mixpanel"!==r&&(t+="."+r),e||(t+=" (stub)"),t},c.people.toString=function(){return c.toString(1)+".people (stub)"},o="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" "),a=0;a<o.length;a++)i(c,o[a]);var s="set set_once union unset remove delete".split(" ");c.get_group=function(){function e(e){t[e]=function(){call2_args=arguments,call2=[e].concat(Array.prototype.slice.call(call2_args,0)),c.push([n,call2])}}for(var t={},n=["get_group"].concat(Array.prototype.slice.call(arguments,0)),r=0;r<s.length;r++)e(s[r]);return t},t._i.push([e,n,r])},t.__SV=1.2,(n=e.createElement("script")).type="text/javascript",n.async=!0,n.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",(r=e.getElementsByTagName("script")[0]).parentNode.insertBefore(n,r))}(document,window.mixpanel||[]),mixpanel.init("eeb0103404a2857dec4c324d2f2108c5",{batch_requests:!0}),Ur=!0),Ur&&zr(((e,t)=>{try{const t=js.getState(),n=k(t,"amount"),r=k(t,"currency.current"),o=k(t,"method.current");mixpanel.track("Payment initiated on Flutterwave Checkout",{$email:Br,$merchant_name:Fr,$amount:n,payment_method:o,$currency:r,$txref:Vr,$first_name:Hr,$last_name:Gr},{transport:"xhr",send_immediately:!0},e)}catch(e){t(e)}})))}))},completedPayment:function(){return zr(((e,t)=>{try{const t=js.getState(),n=k(t,"amount"),r=k(t,"currency.current"),o=k(t,"method.current");mixpanel.track("Payment made on Flutterwave Checkout",{$email:Br,$merchant_name:Fr,$amount:n,payment_method:o,$currency:r,$txref:Vr,$first_name:Hr,$last_name:Gr},{transport:"xhr",send_immediately:!0},e)}catch(e){t(e)}}))},paymentFailed:function(e){return zr(((t,n)=>{try{const n=js.getState(),r=k(n,"amount"),o=k(n,"currency.current"),a=k(n,"method.current");mixpanel.track("Payment failed on Flutterwave Checkout",{$email:Br,$merchant_name:Fr,$amount:r,payment_method:a,$currency:o,$txref:Vr,$first_name:Hr,$last_name:Gr,...e&&{$error_message:e}},{transport:"xhr",send_immediately:!0},t)}catch(e){n(e)}}))},paymentTimeout:function(){return zr(((e,t)=>{try{const t=js.getState(),n=k(t,"amount"),r=k(t,"currency.current"),o=k(t,"method.current");mixpanel.track("Payment session timeout on Flutterwave Checkout",{$email:Br,$merchant_name:Fr,$amount:n,payment_method:o,$currency:r,$txref:Vr,$first_name:Hr,$last_name:Gr},{transport:"xhr",send_immediately:!0},e)}catch(e){t(e)}}))},pendingPayment:function(){return zr(((e,t)=>{try{const t=js.getState(),n=k(t,"amount"),r=k(t,"currency.current"),o=k(t,"method.current");mixpanel.track("Payment pending on Flutterwave Checkout",{$email:Br,$merchant_name:Fr,$amount:n,payment_method:o,$currency:r,$txref:Vr,$first_name:Hr,$last_name:Gr},{transport:"xhr",send_immediately:!0},e)}catch(e){t(e)}}))},mixpanelInitialized:function(){return Ur}});function Kr(e){const{vbvrespmessage:t,acctvalrespmsg:n,chargeResponseMessage:r,response_message:o}=Jr(e,"vbvrespmessage","acctvalrespmsg","chargeResponseMessage","response_message");return t&&"N/A"!==String(t).toUpperCase()&&!String(t).startsWith("*")&&!String(t).endsWith("#")&&t||n&&"N/A"!==String(n).toUpperCase()&&n||r&&"N/A"!==String(r).toUpperCase()&&r||o&&o.trim()||null}function qr(e){const{chargeResponseCode:t,response_code:n,code:r}=Jr(e,"chargeResponseCode","response_code","code");return t||n||r||null}function Yr(e){const{flwRef:t,flw_reference:n}=Jr(e,"flwRef","flw_reference");return t||n||null}function Zr(e){const{orderRef:t,transaction_reference:n}=Jr(e,"orderRef","transaction_reference");return t||n||null}function Qr(e){const{txRef:t}=Jr(e,"txRef");return t||Rt.get("txref")||null}function Jr(e,...t){const n=["data","tx","err_tx","transactionobject"];return Jr=function(e,...t){t=t.reduce(((e,t)=>(A(t)&&(e=x(e,t)),e)),[]);const r=Object.create(null);for(;S(e)&&t.length;){for(const n of t){const[t,o]=n.split("::"),a=k(e,t);if(a){const e=o||t;Object.prototype.hasOwnProperty.call(r,e)?r[e]=a:N(r,{[e]:a},!0)}}for(const t of n)if(S(e=k(e,t)))break}return r},Jr(e,...t)}let Xr;const eo=!(!(Xr=window.opener||window.parent)||Xr===window),to=!(!window.opener||window.opener!==Xr);function no(){const e=S(this)?this:Object.create(null);return Dr({NAME:"SUCCESS_VIEW",mount(){e.dispatch(ae.actions.updateErrorMessage());const t=k(e,"STATE.method.current");Z.localStorage&&t&&localStorage.setItem("lastUsedOption",t);const{$$data:n,data:r}=this,o=S(n)?n:S(r)?r:null,a=("vbvcomplete"===k(o,"name")?Jr(o,"transactionobject").transactionobject:Jr(o,"tx").tx||Jr(o,"data").data||o)||null;var i;Ar.transactionSuccessful(),Z.localStorage&&localStorage.removeItem("retryAttempts"),i=()=>{if(eo||to)try{return void Xr.postMessage({name:o.name||"opop",data:o,tx:a,success:!0},"*")}catch(e){}setTimeout((function(){fr().then((e=>{try{const t=k(e,"redirect_url"),n=k(e,"txref");if(t&&n){const r=new URL(t),i=r.searchParams;if(!0===e.use_v3){const{transaction_id:e,status:t}=Jr(a,"id::transaction_id","status");i.set("status",t||"failed"),i.set("tx_ref",n),i.set("transaction_id",e),Ar.redirectingToMerchant(a).finally((()=>window.location.href=r.href))}else{const{redirect_post:e,redirect_no_json:t}=It("redirect_post","redirect_no_json"),n=+e?"POST":"GET";if("GET"===n&&+t)return void Ar.redirectingToMerchant(a).finally((()=>window.location.href=r.href));const i=document.createElement("form"),c=document.createElement("textarea");c.setAttribute("name","resp"),c.setAttribute("hidden","hidden"),c.setAttribute("readonly","readonly"),c.classList.add("sr-only"),c.value=JSON.stringify(o),i.setAttribute("method",n),i.setAttribute("action",r.href),i.setAttribute("hidden","hidden"),i.classList.add("sr-only"),i.appendChild(c),document.body.appendChild(i),Ar.redirectingToMerchant(a).finally((()=>i.submit()))}}}catch(e){}}))}),5e3)},Wr.mixpanelInitialized()?Wr.completedPayment().finally((()=>i())):Promise.resolve().then((()=>i()))}}).call(this)}function ro(){const e=S(this)?this:Object.create(null);return Dr({NAME:"FAILURE_VIEW",mount(){const{$$data:t,data:n}=this,r=S(t)?t:S(n)?n:null,o={status:"failed",id:null,...("vbvcomplete"===k(r,"name")?Jr(r,"transactionobject").transactionobject:Jr(r,"tx").tx||Jr(r,"data").data||r)||null};let a;{const{chargeResponseMessage:e,vbvrespmessage:t,acctvalrespmsg:n,$error:r}=o;let i=[null,"N/A"];a=-1===i.indexOf(t)?t:-1===i.indexOf(n)?n:-1===i.indexOf(e)?e:r}var i;void 0!==a&&e.dispatch(ae.actions.updateErrorMessage(a)),Ar.transactionFailed(),Z.localStorage&&localStorage.removeItem("retryAttempts"),i=()=>{if(eo||to)try{return void Xr.postMessage({name:r.name||"opop",data:r,tx:o,success:!1},"*")}catch(e){}setTimeout((function(){fr().then((e=>{try{const t=k(e,"redirect_url"),n=k(e,"txref");if(t&&n){const a=new URL(t),i=a.searchParams;if(!0===e.use_v3){const{transaction_id:e,status:t}=Jr(o,"id::transaction_id","status");i.set("status",t||"failed"),i.set("tx_ref",n),i.set("transaction_id",e||null),Ar.redirectingToMerchant(o).finally((()=>window.location.href=a.href))}else{const{redirect_post:e,redirect_no_json:t}=It("redirect_post","redirect_no_json"),n=+e?"POST":"GET";if("GET"===n&&+t)return void Ar.redirectingToMerchant(o).finally((()=>window.location.href=a.href));const i=document.createElement("form"),c=document.createElement("textarea");c.setAttribute("name","resp"),c.setAttribute("hidden","hidden"),c.setAttribute("readonly","readonly"),c.classList.add("sr-only"),c.value=JSON.stringify(r),i.setAttribute("method",n),i.setAttribute("action",a.href),i.setAttribute("hidden","hidden"),i.classList.add("sr-only"),i.appendChild(c),document.body.appendChild(i),Ar.redirectingToMerchant(o).finally((()=>i.submit()))}}}catch(e){}}))}),5e3)},Wr.mixpanelInitialized()?Wr.paymentFailed().finally((()=>i())):Promise.resolve().then((()=>i()))}}).call(this)}function oo(){const e=Object.create(null);return N(e,{NAME:"info",Reducer:function(e=null,t){const n=Nt(t.payload)?t.payload:{};if(t.type===g){const{info:e}=n;return e||null}return e},actions:N(Object.create(null),{updateInfo:function(e){return t=>{t({type:g,payload:{info:e}})}}})}),oo=e}function ao(e){const{key:t,actions:n,initialState:r,onSwitchedOff:o,onSwitchedOn:a}=S(e)?e:{},{on:i,off:c}=S(n)?n:{};if(i&&c&&i!==c){const s=this,l=p(o),u=p(a),d=N(Object.create(null),{[t||"switch"]:m(r)});function m(e=null){return e=!0===e,function(t=e,n){switch(n.type){case i:return!0!==t||t;case c:return!0!==t&&t;default:return t}}}function p(e){return I(e)?e.bind(s):v}return Object.defineProperty(d,"actions",{value:Object.freeze(N(Object.create(null),{off:()=>e=>{e({type:c}),l()},on:()=>e=>{e({type:i}),u()}}))})}throw new TypeError("Unique action identifiers are required for switch state.")}function io(){const e=Object.create(null),t=ao.call(this,{actions:{on:d,off:m},initialState:!1,key:"processing"});return N(e,{NAME:"processing",Reducer:t.processing,actions:N(Object.create(null),t.actions)}),io=e}const co="checkout.close",so="checkout.method.switch",lo=Pt(He.one.limit(1/0).init($t).retry(...Dt));let uo,mo;function po(){const e=fo.bind(this);return addEventListener(co,e,!1),()=>removeEventListener(co,e,!1)}function fo(){const{$charge:e}=this;e.cancel()}function ho(){mo&&!mo.aborted||(uo=new AbortController,({signal:mo}=uo))}function _o(){const e=this.$state.method.current;let t;return t="enaira"===e?"/flwv3-pug/getpaidx/api/enaira/complete":"capitec"===e?"flwv3-pug/getpaidx/api/checkout/transaction/requery":`/flwv3-pug/getpaidx/api/verify/${("banktransfer"===e?"pwbt":"payattitude"===e&&"payattitude")||"mpesa"}`,new URL(t,"https://api.ravepay.co")}function bo(e,t,n){ho();const r=this,o=Boolean(8&r.flags),a=po.call(n);let i=0,c=1/0,{onBegin:s,onCancel:l,onComplete:u,onConfirming:d,onDataResponse:m,onError:p,onFailure:f,onSuccessful:h}=sn(t);s=M(s),l=M(l),u=M(u),d=M(d),m=M(m),p=M(p,v),f=M(f),h=M(h);const _=_o.call(r),b={modalauditid:r.$chargeData.modalauditid,PBFPubKey:r.$chargeData.PBFPubKey,[!0===o?"order_ref":"flw_ref"]:e};if("banktransfer"===r.$state.method.current&&(b.is_v3_verify=!0),"capitec"===r.$state.method.current){b.payment_type="capitec";const e=k(n,"$$data.updatedAt")||null;b.poll_start_time=e}const E={body:JSON.stringify(b)};function y(e){return Promise.resolve(e).then(u.bind(r))}return s.call(r),function e(){return mo.aborted?(i=0,ho(),a(),Promise.resolve()):lo(_,E).then((async t=>{if(Lt(t)&&t.ok){const e=await t.json(),{status:n,chargeResponseCode:r,paymentType:o}=Jr(e,"status","chargeResponseCode","paymentType");if(m(e),["00"].indexOf(r)>=0||["success","successful"].indexOf(String(n).toLowerCase())>=0)return h(e),y(e);if("failed"===n)return f(e),y(e);if("02"===r&&["cryptocurrency","account-ach-us"].indexOf(String(o).toLowerCase())>=0)return d(e),y(e)}if(++i<c)return setTimeout((()=>e()),1500);throw new RangeError("Too many polling attempts")}),e)}().catch(p),function(e){uo&&uo.abort(),I(e)&&e()}.bind(null,l)}const Eo=Object.freeze(new Error),yo=Object.freeze(new Error),go=Object.freeze(new Error);let Co=!1,vo=!1;function To(){!0===vo&&(removeEventListener(co,To,!1),vo=!1),Co=!0}const Ro=Pt(He.one.limit(10).retry(...Dt));function Ao(e,t=1e3){return Number.isInteger(+e)?Math.min(1e4,Math.max(500,+e)):+t||1e3}function Oo(e,t){const n=1500,r=1/0;var o,a;e=I(e)?e:R(null),a={delay:["number",n],iterations:["number",r],url:"string"},o=S(o=t)?o:{},t=S(a)?Object.keys(o).reduce(((e,t)=>{const n=o[t];let[r,i]=[].concat(a[t]);return r="string"===an(r)?r.trim():void 0,i=r&&an(i)===r?i:void 0,e[t]=r||an(n)===r?n:i,e}),{}):o;let i=0,c=Ao(t.delay,n);const{url:s}=t,l=function(e=1/0){return Number.isInteger(+e)?Math.max(0,Math.min(+e,1/0)):1/0}(t.iterations),u=function(e){if("function"==typeof e){let t=!1;return function(...n){if(!t&&(t=!0))return e(...n)}}return e}((e=>{c=Ao(e,n)}));return function(){return s&&++i<=l?new Promise(((t,r)=>{setTimeout((function(){Ro(s).then((o=>Lt(o)&&o.ok?t(o.json().then(e).then((e=>(u(n),e)))):r(Eo))).catch(r)}),Math.floor(c*function(e=1){return Number.isInteger(+e)?Math.min(Math.pow(1.5,Math.floor(Math.log(Math.max(1,+e))/Math.log(2.5))),5):1}(i)))})):Promise.reject(yo)}}function Io(e){return!0!==vo&&(addEventListener(co,To,!1),vo=!0),e=M(e),function(t){let{maxPingIterations:n,onBadResponse:r,onDataResponse:o,...a}=S(t)?{...t}:{};function i(){this.pingHandler=null}return r=M(r,v),Object.defineProperty(i.prototype,"handle",{value(t){if(S(t)){let i,c=function(e){try{const t=e.data;return"response_parsed"in t?t.response_parsed:t}catch(e){return null}}(t);if(("LONG-REQ"===t.message||t.data&&"response_parsed"in t.data&&!c||t.data&&"ping_url"in t.data)&&!1===Co)return I(this.pingHandler)||(this.pingHandler=Oo(this.handle.bind(this),{iterations:+n,delay:+c.wait,url:c.ping_url})),I(this.pingHandler)?this.pingHandler():Promise.reject(go);if(c||(c=Object.create(null)),["error","failed","failure"].indexOf(String(t.status).toLowerCase())>=0&&(i=t),!0===D(k(c,"is_err"),!1)&&(i=c),i){const{error:e,err:t,message:n}=Jr(i,"error","err","message");let r=e||t||n;(r=A(r)&&r.trim()||null)&&N(c,{$error:r},!0)}const s=N(Object.create(null),{data:c},!0),l=N(Object.keys(a).reduce(((e,t)=>N(e,{[t]:M(a[t])})),Object.create(null)),{onBadResponse:r,onDataResponse:o,maxPingIterations:n});return o.call(s),e.call(N(Object.create(null),{context:s,response:t,options:l}))}return r(t)}}),function(e){return(new i).handle(e)}}}function So(e){const{onBadResponse:t,onDataResponse:n,onRequireValidation:r,onValidateFailed:o,onValidateSuccessful:a}=this;return(i={onBadResponse:t,onDataResponse:n,onRequireValidation:r,onValidateFailed:o,onValidateSuccessful:a},Io((function(){const{context:e,options:t}=this,{onValidateFailed:n,onValidateSuccessful:r,onRequireValidation:o}=t,{data:a}=e;N(e,{reference:N(Object.create(null),{charge:Yr(a),order:Zr(a),transaction:Qr(a)})});const{status:i,acctvalrespcode:c,responsecode:s}=Jr(a,"status","acctvalrespcode","responsecode"),l=qr(a),u=String(i).toLowerCase(),d=s||c;if(["00"].indexOf(d)>=0||["00"].indexOf(l)>=0||["success","successful"].indexOf(u)>=0)return r.call(e);const{authModel:m,responsemessage:p,acctvalrespmessage:f,chargeResponseMessage:h,message:_,paymentType:b}=Jr(a,"authModelUsed::authModel","responsemessage","acctvalrespmessage","chargeResponseMessage","message","paymentType"),E=p||f;return N(e,{auth:m||null,charge_code:l,payment_type:b,validation_code:d,message:N(Object.create(null),{charge:h||null,validation:E||null,fallback:_||null})}),u.indexOf("fail")<0&&("02"===d||"02"===l)?("RANDOM_DEBIT"===m&&"RR"===d?n:o).call(e):n.call(e)}))(i))(e);var i}const No=Pt(He.one.init($t));function wo(){const e=Boolean(4&this.flags),t=Boolean(2&this.flags),n=`/flwv3-pug/getpaidx/api/validate${String.apply(null,["charge"].slice(!t))}`,r=new URL(n,"https://api.ravepay.co");return!0===e&&r.searchParams.set("use_polling",1),r}function Mo(e,t){const n=this;let{onBegin:r,onComplete:o,onError:a}=t=sn(t);r=M(r),o=M(o),a=M(a,v);const i=So.bind(N(Object.create(null),{...t}));return Promise.resolve(n.$chargeData).then((t=>(r.call(n),No(wo.call(n),{body:JSON.stringify({...S(e)?e:{},modalauditid:t.modalauditid,PBFPubKey:t.PBFPubKey})}).then((e=>Lt(e)?e.json().then(i):Promise.reject(new Error))).catch(a).finally(o.bind(n)))))}const $o={amount:1,custom_campaign_id:0,charge_type:0,country:1,currency:1,"customer_phone::phone":3,cycle:0,device_fingerprint:0,email:0,custom_pwbt_expiry:0,custom_narration:0,firstname:0,ip:0,lastname:0,meta:1,modalauditid:1,payment_page:0,payment_plan:0,payment_type:1,PBFPubKey:0,redirect_url:0,subaccounts:0,transaction_charge:0,transaction_charge_type:0,"txRef::txref":0,QUERY_STRING_DATA:0};let Do,ko=!0;function Lo(){return fr().then((e=>{const t=S(e)?e:{},n=Object.create(null);return ko=!Object.isFrozen(t),Object.keys($o).forEach((r=>{let o;[r,o=r]=r.split("::");const a="QUERY_STRING_DATA"===o?Rt.raw:t[o]||void 0;if(N(n,{[r]:a}),"custom_pwbt_expiry"===r){let e=Rt.get("custom_pwbt_expiry");const t=Rt.raw;e||(e=t.bank_transfer_expiry),N(n,{expires:e})}if("custom_narration"===r){let e=Rt.get("custom_narration");e&&N(n,{narration:e})}if("custom_campaign_id"===r){let t=k(e,"campaign.campaign_id")||null;N(n,{campaign_id:t,is_discounted:null!==t?1:0})}if("customer_phone"===r){let e=Rt.get("customer_phone");e&&N(n,{phonenumber:e})}})),Do=Object.freeze(n)}))}function Po(){return Promise.resolve(!0===ko?Lo.call(this):Do||Lo.call(this)).then((e=>e||Object.freeze(Object.create(null))))}function jo(e){return Po.call(this).then((t=>{e=S(e)?e:{};const n={...t},r=Object.keys($o);return Object.keys(e).forEach((t=>{const o=r.find((e=>RegExp(`/^${t}(?:::.+)?$/`).test(e)));(!o||1&$o[o])&&(n[t]=e[t])})),n}))}function xo(e){return Io((function(){const{context:e,options:t,response:n}=this,{data:r}=e,{onChargeFailed:o,onChargeSuccessful:a,onRequireDiscount:i,onRequireRedirection:c,onRequireSuggestedAuth:s,onRequireValidation:l}=t;if(S(r)&&"apply_discount"in r)return i.call(e);if(["AUTH_SUGGESTION","auth_suggestion","V-COMP"].includes(n.message)&&S(r)&&"suggested_auth"in r){const{suggested_auth:t}=r;let n=null;switch(t){case"PIN":case"AVS":case"AVS_VBVSECURECODE":case"NOAUTH_INTERNATIONAL":n="PIN"===t?t:"AVS"}return s.call(N(e,{auth:n,suggested_auth:t}))}N(e,{reference:N(Object.create(null),{charge:Yr(r),order:Zr(r),transaction:Qr(r)})});const u=qr(r),{chargeStatus:d,chargeType:m,paymentType:p}=Jr(r,"charge_type::chargeType","paymentType","status::chargeStatus");if(["00"].indexOf(u)>=0||"pending-capture"===u&&"card"===p&&"preauth"===m)return a.call(e);if("02"===u){Ar.chargeRequestStatus("successful - Pending verification");const{validationCode:t,authModel:n,validationType:a,responseMessage:i}=Jr(r,"acctvalrespcode::validationCode","authModelUsed::authModel","type::validationType","response_message::responseMessage");if(N(e,{auth:n||null,charge_code:u,charge_type:m,payment_type:p,validation_code:t,validation_type:a}),"RANDOM_DEBIT"===n&&"RR"===t)return Ar.chargeRequestStatus("failed"),o.call(e);if(["PIN","OTP","GTB_OTP","ACCESS_OTP","MVISA-QR"].indexOf(n)>=0||["twofactorvalidate","callback","paymentcode"].indexOf(a)>=0)return l.call(e);try{const t=new URL(function(e){const{auth_url:t,authurl:n,redirect_url:r,link:o}=Jr(e,"auth_url","authurl","redirect_url","link");return t||n||r||o||null}(r));return c.call(N(e,{url:t}))}catch(t){return a&&"redirect"===a||!("pending"===d||String(d).toLowerCase().indexOf("pending")>=0||String(i).toLowerCase().indexOf("in progress")>=0)?Promise.reject(new Error("charge.redirect.error")):l.call(e)}}return o.call(e)}))(e)}function Uo(e){const{onBadResponse:t,onChargeFailed:n,onChargeSuccessful:r,onDataResponse:o,onRequireDiscount:a,onRequireRedirection:i,onRequireSuggestedAuth:c,onRequireValidation:s}=this;return xo({onBadResponse:t,onChargeFailed:n,onChargeSuccessful:r,onDataResponse:o,onRequireDiscount:a,onRequireRedirection:i,onRequireSuggestedAuth:c,onRequireValidation:s})(e)}let Vo=!1,Fo=!1;const Bo=Pt(He.one.init($t));function Ho(){!0===Fo&&(removeEventListener(co,Ho,!1),Fo=!1),Vo=!0}function Go(){const e=Boolean(1&this.flags),t=new URL("/flwv3-pug/getpaidx/api/charge","https://api.ravepay.co");return!0===e&&t.searchParams.set("use_polling",1),t}function zo(e,t){!0!==Fo&&(addEventListener(co,Ho,!1),Fo=!0);const n=this;let{onBegin:r,onComplete:o,onError:a}=t=sn(t);r=M(r),o=M(o),a=M(a,v);const i=Uo.bind(N(Object.create(null),{...t}));return jo.call(n,e).then((e=>(r.call(n),Bo(Go.call(n),{body:JSON.stringify({modalauditid:e.modalauditid,PBFPubKey:e.PBFPubKey,client:Pr(e)})}).then((e=>!1===Vo&&Lt(e)?e.json().then(i):Promise.reject(new Error))).catch(a).finally(o.bind(n)))))}function Wo(e,t=!1){const n=!0===t?0:2;return Number(new Intl.NumberFormat("en-US",{style:"decimal",useGrouping:!1,minimumFractionDigits:n,maximumFractionDigits:n}).format(e))}function Ko(e){if(e=Number("string"==typeof e?e.trim():e),Number.isNaN(e)||e<0)throw new TypeError("Invalid amount.");return e}function qo(e){return function(t){try{this[e]=Ko(t)}finally{return this}}}function Yo(e,t){this.base=Ko(e),this.currency=function(e,t){try{const n=it.validate({currency:e,support:!1});if((t=(t=[].concat(t).filter(Boolean)).length?t:it.SUPPORTED).indexOf(n)>=0)return n}catch(e){}throw new TypeError("Invalid currency.")}(t),this.usesRounded=it.ROUNDED.indexOf(this.currency)>=0,Object.defineProperty(this,"computed",{configurable:!0,enumerable:!0,get(){return this.base}})}function Zo(e,t){Yo.call(this,e,t),this.fee=0,this.discount=0,Object.defineProperty(this,"computed",{configurable:!0,enumerable:!0,get(){return this.base+this.fee-this.discount}})}function Qo(){const e=this;return function(){if(S(this)){const{data:t,reference:n}=this,r=k(e.STATE,"method.current");switch(e.$$data=t,e.reference=n,r){case"1voucher":{const n=k(t,"meta_data.change_voucher");if(S(n)){const{amount:t,pin:r,serial:o,expiry:a}=n;if(t&&r&&o&&a){const n=new Yo(t,"ZAR");e.CHANGE_VOUCHER=L({amount:()=>n,pin:()=>r,serial:()=>o,expiry:()=>a});break}}e.CHANGE_VOUCHER=!1;break}default:no&&no.activate.call(e)}}}}Object.defineProperties(Yo.prototype,{valueOf:{enumerable:!0,value:function(){return Wo(this.computed,this.usesRounded)}},toString:{enumerable:!0,value:function(){return`${this.currency} ${function(e,t=!1){return new Intl.NumberFormat("en-US",{style:"decimal",useGrouping:!0}).format(Wo(e,t))}(this.computed,this.usesRounded)}`}}}),Zo.prototype=N(Object.create(Yo.prototype),{constructor:Zo,updateFee:qo("fee"),updateDiscount:qo("discount")});var Jo={"authorize.momo":"Dial on your mobile phone to authorize this payment. It may take a few minutes to confirm this payment","mpesa.notification":"A push notification has been sent to your phone, complete the transaction by entering your PIN.","mpesa.secondary.without.fallbackDuration":"Please complete your transaction on M-PESA pay bill using the following details:","mpesa.secondary.with.fallbackDuration":"If you do not receive it after seconds, please complete your transaction on M-PESA pay bill using the following details:"},Xo={"authorize.momo":"Composez sur votre téléphone mobile pour autoriser ce paiement. La confirmation de ce paiement peut prendre quelques minutes","mpesa.notification":"Une notification push a été envoyée sur votre téléphone, terminez la transaction en saisissant votre code PIN","mpesa.secondary.without.fallbackDuration":"Veuillez compléter votre transaction sur M-PESA payer la facture en utilisant les détails suivants","mpesa.secondary.with.fallbackDuration":"Si vous ne le recevez pas après quelques secondes, veuillez compléter votre transaction sur M-PESA pay bill en utilisant les détails suivants:"};const ea=Pt(He.one.init($t));function ta(){const e=this;return function(){if(S(this)){const{data:t,reference:n,validation_type:r}=this,o=k(e.STATE,"method.current"),a=k(e.STATE,"locale");switch(e.$$data=t,e.reference=n,o){case"banktransfer":{const n=k(t,"amount"),r=k(e.DATA,"currency")||"NGN",o=k(e.DATA,"banktransfer_beneficiary_name"),a=k(e.DATA,"expires");if("NGN"===r||"USD"===r||"GHS"===r){const i=k(t,"accountnumber"),c=k(t,"bankname");if(i&&n&&c){const t=new Yo(n,r);e.TRANSFER_DETAILS=L({account:()=>i,amount:()=>t,bank:()=>c,beneficiary:()=>o,expiryTime:()=>a})}}else if("EGP"===r||"KES"===r){const o=k(t,"accountnumber"),a=k(t,"bankname"),i=k(t,"note"),c=k(t,"customer_ref");if(o&&n&&a){const t=new Yo(n,r);e.TRANSFER_DETAILS=L({account:()=>o,amount:()=>t,bank:()=>a,account_name:()=>null!==i?function(e){return e.includes("to")?e.split("to")[1].split(" ").filter(Boolean).join(" "):e}(i):null,narration:()=>c})}}else{const n=k(t,"data.amount"),a=k(t,"data.payment_code"),i=k(e.DATA,"expires");if(n&&a){const t=new Yo(n,r),c=L({amount:()=>t,beneficiary:()=>o,payment_code:()=>a,expiryTime:()=>i},!1);N(c,"GBP"===r?{account_number:"43271228",sort_code:"040053"}:{iban:"GB11PAYR00997500000697",bic_swift:"PAYRGB21"}),e.TRANSFER_DETAILS=Object.freeze(c)}}break}case"enaira":switch(k(e.$inputs,"eNairaPaymentOption[value].identifier")){case"QR":{const n=k(t,"qr_image");n&&(e.QR_CODE=n);break}case"TOKEN":e.SHOULD_VALIDATE_CHARGE=!0}break;case"mobilemoneyghana":case"mobilemoneyrwanda":case"mobilemoneytanzania":case"mobilemoneyuganda":case"mobilemoneyzambia":case"mpesa":case"payattitude":{const n=k(e.$inputs,"[network].value.identifier");let r;if("mobilemoneyghana"===o){if("MTN"===n)e.MOMO_INSTRUCTIONS="Please dial *170# to confirm your transaction if the prompt fails.";else{r=k(t,"validateInstructions");const[n="#144#"]=[].concat(String(r).match(/[*#][\d*#]+[*#]/g)).filter(Boolean);e.MOMO_INSTRUCTIONS=`Dial ${n} on your mobile phone to authorize this payment.`}const[o="#144#"]=[].concat(String(r).match(/[*#][\d*#]+[*#]/g)).filter(Boolean);const i=wt("en"===a?Jo:Xo,"authorize.momo").split(" ");i.splice(1,0,o),e.MOMO_INSTRUCTIONS=i.join(" ")}if("mpesa"===o){let r=wt("en"===a?Jo:Xo,"mpesa.notification"),o=!1;if(e.MPESA_SECONDARY_INSTRUCTION=null,"SAFARICOM"===n){const n=Boolean(k(e.DATA,"canSendSTKPushNotification")),i=k(e.DATA,"mpesaPaybill");o=!0!==k(e.DATA,"preferences[ignore_mpesa_fallback]"),e.MPESA_INSTRUCTION=n?r:null;const c=e.reference.order,s=i||k(t,"data.business_number"),l=k(t,"charged_amount");if(o&&c&&s&&l){const r=n?20:0,o=new Yo(l,k(e.DATA,"currency")),i="en"===a?Jo:Xo,u="mpesa.secondary.without.fallbackDuration";let d=wt(i,"mpesa.secondary.with.fallbackDuration").split(" ");d.splice(7,0,r),e.MPESA_SECONDARY_INSTRUCTION=r?d.join(" "):wt(i,u),e.FALLBACK_DETAILS=L({account:()=>c,amount:()=>o,business:()=>s}),e.mpesaOverrideTimeout=setTimeout((()=>{!0!==e.mpesaPollingCompleted&&Promise.resolve(ea(new URL("/v2/gpx/mpesa/authoverride","https://api.ravepay.co"),{body:JSON.stringify({modalauditid:k(e.DATA,"modalauditid"),public_key:k(e.DATA,"PBFPubKey"),id:k(t,"id")})}).then((e=>Lt(e)&&e.ok)).catch(ln))}),1e3*r)}}else e.MPESA_INSTRUCTION=r}break}case"mobilemoneyfranco":if("twofactorvalidation"===r)e.SHOULD_VALIDATE_CHARGE=!0;else if("callback"===r){if("BF"!==k(e.DATA,"country")){const n=k(t,"data.note"),[r="#144#"]=[].concat(String(n).match(/[*#][\d*#]+[*#]/g)).filter(Boolean);const o=wt("en"===a?Jo:Xo,"authorize.momo").split(" ");o.splice(1,0,r),e.CONFIRM_INSTRUCTION=o.join(" ")}e.SHOULD_VALIDATE_CHARGE=!1}break;case"paga":"twofactorvalidation"===r&&(e.PAGA_INSTRUCTION=k(t,"data.note")||null,e.SHOULD_VALIDATE_CHARGE=!0);break;case"nqr":case"qr":case"wechat":{const n=k(t,"qr_image");n&&(e.QR_CODE=n);break}case"ussd":{const n=k(t,"data.note"),[,r,o]=String(n).match(Qe)||[],a=(o?(r||String()).replace(/#$/,`*${o}#`):r)||null;a&&(e.USSD_CODE=a);break}case"fawrypay":{const n=k(t,"flwRef");n&&(e.FAWRY_REFERENCE=n);break}case"capitec":e.SHOULD_VALIDATE_CHARGE=!0}}}}function na(){const e=Object.create(null);return N(e,{NAME:"backgroundProcessing",Reducer:function(e=!1,t){const n=S(t.payload)?t.payload:{};if(t.type===E){const{processing:t}=n;return O(t)&&t!==e?t:e}return e},actions:N(Object.create(null),{updateBackgroundProcessing:function(e){return t=>{t({type:E,payload:{processing:e}})}}})}),na=e}function ra(){const e=S(this)?this:Object.create(null);return Dr({NAME:"PENDING_VIEW",mount(){Object.keys(e).length>0&&e.dispatch&&e.dispatch(ae.actions.updateErrorMessage());const{$$data:t,data:n}=this,r=S(t)?t:S(n)?n:null,o=Jr(r,"tx").tx||Jr(r,"data").data||r||null;var a;Ar.transactionPending(),a=()=>{if(eo||to)try{return void Xr.postMessage({name:r.name||"opop",data:r,tx:o,success:!0},"*")}catch(e){}setTimeout((function(){fr().then((e=>{try{const t=k(e,"redirect_url"),n=k(e,"txref");if(t&&n){const a=new URL(t),i=a.searchParams;if(!0===e.use_v3){const{transaction_id:e,status:t}=Jr(o,"id::transaction_id","status");i.set("status",t||"pending"),i.set("tx_ref",n),i.set("transaction_id",e||null),Ar.redirectingToMerchant(o).finally((()=>window.location.href=a.href))}else{const{redirect_post:e,redirect_no_json:t}=It("redirect_post","redirect_no_json"),n=+e?"POST":"GET";if("GET"===n&&+t)return void Ar.redirectingToMerchant(o).finally((()=>window.location.href=a.href));const i=document.createElement("form"),c=document.createElement("textarea");c.setAttribute("name","resp"),c.setAttribute("hidden","hidden"),c.setAttribute("readonly","readonly"),c.classList.add("sr-only"),c.value=JSON.stringify(r),i.setAttribute("method",n),i.setAttribute("action",a.href),i.setAttribute("hidden","hidden"),i.classList.add("sr-only"),i.appendChild(c),document.body.appendChild(i),Ar.redirectingToMerchant(o).finally((()=>i.submit()))}}}catch(e){}}))}),5e3)},Wr.mixpanelInitialized()?Wr.pendingPayment().finally((()=>a())):Promise.resolve().then((()=>a()))}}).call(this)}var oa={"init.missing.parameter.amount":"Missing parameter (`amount`): Kindly terminate this session and reconfirm the data.","init.invalid.parameter.amount":"Invalid parameter (`amount`): Kindly terminate this session and reconfirm the data.","init.missing.parameter.currency":"Missing parameter (`currency`): Kindly terminate this session and reconfirm the data.","init.invalid.parameter.currency":"Invalid parameter (`currency`): Kindly terminate this session and reconfirm the data.","init.missing.parameter.customer_email":"Missing parameter (`customer_email`): Kindly terminate this session and reconfirm the data.","init.invalid.parameter.customer_email":"Invalid parameter (`customer_email`): Kindly terminate this session and reconfirm the data.","init.missing.parameter.PBFPubKey":"Missing parameter (`PBFPubKey`): Kindly terminate this session and reconfirm the data.","init.invalid.parameter.PBFPubKey":"Invalid parameter (`PBFPubKey`): Kindly terminate this session and reconfirm the data.","init.missing.parameter.txref":"Missing parameter (`txref`): Kindly terminate this session and reconfirm the data.","init.invalid.parameter.txref":"Invalid parameter (`txref`): Kindly terminate this session and reconfirm the data.","init.generic.notice":"Initialization failed: Kindly terminate this session and reconfirm the data.","close.checkout.notice":"Are you sure you want to cancel this payment?","iframe.close.text":"Close"},aa={"init.missing.parameter.amount":"Paramètre (`amount`) manquant: veuillez mettre fin à cette session et reconfirmer les données.","init.invalid.parameter.amount":"Paramètre (`amount`) non valide: veuillez mettre fin à cette session et reconfirmer les données.","init.missing.parameter.currency":"Paramètre (`currency`) manquant: veuillez mettre fin à cette session et reconfirmer les données.","init.invalid.parameter.currency":"Paramètre (`currency`) non valide: veuillez mettre fin à cette session et reconfirmer les données.","init.missing.parameter.customer_email":"Paramètre (`customer_email`) manquant: veuillez mettre fin à cette session et reconfirmer les données.","init.invalid.parameter.customer_email":"Paramètre (`customer_email`) non valide: veuillez mettre fin à cette session et reconfirmer les données.","init.missing.parameter.PBFPubKey":"Paramètre (`PBFPubKey`) manquant: veuillez mettre fin à cette session et reconfirmer les données.","init.invalid.parameter.PBFPubKey":"Paramètre (`PBFPubKey`) non valide: veuillez mettre fin à cette session et reconfirmer les données.","init.missing.parameter.txref":"Paramètre (`txref`) manquant: veuillez mettre fin à cette session et reconfirmer les données.","init.invalid.parameter.txref":"Paramètre (`txref`) non valide: veuillez mettre fin à cette session et reconfirmer les données.","init.generic.notice":"Échec de l'initialisation: veuillez mettre fin à cette session et reconfirmer les données.","close.checkout.notice":"Voulez-vous vraiment annuler ce paiement?","iframe.close.text":"Fermer"};function ia(e,t,n,r,o=!1,a,i,c){let s=Z.localStorage?atob(localStorage.getItem("retryAttempts")):null,l=null!==s?Number(s)/100:0;var u;null!==l&&0===l?t&&t.activate.call(r):l>0?(--l,localStorage.setItem("retryAttempts",btoa(String(100*Number(l)))),u=()=>{if(eo||to)try{return void parentWindow.postMessage({name:$data.name||"opop",data:$data,tx:$tx,success:!1},"*")}catch(e){}},Wr.mixpanelInitialized()?Wr.paymentFailed(a).finally((()=>u())):Promise.resolve().then((()=>u())),!0===o&&n((()=>setTimeout((()=>{a&&i(c.actions.updateErrorMessage(a,20))}),0))),n()):l&&null!==l||!e?l||e||((e=>{Wr.mixpanelInitialized()?Wr.paymentFailed(a).finally((()=>e())):Promise.resolve().then((()=>e()))})((()=>{if(eo||to)try{return void parentWindow.postMessage({name:$data.name||"opop",data:$data,tx:$tx,success:!1},"*")}catch(e){}})),!0===o&&n((()=>setTimeout((()=>{a&&i(c.actions.updateErrorMessage(a,20))}),0))),n()):t&&t.activate.call(r)}let ca,sa,la=!1,ua=!1;const da="payment.cancelled.error";function ma(){ua=!1,ca&&(ca.dispatch(na.actions.updateBackgroundProcessing(ua)),ca=void 0),sa&&(I(sa.close)&&sa.close(),sa=void 0),self.focus(),removeEventListener("message",pa)}function pa({data:e,source:t}){if(sa&&t===sa){!0===la&&document.querySelector("#iframe-checkout-v3-parent")&&document.querySelector("#iframe-checkout-v3-parent").remove();const{name:t,respcode:n,respmsg:r}=S(e)?e:{};switch(t){case"mmoney-captcha-failed":{const{INIT_VIEW:t,dispatch:n}=ca;ia(!0===k(ca.DATA,"preferences[should_redirect_on_fail]"),ro,t,{...ca,$$data:e},!0,A(e.data)&&e.data.trim()||null,n,ae),ma();break}case"mmoney-captcha-pending":ae.actions.updateErrorMessage(""),ra&&ra.activate.call({...ca,$$data:e}),ma();break;case"vbvcomplete":{const t=k(ca,"STATE.method.current");if(["mobilemoneygh","mobilemoneymalawi","mobilemoneytanzania"].indexOf(t)>=0&&Ar.customerReturnedFromVerificationPage(),["00"].indexOf(n)>=0)no&&no.activate.call({...ca,$$data:e});else{let t;const{INIT_VIEW:o,dispatch:a,$charge:i}=ca,c=k(ca,"STATE.method.current"),s=k(ca,"STATE.currency.current");if("paypal"===c)try{const{vbvrespcode:n}=Jr(e,"vbvrespcode");"RR-C02"===n&&(no&&no.activate.call({...ca,$$data:e}),Ar.paypalPendingMerchantAction(),t=!0)}catch(e){}if("opay"===c){const{transactionobject:t}=Jr(e,"transactionobject");try{if("string"==typeof t.status&&"failed"===t.status.toLowerCase()&&"02"===t.chargeResponseCode){const t=!0===k(ca.DATA,"preferences[should_redirect_on_fail]");ca.REDIRECT_URL=null,setTimeout((()=>{ia(t,ro,o,{...ca,$$data:e})}),0)}}catch(e){}}if("enaira"===c)try{const{vbvrespcode:n}=Jr(e,"vbvrespcode");if("02"===n){kr&&kr.activate.call({...ca,$$data:e});let n={onBegin(){},onCancel(){n.onComplete()},onFailure(e){},onSuccessful(){no&&no.activate.call({...ca,$$data:e})},onComplete(){}};i.poll(n),t=!0}}catch(e){}if("account"===c&&["EUR","GBP","ZAR"].includes(s))try{const{vbvrespcode:r}=Jr(e,"vbvrespcode");if(e.data&&"failed"!==e.data.status)"02"!==r&&"02"!==n||ra&&ra.activate.call({...ca,$$data:e});else{!0===k(ca.DATA,"preferences[should_redirect_on_fail]")?ro&&ro.activate.call({...ca,$$data:e}):o((()=>setTimeout((()=>a(ae.actions.updateErrorMessage(e.respmsg))),0)))}t=!0}catch(e){}if("paga"===c)try{const r=k(e,"transactionobject.acctvalrespmsg");if("02"===n){ia(!0===k(ca.DATA,"preferences[should_redirect_on_fail]"),ro,o,{...ca,$$data:e},!0,r,a,ae)}t=!0}catch(e){}if(!0!==t){const t=!0===k(ca.DATA,"preferences[should_redirect_on_fail]"),n=A(r)&&r.trim()||null;ia(t,ro,o,{...ca,$$data:e},!0,n,a,ae)}}ma();break}}}}function fa(e){if(!S(this))throw new Error("Cannot retrieve functions without an execution context.");if(!S(e)||!Object.isExtensible(e))throw new Error("Cannot retrieve functions without appropriate context object.");let t;const n=this,{mode:r}=n,o=Boolean(8&r),{charge:a,poll:i,validate:c,$context:s}=ha({flags:r}),l=Qo.call(e),u=ta.call(e),d=function(){const t=this;return function(n){const{INIT_VIEW:r,dispatch:o}=t;let a;n&&(a=n instanceof Error?n.message:Kr(n)||n),S(this)&&S(this.data)&&(({$error:a}=this.data),a=a||Kr(this.data));ia(!0===k(e.DATA,"preferences[should_redirect_on_fail]"),ro,r,e,!1,a),a&&"failed to fetch"===a.toLowerCase()?setTimeout((()=>{o(ae.actions.updateErrorMessage("network.failed.error"))}),100):a&&(setTimeout((()=>{const e=k(s.$state.info.feeData);o(oo.actions.updateInfo({fromCharge:!0,feeData:e}))}),100),setTimeout((()=>{o(ae.actions.updateErrorMessage(a))}),100))}}.call(e);function m(){e.dispatch(na.actions.updateBackgroundProcessing(ua=!0)),e.dispatch(io.actions.on()),e.dispatch(ae.actions.updateErrorMessage())}function p(){e.dispatch(na.actions.updateBackgroundProcessing(ua=!1)),e.dispatch(io.actions.off())}function f(){try{const{url:t,reference:n}=this;e.reference=n,t.href&&(e.REDIRECT_URL=t)}catch(e){}}function h(){if(p.call(this),S(this)){const{data:t}=this;e.$$data=N(Object.create(null),{data:t})}}const _=N(Object.create(null),{cancel(e){if(ua&&I(t))return t(e)},init(e){if(!ua){let t;({data:t,...e}=sn(e,{onBegin:m,onChargeSuccessful:l,onChargeFailed:d,onComplete:p,onDataResponse:h,onError:d,onRequireRedirection:f,onRequireValidation:u})),t={amount:k(s.$chargeData,"amount"),currency:k(s.$chargeData,"currency"),country:k(s.$chargeData,"country")||"NG",...S(n.data)?n.data:{},...S(t)?t:{}},!ye(t)&&a(t,e)}},validate(e){if(!ua){let t;({data:t,...e}=sn(e,{onBegin:m,onComplete:p,onDataResponse:h,onError:d,onValidateFailed:d})),t={...S(n.data)?n.data:{},...S(t)?t:{}},!ye(t)&&c(t,e)}},poll(n){if(!ua){const{order:r,charge:a}=S(e.reference)?e.reference:{},c=o?r:a;if(c){const r=i(c,sn(n,{onBegin(){e.dispatch(na.actions.updateBackgroundProcessing(ua=!0))},onComplete:p,onDataResponse(t){e.$$data=t},onError(r){t&&t(),ua=!1,RangeError,e.$charge.poll(n)},onFailure:d}),e);t=function(n){if(I(r))return r(),t=void 0,e.dispatch(na.actions.updateBackgroundProcessing(ua=!1)),M(n)(),!0}}}},redirect(){if(!ua)try{const t=e.REDIRECT_URL,n="applepay"===k(e,"STATE.method.current"),r="googlepay"===k(e,"STATE.method.current"),o=!0===k(e,"DATA.preferences[can_switch_to_paymob]"),a="account"===k(e,"STATE.method.current")&&["GBP","EUR"].indexOf(k(e,"STATE.currency.current"))>=0,i="account"===k(e,"STATE.method.current")&&"ZAR"===k(e,"STATE.currency.current"),c="opay"===k(e,"STATE.method.current"),s="account"===k(e,"STATE.method.current")&&"NGN"===k(e,"STATE.currency.current"),l="en"===k(e,"STATE.locale")?oa:aa;let u=wt(l,"iframe.close.text"),d=function(){window.opr&&opr.addons||window.opera||navigator.userAgent.indexOf(" OPR/"),/constructor/i.test(window.HTMLElement)||(!window.safari||safari.pushNotification).toString();var e=/*@cc_on!@*/!!document.documentMode,t=!e&&!!window.StyleMedia;return window.chrome&&window.chrome.webstore,!(!e&&!t)}();if(la=!(!J.isMobile&&!d),la&&!1===n&&!1===r&&!1===o&&!1===a&&!1===i&&!1===c&&!1===s){if(function(e,t){var n=document.createElement("div");n.setAttribute("id","iframe-checkout-v3-parent"),n.setAttribute("style","position:relative;background:#fff;top:0;left:0;bottom:0;right:0;border:none;visibility:visible;position:absolute;z-index:999999"),n.classList.add("iframe-loader");var r=document.createElement("iframe"),o=document.createElement("button");return o.textContent=t,o.setAttribute("style","font-weight:bold;background-color:#FF9B00;color:#fff;border-radius:3px;padding:3px;top:10px;right:15px;visibility:visible;position:absolute;z-index:999999999"),o.classList.add("_iframe__close"),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("id","_3dseciframe"),r.src=e,r.onload=function(){n.classList.remove("iframe-loader")},n.appendChild(r),n.appendChild(o),document.body.appendChild(n),o.addEventListener("click",(()=>{document.getElementById("iframe-checkout-v3-parent").remove(),setTimeout((()=>sa.closed=!0),100)})),n}(t.href,u)){let t=document.getElementById("_3dseciframe");sa=t.contentWindow,e.dispatch(na.actions.updateBackgroundProcessing(ua=!0)),ca=e,e.dispatch(ae.actions.updateErrorMessage());const n=setInterval((()=>{if(sa){if(sa.closed){const{INIT_VIEW:t,dispatch:r}=e;clearInterval(n),sa=void 0,self.focus(),r(na.actions.updateBackgroundProcessing(ua=!1)),r(ae.actions.updateErrorMessage(da))}}else clearInterval(n)}),1e3);addEventListener("message",pa)}}else if(sa=window.open(t.href,"_blank")){e.dispatch(na.actions.updateBackgroundProcessing(ua=!0)),ca=e,e.dispatch(ae.actions.updateErrorMessage());const t=setInterval((()=>{if(sa){if(sa.closed){const{INIT_VIEW:n,dispatch:r}=e;clearInterval(t),sa=void 0,self.focus(),r(na.actions.updateBackgroundProcessing(ua=!1)),r(ae.actions.updateErrorMessage(da))}}else clearInterval(t)}),1e3);addEventListener("message",pa)}}catch(e){}}});return N(e,{$charge:_})}function ha(e,t){e&&t&&(ha=function(n){const r=L({$chargeData:()=>e,$state:()=>t.getState()},!1);return Object.freeze(N(r,{...S(n)?n:{}})),Object.freeze(N(Object.create(null),{$context:r,charge:zo.bind(r),poll:bo.bind(r),validate:Mo.bind(r)}))})}var _a=ha;function ba(){const e=S(this)?this:Object.create(null);return Dr({NAME:"NOOP_VIEW"}).call(e)}let Ea;const ya=Object.create(null),ga=Pt(He.one.limit(3).init($t).retry(He.RetryOnNetworkError,He.RetryOnTimeout).timeout(kt)),Ca=function(){const e=new Error("FETCH_LIMIT_FAILED");return e.name="ERR_FETCH_LIMIT_FAILURE",Object.freeze(e)}();function va(e){const t=this;var n;e=I(e)?e:v,n=(n,r)=>{const{dispatch:o}=js,a=e=>{o(ae.actions.updateErrorMessage(e))},i=k(js.getState(),"method.current");-1===["mobilemoneytanzania"].indexOf(i)&&(o(io.actions.on()),o(na.actions.updateBackgroundProcessing(!0))),fr().then((e=>{const t=e.currency,n=e.email,r=k(js.getState(),"method.current");let o=k(js.getState(),"view.context.inputs['network'].value")?k(js.getState(),"view.context.inputs['network'].value").identifier:"VODAFONE",a=btoa(`${t}::${r}`);Ea||(Ea=e.amount);let i={amount:Ea,currency:t,customer_email:n,payment_method:r,public_key:e.PBFPubKey,checkout_id:e.modalauditid};if("mobilemoneyrwanda"===r&&(i.network="RWF"),"mobilemoneytanzania"===r){const n=k(js.getState(),"view.context.inputs['network'].value")||null;o=null===n?o:n.identifier,i.network=o||k(e,"mobilemoney_network")||null,a=btoa(`${t}::${r}::${o}`)}return ya[a]?Promise.resolve(ya[a]):ga("https://api.ravepay.co/v3/checkout/limit",{body:JSON.stringify(i)}).then((e=>Lt(e)?e.json().then((e=>{if(S(e)&&S(e.data)){const{within_limits:t,min_amount:n,max_amount:r,currency:o}={...e.data};return Object.defineProperty(ya,a,{value:{within_limits:t,min_amount:n,max_amount:r,currency:o},configurable:!0}),ya[a]}return Promise.reject([Ca,o,r])})):Promise.reject([Ca,o,r])))})).then((({within_limits:n,min_amount:r,max_amount:i,currency:c})=>{o(ae.actions.updateErrorMessage());const s=k(js.getState(),"method.current");if(!0===n)e();else if("mobilemoneytanzania"===s){const{INIT_VIEW:e}=t;i=+i,r=+r,Number.isFinite(i)&&Ea>i?a(`dynamic.limit.exceed.error ${new Yo(i,c)}`):Number.isFinite(r)&&Ea<r?a(`dynamic.limit.below.error ${new Yo(r,c)}`):Number.isFinite(r)&&Number.isFinite(i)?a(`dynamic.limit.range.error ${new Yo(r,c)} dynamic.limit.range.to ${new Yo(i,c)}`):a("limit.default.error"),e()}else ba&&ba.activate.call(t,(()=>{i=+i,r=+r,Number.isFinite(i)&&Ea>i?a(`dynamic.limit.exceed.error ${new Yo(i,c)}`):Number.isFinite(r)&&Ea<r?a(`dynamic.limit.below.error ${new Yo(r,c)}`):Number.isFinite(r)&&Number.isFinite(i)?a(`dynamic.limit.range.error ${new Yo(r,c)} dynamic.limit.range.to ${new Yo(i,c)}`):a("limit.default.error")}))}),(t=>(e(),t instanceof DOMException&&"AbortError"==t.name?void 0:r(t)))).finally((()=>(o(na.actions.updateBackgroundProcessing(!1)),o(io.actions.off()),n())))},new Promise(((e,t)=>I(n)?n(e,t):e()))}let Ta,Ra;const Aa=Object.create(null),Oa=Pt(He.one.limit(3).init($t).retry(...Dt).timeout(kt)),Ia=function(){const e=new Error("FETCH_FEE_FAILED");return e.name="ERR_FETCH_FEE_FAILURE",Object.freeze(e)}();function Sa(e){var t;t=(t,n)=>{const{dispatch:r}=js;r(oo.actions.updateInfo({amountUpdate:!0})),function(e){return fr().then((t=>{const n=t.currency;let r=k(js.getState(),"method.current"),o=k(js.getState(),"view.context.inputs['network'].value")?k(js.getState(),"view.context.inputs['network'].value").identifier:"MTN",a=k(js.getState(),"view.context.inputs['country'].value")?k(js.getState(),"view.context.inputs['country'].value").code:"";if("card"===r){const o=!0===k(t,"preferences[can_switch_to_paymob]");"EGP"===n&&(o?r="paymob":!o&&e&&/^\d{6}$/.test(e)&&(r=e)),e&&/^\d{6}$/.test(e)&&(r=e)}"1voucher"===r&&(r="flashvoucher"),Ra||(Ra=t.amount);let i=Ra,c=btoa(`${n}::${r}`),s={amount:i,currency:n,payment_method:r,public_key:t.PBFPubKey,checkout_id:t.modalauditid};if("mobilemoneytanzania"===r&&(s.network=k(t,"mobilemoney_network")||null,s.payment_method="MOBILEMONEY"),["mobilemoneyghana","mobilemoneyfranco","mobilemoneytanzania","mobilemoneyzambia"].includes(r)){const e=k(js.getState(),"view.context.inputs['network'].value"),i=k(js.getState(),"view.context.inputs['country'].value");switch(o=e.identifier,s.network=e.identifier||k(t,"mobilemoney_network")||null,r){case"mobilemoneyghana":s.country="GH",a="GH";break;case"mobilemoneyfranco":s.country=i.code||k(t,"country")||null,a=i.code;break;case"mobilemoneytanzania":s.country="TZ",a="TZ";break;case"mobilemoneyzambia":s.country="ZM",a="ZM"}c=btoa(`${n}::${r}::${o}::${a}`)}if(Aa[c]){try{const{dispatch:e}=js,t={...Aa[c]},{charge_amount:n,dcc:r,...o}=t,a=r&&r.fee?r.fee:t.fee,i=!!r;let s=0;if(Object.keys(o).length>1){const e=Object.values(o).filter((e=>"number"==typeof e));s=e.length>0?e.reduce(((e,t)=>e+t),0):0}const l=r?r.charge_amount:parseFloat(n)-parseFloat(s);r&&(r&&r.rate&&delete r.rate,r&&r.intlfee&&delete r.intlfee,r&&r.ravefee&&delete r.ravefee),t.currency&&delete t.currency,t.charge_amount&&delete t.charge_amount,t.dcc&&delete t.dcc,t.ravefee&&delete t.ravefee,t.intlfee&&delete t.intlfee;const u=r?{...r}:{amount:l,...a&&a,...t};setTimeout((()=>e(oo.actions.updateInfo({dccAvailable:i,feeData:u}))),10)}catch(e){}return Promise.resolve(Aa[c])}return Oa("https://api.ravepay.co/v3/checkout/fee",{body:JSON.stringify(s)}).then((e=>Lt(e)&&e.ok?e.json().then((e=>{if(S(e)&&S(e.data)){let t,n=null;const{charge_amount:r,dcc:o}={...e.data},{dispatch:a}=js;if(k(js.getState(),"campaign")&&Object.keys(k(js.getState(),"campaign")).length>0){let e=k(js.getState(),"campaign").discounted_value;n=e;let o=parseFloat(r)-parseFloat(Ra);t=parseFloat(Ra)-parseFloat(e)+parseFloat(o)}else t=r;return setTimeout((()=>{let t;delete e.data.currency,delete e.data.charge_amount,delete e.data.dcc;const r=o?{...o}:{...e.data},i=!!o;t=null!==n?{amount:o?o.amount:s.amount,discount:n,...r}:{amount:o?o.amount:s.amount,...r},t.charge_amount&&delete t.charge_amount,t.rate&&delete t.rate,t.ravefee&&delete t.ravefee,t.intlfee&&delete t.intlfee,a(oo.actions.updateInfo({dccAvailable:i,feeData:t}))}),10),Object.defineProperty(Aa,c,{value:{charge_amount:t.toFixed(2),dcc:o,...e.data}}),Aa[c]}return Promise.reject([Ia,n,r])})):Promise.reject([Ia,n,r])))}))}(e).then((e=>{r(ie.actions.updateChargeAmount(e)),t(e),r(oo.actions.updateInfo({amountUpdate:!1}))}),(t=>{const[o,a,i]=[].concat(t);let c=Ra;if(i===e){const e=btoa(`${a}::card`);c=Aa[e]||Ra}let s=k(js.getState(),"campaign").discounted_value;c&&"number"==typeof c&&(c=(c-s).toFixed(2)),r(ie.actions.updateChargeAmount(c)),n(o),r(oo.actions.updateInfo({amountUpdate:!1}))}))},new Promise(((e,n)=>{(O(Ta)?Promise.resolve(Ta):fr().then((e=>Ta=!k(e,"preferences[merchant_bears_fees]")))).then((r=>{t(e,n)})).finally(e)}))}function Na(){const{$charge:e}=this;return Na=Dr({NAME:"NQR_INIT_VIEW",next(){e.init()}}).call(this)}function wa(){const e=this,{$charge:t,$timer:n}=this,r={onBegin(){n.start()},onCancel(){r.onComplete()},onSuccessful(){no&&no.activate.call(e)},onComplete(){n.clear(),e.QR_CODE=null}};return wa=Dr({NAME:"NQR_CODE_VIEW",mutables:{timerCurrent:"CURRENT_TIME"},constants:{get qrcode(){return e.QR_CODE},instruction:"Scan the QR Code below on your bank's mobile app to complete the payment"},next(){t.poll(r)}}).call(this)}const Ma="$0x1",$a="$0x2",Da="$0x3",ka=Object.freeze(N(Object.create(null),{valueOf(){return this.time},toString(){return function(e){const t=Math.max(0,+e||0),n=Math.floor(t/60);return[n,t%60].map((e=>"00".concat(e||0).slice(-2))).join(":")}(this.time)},countdownTick(){return this.time>0?ja(--this.time):this}}));function La(e){return(La=function(e){return Math.ceil(e/7.8125)/128}).call(this,e)}function Pa(e){return Math.max(0,+e||0)}function ja(e){const t=Object.create(ka);let n;return Object.freeze(L.call(t,{time:{getter:()=>n,setter(e){n=Pa(e)}}}),t.time=e)}function xa(e){const{callback:t,duration:n,autostart:r=!1}=S(e)?e:{[(I(e)?"callback":O(e)&&"autostart")||"duration"]:e};return N(Object.create(null),{autostart:!0===r,callback:M(t),duration:Pa(Math.ceil(parseFloat(n)))})}function Ua(e){let t,n;const{create:r,release:o,elapsed:a}=S(e)?e:{};return[r,o,a].every(I)?{invisible(){!function(){t||(t=`__${btoa(String(Math.random())).replace(/[+=\/]/g,"").slice(-3)}__`);r(t,n=Date.now())}(),dispatchEvent(new CustomEvent(Da,{bubbles:!1,cancelable:!1}))},visible(){const e=+a(t,Date.now());if(e){const t=Object.create(L({[Ma]:()=>e},!0));Object.freeze(N(t,{exact:e,seconds:La(e),timestamp:n})),dispatchEvent(new CustomEvent($a,{detail:t,bubbles:!1,cancelable:!1}))}!function(){t&&o(t,Date.now());t=n=void 0}()}}:{invisible:v,visible:v}}let Va=!0;const{invisible:Fa,visible:Ba}=Z.performance&&Ua({create:e=>performance.mark(e),release:e=>performance.clearMarks(e),elapsed(e){const t=performance.getEntriesByType("mark").filter((({name:t})=>t===e))[0];if(t)return performance.now()-t.startTime}})||Z.localStorage&&Ua({create:(e,t)=>localStorage.setItem(e,t),release:e=>localStorage.removeItem(e),elapsed(e,t){const n=localStorage.getItem(e);if(n)return t-n}})||function(){let e;return Ua({create(t,n){e=n},release(){e=void 0},elapsed(t,n){if(e)return n-e}})}(),Ha=()=>{Va&&(Va=!1,Fa())},Ga=()=>{!Va&&(Va=!0,Ba())},za=e=>e?`${e}Hidden`:"hidden",Wa=(()=>{for(const e of["moz","ms","o","webkit"])if(za(e)in document)return e;return null})(),Ka=za(Wa),qa=`${Wa||""}visibilitychange`;document.addEventListener(qa,(()=>(document[Ka]?Ha:Ga)()),!1),document.addEventListener("focus",Ga,!1),document.addEventListener("blur",Ha,!1),window.addEventListener("focus",Ga,!1),window.addEventListener("blur",Ha,!1);const[Ya,Za,Qa]=(()=>{const e=new Set,t=Symbol("subscription_callback"),n=Object.freeze(N(Object.create(null),{unsubscribe(){const n=this[t];n&&e.has(n)&&e.delete(n)}}));function r(...t){let n=!1;const o=()=>{n=!0};return(r=function(...t){n=!1;for(const r of e.values()){if(!0===n)break;try{I(r)&&r(...t,o)}catch(e){console.error(e)}}})(...t)}return[r,function(r){return I(r)&&e.add(r),Object.freeze(Object.create(n,{[t]:{value:r}}))},function(e){(function(e){if(S(e))try{return I(Object.getPrototypeOf)?Object.getPrototypeOf(e):k(e,"__proto__")||k(e,"constructor.prototype")}catch(e){}})(e)===n&&e.unsubscribe()}]})();addEventListener($a,(e=>{const t=e.detail;if(S(t)&&e.target===self){const{exact:e,...n}=t;e&&e===t[Ma]&&Ya(Object.freeze(N(Object.create(null),{exact:e,...n})))}}));const Ja=Object.freeze(N(Object.create(null),{registerCallback:Za,unregisterCallback:Qa}));function Xa(e){const{tick:t,updater:n}=S(e)?e:{};return function(e){if(!I(t))return!1;let r=null,o=0,a=0,i=!1,c=!1,{callback:s,duration:l,autostart:u}=xa(e);function d(){function e(e){if(!0!==c){const{seconds:t=0}=S(e)?e:{},n=Math.floor(t);o+=n,a=setTimeout(u,1e3*(t-n)),c=!0}}function u(){i||(f(),++o&&!0===t({current:o,duration:l})?a=setTimeout(u,1e3):(p(),i=!0,s()))}function f(){if(I(n))return(f=function(){return n({current:o,duration:l})})()}return(d=function(){e(),r=Ja.registerCallback(e),addEventListener(Da,m)}).call(this)}function m(){a&&clearTimeout(a),a=0,c=!1}function p(){if(!i)return!1!==c&&(r&&Ja.unregisterCallback(r),r=null,removeEventListener(Da,m),m()),!0}function f(){if(!i&&!0!==c)return d(),!0}l=l||60;const h=N(Object.create(null),{pause:(...e)=>p(...e)||!1,play:(...e)=>f(...e)||!1,stop:(...e)=>!!p(...e)&&(i=!0),extend:(...e)=>{const t=function(e){if(!i)return e=Pa(Math.ceil(e)),l+=e,e}(...e);return null==t?null:t}});return L.call(h,{ticking:()=>!!a}),u&&f(),h}}function ei(e){function t(e){const t=S(this)?this:{};return Xa({tick:({current:e,duration:t})=>e<=t,updater({current:e,duration:n}){const r=Pa(n-e);t.callbacks&&t.callbacks.forEach((e=>e(r)))}})(e)}return ei=function(e){let n,r=[];({callback:n,...e}=xa(e)),e={...e,callback:function(){r.length=0,r=void 0,n()}};const o=t.call(L({callbacks:()=>r}),e);if(S(o))return N(o,{addTickCallback(e){const t=I(e);return t&&(r=x(r,e)),t},removeTickCallback(e){const t=r&&r.indexOf(e)>=0;return t&&(r=U(r,e)),t}});return null},ei(e)}function ti(e){let t,n,{duration:r,onClear:o,onContinue:a,onExtend:i,onFinish:c,onHalt:s,onStart:l,onTick:u}=S(e)?e:{};function d(e){u(n=ja(e))}function m(){t=void 0,c()}r=ja(r),o=M(o),a=M(a),i=M(i),c=M(c),s=M(s),l=M(l),u=M(u);const p=Object.freeze(N(Object.create(null),{clear(){let e=!1;try{e=Boolean(S(this.$timer)&&this.$timer.stop()),e&&(t=void 0,n=null,o())}finally{return e}},extend(e){let t=!1;try{e=Math.min(Pa(Math.ceil(e)),this.duration.time),t=Boolean(S(this.$timer)&&e&&(e=this.$timer.extend(e))),t&&i(ja(e))}catch(e){console.error(e)}finally{return t}},halt(){let e=!1;try{e=Boolean(S(this.$timer)&&this.$timer.pause()),e&&s()}finally{return e}},start(){let e=!1,n=l;if(S(this.$timer)){if(this.$timer.ticking)return!1;n=a}else t=ei({callback:m,duration:this.duration.time}),t.addTickCallback(d);try{e=Boolean(this.$timer.play()),e&&n()}finally{return e}}}));return Object.freeze(L.call(Object.create(p),{$timer:()=>t,current:()=>n,duration:()=>r}))}function ni(e,t){if(!S(e)||!Object.isExtensible(e))throw new Error("Cannot setup countdown timer without appropriate context object.");let{duration:n,onClear:r,onContinue:o,onExtend:a,onFinish:i,onHalt:c,onStart:s,onTick:l}=S(t)?t:{};return r=M(r),o=M(o),a=M(a),i=M(i),c=M(c),s=M(s),l=M(l),N(e,{$timer:ti({duration:n,onClear:r,onContinue:o,onExtend:a,onFinish:i,onHalt:c,onStart:s,onTick:l})})}const ri=Pt(He.many.init($t)),oi=new URL("/v2/nqr/cancel","https://api.ravepay.co"),ai=[Na,wa];var ii=Object.freeze({__proto__:null,METHOD:"nqr",METHOD_NAME:"NQR",CHARGE_MODE:8,VIEWS:ai,mount:function(){return e=>{va.call(this,(()=>{const e=this.QR_CODE&&(wa||(this.QR_CODE=null))||Na;e&&e.activate((()=>this.startListeningForCancellation()))})),Sa()}},getChargeData:function(){return{is_nqr:!0,payment_type:"nibss-qr"}},getViewsContext:function(e,t){const n=pn(Object.create(null),"QR_CODE","CURRENT_TIME");let r=!1;const o=()=>{a(),i()},a=()=>{!0===r&&(removeEventListener(so,o,!1),removeEventListener(co,o,!1),r=!1)},i=()=>{if("NQR_CODE_VIEW"===k(n.STATE,"view.current")){const t=k(e,"PBFPubKey"),{charge:r=null}=S(n.reference)?n.reference:{},o=JSON.stringify({public_key:t,reference:r});return ri(oi,{body:o}).then((e=>Lt(e)?e.json().then((e=>{"success"===e.status&&n.$resetContext()})):Promise.reject())).catch(ln)}};return n.$subscribe("QR_CODE",((e,t)=>{setTimeout((()=>{!t&&e&&t!==e&&wa&&wa.activate()}),0)})),N(n,{TIMER_DURATION:300,$resetContext(){n.QR_CODE=null},startListeningForCancellation:()=>{!0!==r&&(addEventListener(so,o,!1),addEventListener(co,o,!1),r=!0)},stopListeningForCancellation:a,INIT_VIEW:e=>{Na&&Na.activate(e)}}),ni(n,{duration:300,onTick(){n.CURRENT_TIME=n.$timer.current},onFinish(){n.$charge.cancel()&&(n.$timer&&n.$timer.clear(),n.CURRENT_TIME=null,n.$resetContext(),a(),setTimeout((()=>{ae.actions.updateErrorMessage(""),ra&&ra.activate.call(n)}),10))}})}});const ci=Object.freeze(R(null)),si=Function.prototype.call.bind(Object.prototype.hasOwnProperty),li="SWITCH";function ui(e){const t=Object.create(null);let{available:n,persists:r,required:o}=S(e)?e:{};return[n,r,o]=[n,r,o].map((e=>I(e)?function(e,t=!0){return t=!O(t)||t,e=M(e),function(){return D(e(),t)}}(e):R(D(e,!0)))),L.call(t,{available:n,persists:r,required:o})}function di(e){let{key:t,parser:n,propagate:r}=e=S(e)?e:{};if(t=t&&A(t)?t:null,n=M(n,T),r=M(r,v),t){const a=ui(e);let i=o();return L.call(a,{type:()=>"PLAIN",defaultValue:o,value:{getter:()=>i,setter(e){let t=i;try{(null===e&&t!==e||t!==(e=n(e)))&&(t=null==e?null:e),i!==t&&r(i=t)}catch(e){i=null,r(e)}}}},!1),N(Object.create(null),{[t]:Object.freeze(a)})}throw new Error("Cannot setup input field without appropriate label.");function o(){try{return n(e.defaultValue)}catch(e){return null}}}function mi(e){let{key:t,propagate:n}=e=S(e)?e:{};if(t=t&&A(t)?t:null,n=M(n,v),t){const o=ui(e);let a=r();return L.call(o,{type:()=>li,defaultValue:r,value:{getter:()=>a,setter(e){let t=a;t=null==e?this.defaultValue:!t,a!==t&&n(a=t)}}}),N(Object.create(null),{[t]:Object.freeze(o)})}throw new Error("Cannot setup switch input field without appropriate label.");function r(){try{return D(e.defaultValue,!1)}catch(e){return!1}}}function pi(e){let t,n,{key:r,propagate:o}=e=S(e)?e:{};if(r=r&&A(r)?r:null,o=M(o,v),r){const t=ui(e);let n=c();return L.call(t,{type:()=>"SELECTION",options:a,defaultValue:c,value:{getter:()=>n,setter(e){let t=n;try{(null===e&&t!==e||t!==(e=i(e)))&&(t=e),n!==t&&o(n=t)}catch(e){n=null,o(e)}}}}),N(Object.create(null),{[r]:Object.freeze(t)})}throw new Error("Cannot setup selection input field without appropriate label.");function a(){return t&&t===e.options?n:n=[].concat(t=e.options).filter(Boolean)}function i(t){const n=a(),r=M(e.selector,ci);return n.indexOf(t)>=0||n.indexOf(t=r(t))>=0?t:null}function c(){const t=a();return 1===t.length?t[0]:i(e.defaultValue)}}function fi(e,t){if(!S(e)||!Object.isExtensible(e))throw new Error("Cannot setup input fields without appropriate context object.");const n=Object.create(null),r=Object.create(null),o=function(e,t){let[n,r=null]=[t];t instanceof Error&&([n,r]=[r,n]);const{value:o,defaultValue:i,available:c,persists:s,...l}=a[e],u=N(Object.create(null),{value:n,...l});return r&&N(u,{error:r}),u},a=S(t)?Object.keys(t).reduce(((a,i)=>{let c=t[i];return c=S(c)?c:{defaultValue:I(c)?c.call(e):c},A(i)&&Object.isExtensible(c)&&(c.key=i,c.propagate=r[i]=function(){const e=o.bind(null,i);let t,r;return function(o){t&&clearTimeout(t),r=e(o),t=setTimeout((()=>{n[i]=r,t&&clearTimeout(t),t=void 0}),0)}}(),a={...a,...(si(c,"options")?pi:O(c.defaultValue)?mi:di)(c)}),a}),Object.create(null)):Object.create(null);return pn(n,...Object.keys(a)),Object.keys(r).forEach((e=>{M(r[e])(a[e].defaultValue)})),Object.defineProperties(n,{$available:{value:e=>si(a,e)&&!1!==a[e].available},$refresh:{value(...e){(e.length?e:Object.keys(a)).forEach((e=>{if(si(a,e)){const t=a[e];t.type!==li&&(t.value=t.value),M(r[e])(t.value)}}))}},$reset:{value(...e){(e.length?e:Object.keys(a)).forEach((e=>{if(si(a,e)){const t=a[e],n=t.defaultValue;t.value!==n&&(t.value=n)}}))}},$update:{value(e,t){si(a,e)&&(a[e].value=t)}}}),N(e,{$inputs:n})}function hi(){const e=this,{$inputs:t}=this;function n(){const{auth:t}=S(e.authModel)?e.authModel:{};return"AVS"===t||"PIN"===t?t:null}return hi=Dr({NAME:"CARD_AUTH_VIEW",inputs:["pin","billing_address","billing_city","billing_country","billing_state","billing_zip","card_holder_name","phonenumber"],constants:{get auth(){return n()},get cardNumber(){const e=k(t,"[card_number].value");return A(e)?e.replace(/^\d+?(\d{4})$/,((e,t)=>`**** ${t}`)):e}},next(){n()&&yi.call(e)}}).call(this)}function _i(){const e=S(this)?this:Object.create(null);return Dr({NAME:"PLACEHOLDER_VIEW"}).call(e)}function bi(){const e=this,{$charge:t,INIT_VIEW:n,$inputs:r,dispatch:o}=this,a=()=>{ia(!0===k(e.DATA,"preferences[should_redirect_on_fail]"),ro,n,e)},i=()=>{r.$reset("saved_card")},c=function(){const t=k(this,"validation_code"),n=k(this,"message.validation"),i=/^5[1-5]/.test(k(r,"[card_number].value")),c=Rt.get("custom_retry")||null;if(i&&!(/insufficient/i.test(n)||t.indexOf("RR")>=0)&&null===c)setTimeout((()=>yi.call(e,k(this,"reference.transaction"))),0);else{a();const e=`${-1===n.indexOf("We could not charge this card. Reason")?"We could not charge this card. Reason: ":""}${n}`;setTimeout((()=>o(ae.actions.updateErrorMessage(e))),100)}};return bi=Dr({NAME:"CARD_OTP_VIEW",inputs:["otp"],constants:{resendOTP:()=>!0===e.CAN_RESEND_OTP?_i&&_i.activate((()=>(e.SAVED_CARDS_ACTIVE?gi:yi).call(e))):Promise.resolve(!1)},mutables:{canResendOTP:"CAN_RESEND_OTP"},next(){const{charge:n=null}=S(e.reference)?e.reference:{},o=k(r,"[otp].value");if(o)if(e.SAVED_CARDS_ACTIVE&&e.useOldSavedCardFlow){const n=k(e.$savedCards,"device.phone"),a=k(r,"[saved_card].value"),c=a.hash;t.init({data:{otp:o,card_hash:c,device_key:n,is_visa:"VISA"===a.brand,is_saved_card_charge:!0,include_card_country:!0,payment_type:"saved-card"},onError:i,onChargeFailed:i})}else t.validate({data:{otp:o,transaction_reference:n},onError:a,onValidateFailed:c,onValidateSuccessful(){no&&no.activate.call(e)},onComplete(){e.clearResendTimer()}})}}).call(this)}function Ei(){const e=this,{$charge:t,INIT_VIEW:n,$inputs:r,dispatch:o}=this,a=()=>{ia(!0===k(e.DATA,"preferences[should_redirect_on_fail]"),ro,n,e)},i=()=>{r.$reset("saved_card")},c=function(){const t=k(this,"validation_code"),n=k(this,"message.validation"),i=/^5[1-5]/.test(k(r,"[card_number].value")),c=Rt.get("custom_retry")||null;if(i&&!(/insufficient/i.test(n)||t.indexOf("RR")>=0)&&null===c)setTimeout((()=>yi.call(e,k(this,"reference.transaction"))),0);else{a();const e=`${-1===n.indexOf("We could not charge this card. Reason")?"We could not charge this card. Reason: ":""}${n}`;setTimeout((()=>o(ae.actions.updateErrorMessage(e))),100)}};return Ei=Dr({NAME:"CARD_MOBILE_NUMBER_VIEW",inputs:["otp"],constants:{get instructions(){return e.COLLECT_MOBILE_INSTRUCTIONS}},mutables:{},next(){const{charge:n=null}=S(e.reference)?e.reference:{},o=k(r,"[otp].value");if(o)if(e.SAVED_CARDS_ACTIVE&&e.useOldSavedCardFlow){const n=k(e.$savedCards,"device.phone"),a=k(r,"[saved_card].value"),c=a.hash;t.init({data:{otp:o,card_hash:c,device_key:n,is_visa:"VISA"===a.brand,is_saved_card_charge:!0,include_card_country:!0,payment_type:"saved-card"},onError:i,onChargeFailed:i})}else t.validate({data:{otp:o,transaction_reference:n},onError:a,onValidateFailed:c,onValidateSuccessful(){no&&no.activate.call(e)},onComplete(){e.clearResendTimer()}})}}).call(this)}function yi(e){const t=this,{$charge:n,$inputs:r}=this,{auth:o,suggested_auth:a=null}=S(t.authModel)?t.authModel:{};let i={};if("PIN"===o){const e=k(r,"[pin].value");if(!e||!/^\d{4}$/.test(e))return;i={...i,pin:e,suggested_auth:a}}if("AVS"===o){const e=k(r,"[billing_address].value"),t=k(r,"[billing_city].value"),n=k(r,"[billing_country].value.sortname"),o=k(r,"[billing_state].value"),a=k(r,"[billing_zip].value"),c=k(r,"[card_holder_name].value")||null,s=k(r,"[phonenumber].value")||null;if(!(e&&t&&n&&o&&a&&c&&s))return;i={...i,billingaddress:e,billingcity:t,billingcountry:n,billingstate:o,billingzip:a,cardholdername:c,phonenumber:s,suggested_auth:"AVS_NOAUTH"}}const c=k(r,"[expiry].value"),s=k(r,"[cvv].value")||null,l=k(r,"[card_number].value")||null,[u=null,d=null]=A(c)?c.trim().split(/\s*\/\s*/):String();if(l&&s&&u&&d){i={...i,cardno:l,cvv:s,expirymonth:u,expiryyear:d};const o=!0===k(r,"[remember_card].value");if(e&&(i={...i,retry_charge:e}),o){const e=k(r,"[remember_email].value")||null,t=k(r,"[remember_phone].value")||null;e&&t?(Z.localStorage&&t&&localStorage.setItem("device_mobile_key",t),i={...i,remember_device:o,remember_device_email:e,remember_device_mobile_key:t}):i=null}const a=()=>setTimeout((()=>{t.authModel=null,r.$reset()}),0);if(i){const e=()=>setTimeout((()=>{Ci&&Ci.activate.call(t)}),0);t.CAN_RESEND_OTP=!1,n.init({data:i,onError:e,onFailed:e,onChargeFailed:a,onRequireSuggestedAuth(){const{auth:e,suggested_auth:n}=S(this)?this:{};t.authModel={auth:e,suggested_auth:n},hi&&hi.activate()},onRequireValidation(){const{data:e}=S(this)?this:{},n=k(e,"chargeResponseMessage");n.includes("Kindly enter the mobile no registered with your bank")?(t.COLLECT_MOBILE_INSTRUCTIONS=n,Ei&&Ei.activate()):(t.SHOULD_VALIDATE_CHARGE=!1,t.SHOULD_VALIDATE_CHARGE=!0)}})}}}function gi(){const{DATA:e,$charge:t,$inputs:n,dispatch:r,useOldSavedCardFlow:o,startResendTimer:a}=this,i=k(n,"[saved_card].value");if(S(i)){const c=i.hash,s=k(this.$savedCards,"device.phone");o?bi&&bi.activate((()=>{r(ae.actions.updateErrorMessage()),n.$reset("otp"),Bo(new URL("/v2/gpx/users/send_otp","https://api.ravepay.co"),{body:JSON.stringify({card_hash:c,device_key:s,public_key:k(e,"PBFPubKey"),modalauditid:k(e,"modalauditid")})}).then((e=>{if(Lt(e)&&e.ok)return e.json().then((e=>{const{message:t,status:n}=S(e)?e:{};return"success"===n&&"OTP-SENT"===t&&(a(),!0)}))})).catch(ln)})):t.init({data:{card_hash:c,device_key:s,is_visa:"VISA"===i.brand,is_saved_card_charge:!0,include_card_country:!0,payment_type:"saved-card",otp:String(1e5*Math.random()).split("").reverse().join("").replace(/^\d+(?=\d{6})|\.\d+$/g,"")}})}}function Ci(){const e=this;return Ci=Dr({NAME:"CARD_INIT_VIEW",inputs:["card_number::cardnumber","expiry","cvv","remember_card::remember","remember_phone::rememberPhone","remember_email::rememberEmail","saved_card::savedcard"],constants:{removeSavedCard:t=>e.SAVED_CARDS_ACTIVE&&e.SAVED_CARDS_AVAILABLE?e.$savedCards.remove(t):Promise.resolve(!1),removeCardType:()=>e.resetCardType()},mutables:{hasSavedCard:"SAVED_CARDS_AVAILABLE",useSavedCard:"SAVED_CARDS_ACTIVE",$cards:"SAVED_CARDS",cardType:"CARD_TYPE"},next:()=>(e.SAVED_CARDS_ACTIVE?gi:yi).call(e),switch(){e.SAVED_CARDS_ACTIVE=!!e.SAVED_CARDS_AVAILABLE&&!e.SAVED_CARDS_ACTIVE}}).call(this)}function vi(){const{$charge:e,$inputs:t}=this;return vi=Dr({NAME:"PAYMOB_INIT_VIEW",inputs:["billing_zip","billing_city","billing_address","billing_state","billing_country","card_holder_name","phonenumber"],next(){let n={};const r=k(t,"[billing_zip].value"),o=k(t,"[billing_city].value"),a=k(t,"[billing_address].value"),i=k(t,"[billing_state].value"),c=k(t,"[billing_country].value.sortname"),s=k(t,"[card_holder_name].value"),l=k(t,"[phonenumber].value");a&&r&&o&&i&&c&&s&&l&&(n={billingaddress:a,billingcity:o,billingcountry:c,billingstate:i,billingzip:r,card_holder_name:s,phonenumber:l},e.init({data:n}))}}).call(this)}function Ti(){const e=S(this)?this:Object.create(null);return Dr({NAME:"REDIRECT_VIEW",constants:{get resetView(){return"enaira"===k(e,"STATE.method.current")?e.cancelOption||null:"account"===k(e,"STATE.method.current")&&"ZAR"===k(e,"STATE.currency.current")&&e.cancelOption||null}},next(){let t,n,r=k(e,"STATE.method.current");t=r,n=r,"enaira"===r&&(n=`${t} ${k(e.$inputs.eNairaPaymentOption,"value.name")}`),Ar.customerOpenedRedirectURL(t,n),M(k(e.$charge,"redirect"))()}}).call(e)}const Ri=Object.create(null),Ai=Pt(He.one.limit(3).retry(...Dt).timeout(kt));const Oi=[Ci,hi,vi,Ei,bi];var Ii=Object.freeze({__proto__:null,METHOD:"card",METHOD_NAME:"Card",CHARGE_MODE:7,VIEWS:Oi,mount:function(){return e=>{va.call(this,(()=>{const e=k(this.STATE,"currency.current"),t=!0===k(this.DATA,"preferences[can_switch_to_paymob]"),n=this.REDIRECT_URL&&(Ti||this.$resetContext())||this.SHOULD_VALIDATE_CHARGE&&(bi||this.$resetContext())||this.COLLECT_MOBILE_INSTRUCTIONS&&(Ei||this.$resetContext())||this.authModel&&(hi||this.$resetContext())||"EGP"===e&&t&&vi||Ci;n&&n.activate.call(this,(()=>{n===Ci&&this.$savedCards.fetch()}))})),Sa()}},getChargeData:function(){if(this.SHOULD_VALIDATE_CHARGE)return;const e=k(this.STATE,"currency.current"),t=!0===k(this.DATA,"preferences[can_switch_to_paymob]");return{include_card_country:!0,payment_type:"EGP"===e&&t?"paymob":"card"}},getViewsContext:function(e,t){let n;const r=k(e,"currency"),o=!0===k(e,"preferences[can_switch_to_paymob]"),a=N(Object.create(null),{useOldSavedCardFlow:!0===k(e,"preferences[use_old_saved_card_flow]"),$resetContext(){a.REDIRECT_URL=a.SHOULD_VALIDATE_CHARGE=a.COLLECT_MOBILE_INSTRUCTIONS=a.authModel=a.CARD_TYPE=null,a.$inputs.$reset()},INIT_VIEW:e=>{"EGP"===r&&o?vi&&vi.activate(e):Ci&&(a.$resetContext(),Ci.activate(e))},clearResendTimer:()=>{n&&clearTimeout(n),n=null,a.CAN_RESEND_OTP=!1},startResendTimer:()=>{a.clearResendTimer(),n=setTimeout((()=>a.CAN_RESEND_OTP=!0),9e4)}});return pn(a,"CAN_RESEND_OTP","REDIRECT_URL","SAVED_CARDS","SAVED_CARDS_ACTIVE","SAVED_CARDS_AVAILABLE","SHOULD_VALIDATE_CHARGE","COLLECT_MOBILE_INSTRUCTIONS","CARD_TYPE"),vn(a,(()=>{a.SAVED_CARDS_ACTIVE=!1,a.SAVED_CARDS_AVAILABLE=!1,a.$savedCards.$subscribe(((e,t)=>{e!==t&&(a.SAVED_CARDS=e,a.SAVED_CARDS_AVAILABLE=!!(a.$savedCards.enabled&&a.SAVED_CARDS&&a.SAVED_CARDS.length>0),!a.SAVED_CARDS_AVAILABLE&&(a.SAVED_CARDS_ACTIVE=!1))}))})),fi(a,{otp:null,pin:c(!0),billing_address:c(),billing_city:c(),billing_country:c(!1,{options:qn,selector:Yn.bind(a,qn)}),billing_state:c(),billing_zip:c(),card_holder_name:s(),phonenumber:s(),card_number:i(),expiry:i(),cvv:i(),remember_card:i({defaultValue:!1,required:!1}),remember_email:i(2,k(e,"email")||null),remember_phone:i(2,k(e,"phone")||null),saved_card:i(1,{get options(){return a.SAVED_CARDS},get selector(){return Cn.bind(a,this.options)}})}),a.resetCardType=()=>{a.CARD_TYPE=null},a.$subscribe("REDIRECT_URL",((e,t)=>{setTimeout((()=>{(!t||t!==e)&&e instanceof URL&&Ti&&Ti.activate.call(a)}),0)})),a.$subscribe("SHOULD_VALIDATE_CHARGE",((e,t)=>{setTimeout((()=>{t||t===e||!0!==e||(bi&&bi.activate(),a.startResendTimer())}),0)})),a.$subscribe("SAVED_CARDS_ACTIVE",((e,t)=>{t!==e&&O(e)&&a.$inputs.$refresh("saved_card")})),a.$inputs.$subscribe("saved_card",((e,t)=>{setTimeout((()=>{t!==e&&l(k(e,"[value].masked_pan"))}),0)})),a.$inputs.$subscribe("card_number",((e,t)=>{setTimeout((()=>{t!==e&&l(k(e,"[value]"))}),0)})),a;function i(e,t){return Number.isInteger(e)&&([e,t]=[t,e]),t=+t||0,null==(e=S(e)?e:{defaultValue:e}).defaultValue&&(e.defaultValue=null),e.available=function(){let e=!0;const n=a.SAVED_CARDS_ACTIVE;return e=e&&!!(1&t?n:!n&&(!(2&t)||k(a.$inputs,"[remember_card].value"))),e},e}function c(e=!1,t){return null==(t=t&&S(t)?t:{defaultValue:t}).defaultValue&&(t.defaultValue=null),t.available=function(){let t=!0;const{auth:n}=S(a.authModel)?a.authModel:{};return t=n===(!0===e?"PIN":"AVS"),"EGP"===r&&(t=!0),t},t}function s(e){return null==(e=e&&S(e)?e:{defaultValue:e}).defaultValue&&(e.defaultValue=null),e.available=function(){let e=!1;const{auth:t}=S(a.authModel)?a.authModel:{};return"EGP"!==r&&"AVS"!==t||(e=!0),e},e}function l(e){""===e&&Sa(),e&&(e=e.replace(/\s+/g,""))&&/^\d{6}/.test(e)&&(Sa(e.slice(0,6)),function(e,t){const n=k(e,"DATA.currency");let r=btoa(`${n}::${t}`);return Ri[r]?Promise.resolve(Ri[r]):Ai(new URL(`v2/cardbin?cardbin=${t}&public_key=${k(e,"DATA.PBFPubKey")}`,"https://api.ravepay.co")).then((e=>{if(Lt(e)&&e.ok)return e.json().then((e=>{const{card_type:t}={...e.data};return Object.defineProperty(Ri,r,{value:{card_type:t}}),Ri[r]}))})).catch(ln)}(a,e.slice(0,6)).then((e=>{a.CARD_TYPE=e?e.card_type:null})))}}});function Si(){const{$charge:e}=this;return Si=Dr({NAME:"PAGA_INIT_VIEW",constants:{hasBackAction:!1},next(){e.init({})}}).call(this)}const Ni=[Si];var wi=Object.freeze({__proto__:null,METHOD:"paga",METHOD_NAME:"Paga",CHARGE_MODE:1,VIEWS:Ni,mount:function(){return e=>{va.call(this,(()=>{const e=this.REDIRECT_URL&&(Ti||(this.REDIRECT_URL=null))||Si;e&&e.activate.call(this)})),Sa()}},getChargeData:function(){return{payment_type:"paga"}},getViewsContext:function(e,t){const n=pn(Object.create(null),"REDIRECT_URL");return n.$subscribe("REDIRECT_URL",((e,t)=>{setTimeout((()=>{(!t||t!==e)&&e instanceof URL&&Ti&&Ti.activate.call(n)}),0)})),N(n,{$resetContext(){n.REDIRECT_URL=null},INIT_VIEW:e=>{Si&&(n.$resetContext(),Si.activate(e))}})}});function Mi(){const e=this,{$inputs:t,$timer:n}=this;return Mi=Dr({NAME:"USSD_CODE_VIEW",mutables:{ussdCode:"USSD_CODE",timerCurrent:"CURRENT_TIME"},constants:{hasBackAction:!0,instruction:"Dial the USSD code below on your mobile phone to complete the payment",get selectedBank(){return k(t,"[bank].value")},get timerDuration(){return n.duration}},back(){e.INIT_VIEW((()=>t.$reset()))}}).call(this)}function $i(){const[e,t]=String(1e7*Math.random()).split(".");return String().concat(Date.now(),e.substr(-3),t.substr(0,3))}function Di(){const e=this,{$charge:t,$inputs:n,$timer:r}=this;let o;return Di=Dr({NAME:"USSD_INIT_VIEW",inputs:["bank"],constants:{hasBackAction:!1,instruction:"Please choose your bank to begin payment"},next(){const a=k(n,"[bank].value.code");var i;a&&(o===a&&e.USSD_CODE?Mi&&Mi.activate():(i=o=a,r&&r.clear(),t.init({data:{accountbank:i,accountnumber:"00000",orderRef:$i()}})))}}).call(this)}const ki=[Di,Mi];var Li=Object.freeze({__proto__:null,METHOD:"ussd",METHOD_NAME:"USSD",CHARGE_MODE:0,VIEWS:ki,mount:function(){return e=>{va.call(this,(()=>{const e=this.USSD_CODE&&(Mi||(this.USSD_CODE=null))||Di;e&&e.activate((()=>{e===Mi&&this.CURRENT_TIME&&this.$charge.poll(this.pollConfig)}))})),Sa()}},getChargeData:function(){return{is_ussd:!0,payment_type:"USSD"}},getViewsContext:function(e,t){const n=k(e,"banks.ussd")||[],r=pn(Object.create(null),"CURRENT_TIME","USSD_CODE");return r.pollConfig={onBegin(){r.$timer.start()},onCancel(){r.pollConfig.onComplete()},onSuccessful(){no&&no.activate.call(r)},onComplete(){r.USSD_CODE=null,r.$timer.clear()}},r.$subscribe("USSD_CODE",((e,t)=>{setTimeout((()=>{!t&&t!==e&&e&&Mi&&Mi.activate((()=>{r.$charge.poll(r.pollConfig)}))}),0)})),fi(r,{bank:{options:n,selector:Kn.bind(r,n)}}),N(r,{TIMER_DURATION:300,INIT_VIEW:e=>{Di&&(r.USSD_CODE=null,Di.activate(e))}}),ni(r,{duration:300,onClear(){r.$charge.cancel()},onTick(){r.CURRENT_TIME=r.$timer.current},onFinish(){r.USSD_CODE=null,r.$charge.cancel()&&(Di&&Di.activate(),setTimeout((()=>r.dispatch(ae.actions.updateErrorMessage("ussd.code.expiry.error",20))),100))}})}});function Pi(){const e=this,{$inputs:t,$timer:n}=this;return e.pollConfig={onBegin(){n.start()},onCancel(){e.pollConfig.onComplete()},onSuccessful(){no&&no.activate.call(e)},onComplete(){n.clear(),e.mpesaOverrideTimeout&&clearTimeout(e.mpesaOverrideTimeout),e.mpesaPollingCompleted=!0}},Pi=Dr({NAME:"MPESA_CONFIRM_VIEW",mutables:{fallbackDetails:"FALLBACK_DETAILS",instruction:"MPESA_INSTRUCTION",secondaryInstruction:"MPESA_SECONDARY_INSTRUCTION",timerCurrent:"CURRENT_TIME"},constants:{hasBackAction:!1,get phone(){return k(t,"[phone].value")},get selectedNetwork(){return k(t,"[network].value")}}}).call(this)}function ji(){const e=this,{$charge:t,$inputs:n}=this;return e.CAN_SWITCH_TO_CONFIRM=!1,ji=Dr({NAME:"MPESA_INIT_VIEW",inputs:["network","phone"],mutables:{timerCurrent:"CURRENT_TIME"},constants:{hasBackAction:!1},next(){const r=k(n,"[network].value"),o=k(n,"[phone].value");o&&S(r)&&t.init({data:{phonenumber:o,network:r.identifier},onBegin(){e.mpesaOverrideTimeout&&clearTimeout(e.mpesaOverrideTimeout),e.mpesaOverrideTimeout=null,e.mpesaPollingCompleted=!1},onRequireValidation(){e.CAN_SWITCH_TO_CONFIRM=!0}})}}).call(this)}const xi=[ji,Pi];var Ui=Object.freeze({__proto__:null,METHOD:"mpesa",METHOD_NAME:"Mobile Money",CHARGE_MODE:1,VIEWS:xi,mount:function(){return e=>{va.call(this,(()=>{ji&&ji.activate()})),Sa()}},getChargeData:function(){return{is_mpesa:!0,is_mpesa_lipa:!0,payment_type:"mpesa"}},getViewsContext:function(e,t){const n=k(e,"mobilemoney_networks[KE]"),r=pn(Object.create(null),"CURRENT_TIME","FALLBACK_DETAILS","MPESA_INSTRUCTION","MPESA_SECONDARY_INSTRUCTION","CAN_SWITCH_TO_CONFIRM");return r.$subscribe("CAN_SWITCH_TO_CONFIRM",((e,t)=>{setTimeout((()=>{t||t===e||!0!==e||"boolean"!=typeof e||Pi&&Pi.activate((()=>{setTimeout((()=>{r.$charge.poll(r.pollConfig)}),0)}))}))})),fi(r,{phone:k(e,"phone")||null,network:{options:n,selector:wn.bind(r,n),defaultValue:k(e,"mobilemoney_network")||null}}),N(r,{TIMER_DURATION:300,$resetContext(){r.FALLBACK_DETAILS=r.MPESA_INSTRUCTION=r.MPESA_SECONDARY_INSTRUCTION=r.CAN_SWITCH_TO_CONFIRM=null,r.mpesaOverrideTimeout&&clearTimeout(r.mpesaOverrideTimeout),r.mpesaOverrideTimeout=null,r.mpesaPollingCompleted=!1},INIT_VIEW:e=>{ji&&(r.$resetContext(),ji.activate(e))}}),ni(r,{duration:300,onTick(){r.CURRENT_TIME=r.$timer.current},onFinish(){r.$charge.cancel()&&(r.$timer&&r.$timer.clear(),r.CURRENT_TIME=null,r.reference=null,r.$resetContext(),setTimeout((()=>{ae.actions.updateErrorMessage(""),ra&&ra.activate.call(r)}),10))}})}});function Vi(){const{$charge:e}=this,t=(()=>{let e=!1,t=null;return()=>!0!==e&&(e=!0)?fr().then((e=>{try{const{billing_metadata:n}=e;S(n)&&(t=Object.create(null),Object.keys(n).forEach((function(e){void 0!==n[e]&&(t[e]=n[e])})),Object.freeze(t))}catch(e){}return t})):t})();return Vi=Dr({NAME:"PAYPAL_INIT_VIEW",constants:{hasBackAction:!1},next(){Promise.resolve(t()).then((t=>{e.init({data:S(t)?{...t}:null})}))}}).call(this)}const Fi=[Vi];var Bi=Object.freeze({__proto__:null,METHOD:"paypal",METHOD_NAME:"Paypal",CHARGE_MODE:1,VIEWS:Fi,mount:function(){return e=>{va.call(this,(()=>{const e=this.REDIRECT_URL&&(Ti||(this.REDIRECT_URL=null))||Vi;e&&e.activate.call(this)})),Sa()}},getChargeData:function(){return{payment_type:"paypal"}},getViewsContext:function(e,t){const n=pn(Object.create(null),"REDIRECT_URL");return n.$subscribe("REDIRECT_URL",((e,t)=>{setTimeout((()=>{(!t||t!==e)&&e instanceof URL&&Ti&&Ti.activate.call(n)}),0)})),N(n,{INIT_VIEW:e=>{Vi&&Vi.activate(e)}})}});function Hi(){const e=this,{$inputs:t,$charge:n,dispatch:r}=this;return function(){const o=k(t,"[bank].value.code")||null;if("232"===o)return r(io.actions.on()),void setTimeout((()=>{const t={onCancel(){t.onComplete()},onFailure(e){},onSuccessful(){no&&no.activate.call(e)},onComplete(){}};n.poll(t)}),1e4);const{validateInstruction:a}=Jr(this.data,"validateInstruction"),{validateInstructions:i}=Jr(this.data,"validateInstructions");if(S(i)){let{valparams:n}=i;if(n=j(n),1===n.length&&String(n[0]).toUpperCase().indexOf("OTP")>=0){if(e.VALIDATE_INSTRUCTION=k(i,"instruction")||"",["044","101"].indexOf(o)>=0){const[,n]=String(a).match(Qe)||[];if(n){let r=k(t,"[account_number].value")||null;r=A(r)?r.replace(/^(\d{3})(\d+?)(\d{4})$/,((e,t,n,r)=>`${t}${n.replace(/./g,"*")}${r}`)):"your account",e.VALIDATE_INSTRUCTION=`Dial ${n} on the mobile number registered with ${r} to get your OTP.`}}e.SHOULD_VALIDATE_CHARGE=!1,e.SHOULD_VALIDATE_CHARGE=!0}}}}function Gi(){const e=this,{DATA:t,$charge:n,$inputs:r}=this;switch(k(t,"currency")||"NGN"){case"EUR":case"GBP":{let t=k(e.DATA,"phone");const r=k(e.DATA,"redirect_url");let o={payment_type:"account-ach-uk",is_token_io:1};t&&(o.phonenumber=t),o.redirect_url=null!==r?r:"#checkout:no_json_render",n.init({data:o});break}case"NGN":{const t={payment_type:"account",phonenumber:k(e.DATA,"phone"),is_mono:!0},r=()=>setTimeout((()=>{zi&&zi.activate.call(e)}),0);e.CAN_RESEND_OTP=!1,n.init({data:t,onError:r,onFailed:r,onRequireValidation:Hi.call(e)});break}case"USD":n.init({data:{country:"US",is_us_bank_charge3:!0,ach_redirect_url:new URL("/usach/complete").href}});break;case"ZAR":{const e=k(r,"[sa_bank].value.code");n.init({data:{sabankcode:e,country:"ZA",is_sa_call_pay:!0}});break}}}function zi(){const e=this;return zi=Dr({NAME:"BANK_INIT_VIEW",inputs:["sa_bank"],next:()=>Gi.call(e),afterSetup(){e._subscribeInputsOnce()}}).call(this)}function Wi(){const e=this,{DATA:t,$charge:n,$inputs:r}=this;return Wi=Dr({NAME:"BANK_OTP_VIEW",inputs:["otp"],mutables:{instruction:"VALIDATE_INSTRUCTION",canResendOTP:"CAN_RESEND_OTP"},constants:{resendOTP:()=>!0===e.CAN_RESEND_OTP?Gi.call(e):Promise.resolve(!1)},next(){const{charge:t=null}=S(e.reference)?e.reference:{},o=k(r,"[otp].value"),a=k(r,"[bank].value.code");if(o){const r={otp:o,transactionreference:t,validateparameter:"OTP"};["044","050"].indexOf(a)>=0&&(r.use_access=!0),n.validate({data:r,onBegin(){e.SHOULD_VALIDATE_CHARGE=!1},onRequireValidation:Hi.call(e),onValidateSuccessful(){no&&no.activate.call(e)},onComplete(){e.clearResendTimer()}})}},back(){"NGN"===(k(t,"currency")||"NGN")&&(zi&&zi.activate(),r.$reset())}}).call(this)}const Ki=[zi,Wi];var qi=Object.freeze({__proto__:null,METHOD:"account",METHOD_NAME:"Bank",CHARGE_MODE:5,VIEWS:Ki,mount:function(){return e=>{va.call(this,(()=>{const e=k(this.STATE,"currency.current"),t=this.REDIRECT_URL&&(Ti||(this.REDIRECT_URL=null))||zi;t&&t.activate((()=>{var n;t===zi&&"ZAR"===e&&(n=this,Promise.resolve(Object.isFrozen(Mn)||$n(new URL(`/flwv3-pug/getpaidx/api/sa_banks?PBFPubKey=${k(n,"DATA.PBFPubKey")}`,"https://api.ravepay.co")).then((e=>{if(Lt(e))return e.json().then((e=>{let t=!1;const{data:n}=S(e)?e:{};if("array"===an(n))try{N(Mn,{banks:n}),!0!==t&&(t=!0)}catch(e){}return!(!0!==t||!Object.freeze(Mn))}))})).catch(ln))).then((()=>{this.$inputs.$reset("sa_bank"),this.SA_BANKS=k(this,"DATA.sa_banks.banks")}))}))})),Sa()}},getChargeData:function(){if(!this.SHOULD_VALIDATE_CHARGE)return{payment_type:"account"}},getViewsContext:function(e,t){let n;const r=k(e,"currency")||"NGN",o=k(e,"banks.account")||[],a=pn(Object.create(null),"CAN_RESEND_OTP","REDIRECT_URL","VALIDATE_INSTRUCTION","SHOULD_VALIDATE_CHARGE","SA_BANKS");return a.pollConfig={onCancel(){a.pollConfig.onComplete()},onSuccessful(){no&&no.activate.call(a)},onComplete(){}},a.$subscribe("SA_BANKS",((e,t)=>{setTimeout((()=>{e!==t&&(a.$inputs.$refresh("sa_bank"),a.$inputs.$reset("sa_bank"))}),0)})),fi(a,{otp:null,account_bvn:i(["033"]),account_dob:i(["033","057"]),account_number:i(["044","050","033","232","057","215","101"]),account_otp:i(["232"]),account_phone:i(["050","232","215"],k(e,"phone")||null),bank:{options:o,selector:Kn.bind(a,o),available:()=>"NGN"===r},sa_bank:{get options(){return a.SA_BANKS},get selector(){return Dn.bind(a,this.options)},available:()=>"ZAR"===r}}),a._subscribeInputsOnce=(()=>{let e=!1;return()=>{!0!==e&&(e=!0)&&a.$inputs.$subscribe("bank",((e,t)=>{e!==t&&a.dispatch(ae.actions.updateErrorMessage())}))}})(),a.$subscribe("REDIRECT_URL",((e,t)=>{setTimeout((()=>{(!t||t!==e)&&e instanceof URL&&Ti&&Ti.activate.call(a)}),0)})),a.$subscribe("SHOULD_VALIDATE_CHARGE",((e,t)=>{setTimeout((()=>{t||t===e||!0!==e||(Wi&&Wi.activate(),a.clearResendTimer(),n=setTimeout((()=>a.CAN_RESEND_OTP=!0),9e4))}),0)})),a.cancelOption=()=>{a.$resetContext(),zi.activate.call(a)},N(a,{$resetContext(){a.$inputs.$reset("sa_bank"),a.REDIRECT_URL=a.SHOULD_VALIDATE_CHARGE=null},INIT_VIEW:e=>{const t=k(a,"$$data.data.response_code"),n=!0==!!k(a,"$$data.data.$error")||"failed"===k(a,"$$data.status");["00","02"].includes(t)?"02"!==t||n||setTimeout((()=>{kr&&kr.activate((()=>{a.$charge.poll({onCancel(){this.onComplete()},onSuccessful(){no&&no.activate.call(a)},onComplete(){}})}))}),0):(a.$resetContext(),zi&&zi.activate(e))},clearResendTimer:()=>{n&&clearTimeout(n),n=null,a.CAN_RESEND_OTP=!1}});function i(e,t=null){return e instanceof Array||(1===arguments.length?[e,t]=[[],e]:t instanceof Array?[e,t]=[t,e]:e=[]),e=j(e),{defaultValue:t=t||null,available(){const t=k(a.$inputs,"[bank].value.code")||null;return"NGN"===r&&e.indexOf(t)>=0}}}}});function Yi(){const{$charge:e,$inputs:t}=this;return Yi=Dr({NAME:"FAWRYPAY_INIT_VIEW",inputs:["phone"],constants:{hasBackAction:!1},next(){const n=k(t,"[phone].value");n&&e.init({data:{phonenumber:n}})}}).call(this)}function Zi(){const e=this,{$inputs:t}=this;return Zi=Dr({NAME:"FAWRYPAY_CONFIRM_VIEW",constants:{hasBackAction:!1,get phone(){return k(t,"[phone].value")},get reference(){return e.FAWRY_REFERENCE}},next(){}}).call(this)}const Qi=[Yi,Zi];var Ji=Object.freeze({__proto__:null,METHOD:"fawrypay",METHOD_NAME:"Fawry",CHARGE_MODE:1,VIEWS:Qi,mount:function(){return e=>{va.call(this,(()=>{const e=this.FAWRY_REFERENCE&&(Zi||this.$resetContext())||Yi;e&&e.activate.call(this)})),Sa()}},getChargeData:function(){return{country:"EG",currency:"EGP",network:"MTN",payment_type:"fawry_pay"}},getViewsContext:function(e,t){const n=pn(Object.create(null),"FAWRY_REFERENCE");return fi(n,{phone:k(e,"phone")||null}),n.$subscribe("FAWRY_REFERENCE",((e,t)=>{setTimeout((()=>{!t&&t!==e&&e&&Zi&&Zi.activate()}),0)})),N(n,{$resetContext(){n.FAWRY_REFERENCE=null},INIT_VIEW:e=>{n.$resetContext(),Yi&&Yi.activate(e)}})}});function Xi(){const{$charge:e}=this;return Xi=Dr({NAME:"APPLEPAY_INIT_VIEW",constants:{hasBackAction:!1},next(){e.init()}}).call(this)}const ec=[Xi];var tc=Object.freeze({__proto__:null,METHOD:"applepay",METHOD_NAME:"Apple Pay",CHARGE_MODE:1,VIEWS:ec,mount:function(){return e=>{va.call(this,(()=>{const e=this.REDIRECT_URL&&(Ti||(this.REDIRECT_URL=null))||Xi;e&&e.activate.call(this)})),Sa()}},getChargeData:function(){return{payment_type:"applepay"}},getViewsContext:function(e,t){const n=pn(Object.create(null),"REDIRECT_URL");return n.$subscribe("REDIRECT_URL",((e,t)=>{setTimeout((()=>{(!t||t!==e)&&e instanceof URL&&Ti&&Ti.activate.call(n)}),0)})),N(n,{INIT_VIEW:e=>{Xi&&Xi.activate(e)}})}});function nc(){const{$charge:e}=this;return nc=Dr({NAME:"GOOGLEPAY_INIT_VIEW",constants:{hasBackAction:!1},next(){e.init()}}).call(this)}const rc=[nc];var oc=Object.freeze({__proto__:null,METHOD:"googlepay",METHOD_NAME:"Google Pay",CHARGE_MODE:1,VIEWS:rc,mount:function(){return e=>{va.call(this,(()=>{const e=this.REDIRECT_URL&&(Ti||(this.REDIRECT_URL=null))||nc;e&&e.activate.call(this)})),Sa()}},getChargeData:function(){return{payment_type:"googlepay"}},getViewsContext:function(e,t){const n=pn(Object.create(null),"REDIRECT_URL");return n.$subscribe("REDIRECT_URL",((e,t)=>{setTimeout((()=>{(!t||t!==e)&&e instanceof URL&&Ti&&Ti.activate.call(n)}),0)})),N(n,{INIT_VIEW:e=>{nc&&nc.activate(e)}})}});function ac(){const{$charge:e,$inputs:t}=this;return ac=Dr({NAME:"1VOUCHER_INIT_VIEW",inputs:["phone","voucher"],constants:{hasBackAction:!1},next(){const n=k(t,"[voucher].value"),r=k(t,"[phone].value");n&&r&&e.init({data:{pin:n,phonenumber:r}})}}).call(this)}function ic(){const e=this,{$inputs:t}=this;return ic=Dr({NAME:"1VOUCHER_CONFIRM_VIEW",constants:{hasBackAction:!1,get changeVoucher(){return e.CHANGE_VOUCHER},get phone(){return k(t,"[phone].value")}},next(){no&&no.activate.call(e)}}).call(this)}const cc=[ac,ic];var sc=Object.freeze({__proto__:null,METHOD:"1voucher",METHOD_NAME:"1Voucher",CHARGE_MODE:0,VIEWS:cc,mount:function(){return e=>{va.call(this,(()=>{ac&&ac.activate()})),Sa()}},getChargeData:function(){return{country:"ZA",is_flash_voucher:!0,payment_type:"1voucher"}},getViewsContext:function(e,t){const n=pn(Object.create(null),"CHANGE_VOUCHER");return n.$subscribe("CHANGE_VOUCHER",((e,t)=>{setTimeout((()=>{t||t===e||(!1===e?no&&no.activate.call(n):ic&&ic.activate())}),0)})),fi(n,{voucher:null,phone:k(e,"phone")||null}),N(n,{INIT_VIEW:e=>{ac&&ac.activate(e)}})}});function lc(){const{DATA:e,dispatch:t,$charge:n,$inputs:r}=this;return lc=Dr({NAME:"BANK_TRANSFER_INIT_VIEW",inputs:["accountnumber","accountname"],next(){switch(k(e,"currency")||"NGN"){case"EUR":case"GBP":{let e={is_bank_transfer:void 0,is_uk_bank_charge2:!0,accountname:"Account Name",payment_type:"account"};n.init({data:e});break}case"EGP":case"KES":{const e=k(r,"[accountnumber].value");let t="",o="";const a=k(r,"[accountname].value").trim().split(/\s+/);1===a.length&&(t=a[0],o=""),t=a[0],o=a.slice(1).join(" ");let i={firstname:t,lastname:o,customer_account_number:e};n.init({data:i});break}case"NGN":case"GHS":case"USD":{const r=k(e,"expires");r&&(r<60||r>31536e3)?setTimeout((()=>t(ae.actions.updateErrorMessage("bank.transfer.expiry.error"))),100):n.init();break}}}}).call(this)}function uc(){const e=this,{$charge:t,$timer:n}=this;return e.pollConfig={onBegin(){n.start()},onCancel(){e.pollConfig.onComplete()},onFailure(e){},onSuccessful(){no&&no.activate.call(e)},onComplete(){e.TRANSFER_DETAILS=null,n.clear()}},uc=Dr({NAME:"BANK_TRANSFER_DETAILS_VIEW",mutables:{timerCurrent:"CURRENT_TIME"},constants:{get details(){return e.TRANSFER_DETAILS},instruction:"Proceed to your bank app to complete this transfer",get timerDuration(){return n.duration}},next(){const n=k(e,"STATE.backgroundProcessing"),r=k(e,"STATE.currency.current")||"NGN";!1!==n||"NGN"!==r&&"GHS"!==r||t.poll(e.pollConfig),"EGP"!==r&&"KES"!==r||ra&&ra.activate.call(e)}}).call(this)}const dc=[lc,uc];let mc;var pc=Object.freeze({__proto__:null,METHOD:"banktransfer",METHOD_NAME:"Bank Transfer",CHARGE_MODE:8,VIEWS:dc,mount:function(){return e=>{va.call(this,(()=>{const e=this.TRANSFER_DETAILS&&(uc||(this.TRANSFER_DETAILS=null))||lc;mc=this,e&&e.activate((()=>{e===uc&&this.CURRENT_TIME&&this.$charge.poll(this.pollConfig),this.startListeningForCancellation(),this.visibilityCheck()}))})),Sa()}},getChargeData:function(){return{is_bank_transfer:!0,payment_type:"banktransfer"}},getViewsContext:function(e,t){const n=k(e,"currency")||"NGN",r=60*("NGN"===n||"GHS"===n?5:3),o=pn(Object.create(null),"CURRENT_TIME","TRANSFER_DETAILS");let a=!1;const i=()=>{c(),s()},c=()=>{!0===a&&(removeEventListener(co,i,!1),a=!1)},s=()=>{Nt(k(o,"reference")||null)&&N(o,{reference:Object.create(null)})};return fi(o,{accountnumber:null,accountname:null}),o.$subscribe("TRANSFER_DETAILS",((e,t)=>{setTimeout((()=>{!t&&t!==e&&e&&uc&&uc.activate((()=>{"NGN"!==n&&"GHS"!==n||setTimeout((()=>{"banktransfer"===k(o,"STATE.method.current")&&mc.$charge.poll(mc.pollConfig)}),6e4)}))}),0)})),N(o,{TIMER_DURATION:r,startListeningForCancellation:()=>{!0!==a&&(addEventListener(co,i,!1),a=!0)},stopListeningForCancellation:c,visibilityCheck:()=>{},$resetContext(){o.$inputs.$reset("accountnumber"),o.$inputs.$reset("accountname")},INIT_VIEW:e=>{o.$resetContext(),lc&&lc.activate(e)}}),ni(o,{duration:r,onTick(){o.CURRENT_TIME=o.$timer.current},onFinish(){o.$charge.cancel()&&!hs&&(o.$timer&&o.$timer.clear(),o.CURRENT_TIME=null,o.TRANSFER_DETAILS=null,o.$resetContext(),c(),setTimeout((()=>ra&&ra.activate.call(o)),10))}})}});function fc(){const{$charge:e}=this;return fc=Dr({NAME:"CRYPTO_INIT_VIEW",constants:{hasBackAction:!1},next(){e.init()}}).call(this)}const hc=[fc];var _c=Object.freeze({__proto__:null,METHOD:"cryptocurrency",METHOD_NAME:"BitPay",CHARGE_MODE:1,VIEWS:hc,mount:function(){return e=>{va.call(this,(()=>{const e=this.REDIRECT_URL&&(Ti||(this.REDIRECT_URL=null))||fc;e&&e.activate.call(this)})),Sa()}},getChargeData:function(){return{payment_type:"cryptocurrency"}},getViewsContext:function(e,t){const n=pn(Object.create(null),"REDIRECT_URL");return n.$subscribe("REDIRECT_URL",((e,t)=>{setTimeout((()=>{(!t||t!==e)&&e instanceof URL&&Ti&&Ti.activate.call(n)}),0)})),N(n,{INIT_VIEW:e=>{fc&&fc.activate(e)}})}});function bc(e,t,n=!1){if(e.href){const r=e.href.split("/").filter(Boolean);e.href.includes("lang-")||r.splice(4,0,`lang-${t}`);const o=r.join("/").split("captcha"),a="https://checkout.flutterwave.com";let i=new URL(`captcha${o[1]}`,a);return!0===n&&"https://checkout.flutterwave.com"===a&&(i=new URL(`captcha${o[1]}`,e.origin)),e.href=i,e}}function Ec(){const e=this,{$charge:t,$inputs:n}=this;return e.CAN_SWITCH_TO_CONFIRM=!1,Ec=Dr({NAME:"MOMO_GHANA_INIT_VIEW",inputs:["network","phone","voucher"],mutables:{timerCurrent:"CURRENT_TIME"},next(){const r=k(n,"[network].value"),o=k(n,"[phone].value"),a=k(n,"[voucher].value")||null;o&&S(r)&&t.init({data:{phonenumber:o,voucher:a,network:r.identifier},onRequireValidation(){e.CAN_SWITCH_TO_CONFIRM=!0},onRequireRedirection(){const t=k(e,"STATE.locale")||"en",n=k(e,"STATE.isTestMode")||!1;try{const{url:e}=this;bc(e,t,n)}catch(e){}}})}}).call(this)}function yc(){const e=this,{$inputs:t,$timer:n}=this;return e.pollConfig={onBegin(){n.start()},onCancel(){e.pollConfig.onComplete()},onSuccessful(){no&&no.activate.call(e)},onComplete(){n.clear()}},yc=Dr({NAME:"MOMO_GHANA_CONFIRM_VIEW",mutables:{timerCurrent:"CURRENT_TIME"},constants:{get instructions(){return e.MOMO_INSTRUCTIONS},get phone(){return k(t,"[phone].value")},get selectedNetwork(){return k(t,"[network].value")}}}).call(this)}const gc=[Ec,yc];var Cc=Object.freeze({__proto__:null,METHOD:"mobilemoneyghana",METHOD_NAME:"Mobile Money",CHARGE_MODE:1,VIEWS:gc,mount:function(){return e=>{va.call(this,(()=>{const e=this.REDIRECT_URL&&(Ti||(this.REDIRECT_URL=null))||Ec;e&&e.activate.call(this)})),Sa()}},getChargeData:function(){return{is_mobile_money_gh:!0,payment_type:"mobilemoneygh"}},getViewsContext:function(e,t){const n=k(e,"mobilemoney_networks[GH]"),r=pn(Object.create(null),"MOMO_INSTRUCTIONS","REDIRECT_URL","CURRENT_TIME","CAN_SWITCH_TO_CONFIRM");return r.$subscribe("CAN_SWITCH_TO_CONFIRM",((e,t)=>{setTimeout((()=>{t||t===e||!0!==e||"boolean"!=typeof e||yc&&yc.activate((()=>{setTimeout((()=>{r.$charge.poll(r.pollConfig)}),0)}))}))})),r.$subscribe("REDIRECT_URL",((e,t)=>{setTimeout((()=>{(!t||t!==e)&&e instanceof URL&&Ti&&Ti.activate.call(r)}),0)})),fi(r,{voucher:{defaultValue:null,required:!1,available:()=>"AIRTEL"===k(r.$inputs,"[network].value.identifier")},phone:k(e,"phone")||null,network:{options:n,selector:wn.bind(r,n),defaultValue:k(e,"mobilemoney_network")||null}}),r.$inputs.$subscribe("network",((e,t)=>{setTimeout((()=>{const{currency:n,method:o}=r.STATE;t!==e&&"GHS"===n.current&&"mobilemoneyghana"===o.current&&setTimeout((()=>{Sa()}),0)}),0)})),N(r,{TIMER_DURATION:300,$resetContext(){r.REDIRECT_URL=r.MOMO_INSTRUCTIONS=null},INIT_VIEW:e=>{Ec&&Ec.activate(e)}}),ni(r,{duration:300,onTick(){r.CURRENT_TIME=r.$timer.current},onFinish(){r.$charge.cancel()&&(r.$timer&&r.$timer.clear(),r.CURRENT_TIME=null,r.reference=null,r.$resetContext(),setTimeout((()=>ra&&ra.activate.call(r)),10))}})}});function vc(){const{$charge:e,$inputs:t}=this;let n=this;return vc=Dr({NAME:"MOMO_FRANCO_INIT_VIEW",inputs:["country","network","phone","authorization_code"],next(){const r=k(t,"[country].value"),o=k(t,"[network].value"),a=k(t,"[phone].value"),i=k(t,"[authorization_code].value");if(a&&S(r)){let t={country:r.code,network:k(o,"identifier")||null,phonenumber:a};if("BF"===t.country&&"mobicash"!==t.network&&(t.authorization_code=i),["SN","CI"].includes(t.country)&&"wave"===t.network){const e=k(n.DATA,"redirect_url");t.redirect_url=null!==e?e:"#checkout:no_json_render"}e.init({data:t})}}}).call(this)}function Tc(){const e=this,{$charge:t,$inputs:n}=this;return Tc=Dr({NAME:"MOMO_FRANCO_OTP_VIEW",inputs:["otp"],constants:{get phone(){return k(n,"[phone].value")},get selectedNetwork(){return k(n,"[network].value")}},next(){const{charge:r=null,order:o=null}=S(e.reference)?e.reference:{},a=k(n,"[otp].value");a&&t.validate({data:{otp:a,flw_reference:r,transactionreference:o},onSuccessful(){no&&no.activate.call(e)},onComplete(){}})}}).call(this)}function Rc(){const e=this,{$inputs:t}=this;return Rc=Dr({NAME:"MOMO_FRANCO_CONFIRM_VIEW",constants:{get instruction(){return e.CONFIRM_INSTRUCTION},get phone(){return k(t,"[phone].value")},get selectedNetwork(){return k(t,"[network].value")}}}).call(this)}const Ac=[vc,Tc,Rc];var Oc=Object.freeze({__proto__:null,METHOD:"mobilemoneyfranco",METHOD_NAME:"Mobile Money",CHARGE_MODE:1,VIEWS:Ac,mount:function(){return e=>{va.call(this,(()=>{vc&&vc.activate((()=>{Sn(this).then((()=>{this.$inputs.$update("country",null),this.$inputs.$reset("country")}))}))})),Sa()}},getChargeData:function(){return this.SHOULD_VALIDATE_CHARGE?{momo_sn:!0}:{is_mobile_money_franco:!0,payment_type:"mobilemoneyfranco"}},getViewsContext:function(e,t){let n=k(e,"mobilemoneyfranco_countries");const r=k(e,"currency");let o=n;["XAF","XOF"].indexOf(r)>=0&&(o=n.filter((e=>e.currency===r)));const a=pn(Object.create(null),"NETWORKS","CONFIRM_INSTRUCTION","REDIRECT_URL","SHOULD_VALIDATE_CHARGE","CURRENT_TIME");function i(){return k(a.NETWORKS,"length")>0}return a.pollConfig={onBegin(){a.$timer&&a.$timer.start()},onCancel(){a.pollConfig.onComplete()},onSuccessful(){no&&no.activate.call(a)},onError(){a.CONFIRM_INSTRUCTION=null,a.$timer&&a.$timer.clear()},onComplete(){a.$timer&&a.$timer.clear()}},a.$subscribe("REDIRECT_URL",((e,t)=>{setTimeout((()=>{(!t||t!==e)&&e instanceof URL&&Ti&&Ti.activate.call(a)}),0)})),a.$subscribe("SHOULD_VALIDATE_CHARGE",((e,t)=>{setTimeout((()=>{t!==e&&O(e)&&(!0===e?Tc&&Tc.activate():Rc&&Rc.activate((()=>{a.$charge.poll(a.pollConfig)})))}),0)})),a.$subscribe("NETWORKS",((e,t)=>{setTimeout((()=>{t!==e&&(a.$inputs.$refresh("network"),a.$inputs.$reset("network"))}),0)})),fi(a,{phone:k(e,"phone")||null,country:{options:o,get selector(){return Nn.bind(a,this.options)},defaultValue:k(e,"country")||null},network:{get options(){return a.NETWORKS},get selector(){return wn.bind(a,this.options)},defaultValue:k(e,"mobilemoney_network")||null,available:i,required:i},authorization_code:k(e,"authorization_code")||null}),a.$inputs.$subscribe("country",((t,n)=>{setTimeout((()=>{if(n!==t){const n=k(t,"[value].code")||null;a.NETWORKS=n&&k(e,`mobilemoney_networks[${n}]`),setTimeout((()=>{n&&void 0===k(e,`mobilemoney_networks[${n}]`)&&Sn(a)}),3500)}}),0)})),a.$inputs.$subscribe("network",((e,t)=>{setTimeout((()=>{const{currency:n,method:r}=a.STATE;t===e||"XOF"!==n.current&&"XAF"!==n.current||"mobilemoneyfranco"!==r.current||setTimeout((()=>{Sa()}),0)}),0)})),N(a,{TIMER_DURATION:300,$resetContext(){a.CONFIRM_INSTRUCTION=a.REDIRECT_URL=a.SHOULD_VALIDATE_CHARGE=null},INIT_VIEW:e=>{const t=k(a,"$$data.data.response_code"),n=!0==!!k(a,"$$data.data.$error")||"failed"===k(a,"$$data.status");["00","02"].includes(t)?"02"!==t||n||setTimeout((()=>{kr&&kr.activate((()=>{a.$charge.poll(a.pollConfig)}))}),0):(a.$resetContext(),vc&&vc.activate(e))}}),ni(a,{duration:300,onTick(){a.CURRENT_TIME=a.$timer.current},onFinish(){a.$charge.cancel()&&(a.$timer&&a.$timer.clear(),a.CURRENT_TIME=null,a.CONFIRM_INSTRUCTION=null,setTimeout((()=>ra&&ra.activate.call(a)),10))}})}});function Ic(){const e=this,{$charge:t,$inputs:n}=this;return e.CAN_SWITCH_TO_CONFIRM=!1,Ic=Dr({NAME:"MOMO_MALAWI_INIT_VIEW",inputs:["phone"],mutables:{timerCurrent:"CURRENT_TIME"},next(){const r=k(n,"[phone].value");r&&(Ar.customerAttemptingCharge("Mobile money malawi"),t.init({data:{phonenumber:r},onRequireValidation(){e.CAN_SWITCH_TO_CONFIRM=!0},onRequireRedirection(){const t=k(e,"STATE.locale")||"en",n=k(e,"STATE.isTestMode")||!1;try{const{url:e}=this;bc(e,t,n)}catch(e){}}}))}}).call(this)}function Sc(){const e=this,{$inputs:t,$timer:n}=this;return e.pollConfig={onBegin(){n.start()},onCancel(){e.pollConfig.onComplete()},onSuccessful(){no&&no.activate.call(e)},onComplete(){n.clear()}},Sc=Dr({NAME:"MOMO_MALAWI_CONFIRM_VIEW",mutables:{timerCurrent:"CURRENT_TIME"},constants:{get phone(){return k(t,"[phone].value")}}}).call(this)}const Nc=[Ic,Sc];var wc=Object.freeze({__proto__:null,METHOD:"mobilemoneymalawi",METHOD_NAME:"Mobile Money",CHARGE_MODE:1,VIEWS:Nc,mount:function(){return e=>{va.call(this,(()=>{const e=this.REDIRECT_URL&&(Ti||(this.REDIRECT_URL=null))||Ic;e&&e.activate.call(this)})),Sa()}},getChargeData:function(){return{is_mobile_money_mw:!0,payment_type:"mobilemoneymw"}},getViewsContext:function(e,t){const n=pn(Object.create(null),"REDIRECT_URL","CURRENT_TIME","CAN_SWITCH_TO_CONFIRM");return n.$subscribe("CAN_SWITCH_TO_CONFIRM",((e,t)=>{setTimeout((()=>{t||t===e||!0!==e||"boolean"!=typeof e||Sc&&Sc.activate((()=>{setTimeout((()=>{n.$charge.poll(n.pollConfig)}),0)}))}))})),n.$subscribe("REDIRECT_URL",((e,t)=>{setTimeout((()=>{(!t||t!==e)&&e instanceof URL&&Ti&&Ti.activate.call(n)}),0)})),fi(n,{phone:k(e,"phone")||null}),N(n,{TIMER_DURATION:300,$resetContext(){n.REDIRECT_URL=null},INIT_VIEW:e=>{Ic&&Ic.activate(e)}}),ni(n,{duration:300,onTick(){n.CURRENT_TIME=n.$timer.current},onFinish(){n.$charge.cancel()&&(n.$timer&&n.$timer.clear(),n.CURRENT_TIME=null,n.reference=null,n.$resetContext(),setTimeout((()=>ra&&ra.activate.call(n)),10))}})}});function Mc(){const e=this,{$charge:t,$inputs:n}=this;return e.CAN_SWITCH_TO_CONFIRM=!1,Mc=Dr({NAME:"MOMO_RWANDA_INIT_VIEW",inputs:["phone"],next(){const r=k(n,"[phone].value");r&&t.init({data:{phonenumber:r},onRequireValidation(){e.CAN_SWITCH_TO_CONFIRM=!0},onRequireRedirection(){const t=k(e,"STATE.locale")||"en",n=k(e,"STATE.isTestMode")||!1;try{const{url:e}=this;bc(e,t,n)}catch(e){}}})}}).call(this)}function $c(){const e=this,{$inputs:t,$timer:n}=this;return e.pollConfig={onBegin(){n.start()},onCancel(){e.pollConfig.onComplete()},onSuccessful(){no&&no.activate.call(e)},onComplete(){n.clear()}},$c=Dr({NAME:"MOMO_RWANDA_CONFIRM_VIEW",mutables:{timerCurrent:"CURRENT_TIME"},constants:{get phone(){return k(t,"[phone].value")}}}).call(this)}const Dc=[Mc,$c];var kc=Object.freeze({__proto__:null,METHOD:"mobilemoneyrwanda",METHOD_NAME:"Mobile Money",CHARGE_MODE:1,VIEWS:Dc,mount:function(){return e=>{va.call(this,(()=>{const e=this.REDIRECT_URL&&(Ti||(this.REDIRECT_URL=null))||Mc;e&&e.activate.call(this)})),Sa()}},getChargeData:function(){return{is_mobile_money_gh:!0,payment_type:"mobilemoneygh"}},getViewsContext:function(e,t){const n=pn(Object.create(null),"REDIRECT_URL","CURRENT_TIME","CAN_SWITCH_TO_CONFIRM");return n.$subscribe("CAN_SWITCH_TO_CONFIRM",((e,t)=>{setTimeout((()=>{t||t===e||!0!==e||"boolean"!=typeof e||$c&&$c.activate((()=>{setTimeout((()=>{n.$charge.poll(n.pollConfig)}),0)}))}))})),n.$subscribe("REDIRECT_URL",((e,t)=>{setTimeout((()=>{(!t||t!==e)&&e instanceof URL&&Ti&&Ti.activate.call(n)}),0)})),fi(n,{phone:k(e,"phone")||null}),N(n,{TIMER_DURATION:300,$resetContext(){n.REDIRECT_URL=null},INIT_VIEW:e=>{Mc&&Mc.activate(e)}}),ni(n,{duration:300,onTick(){n.CURRENT_TIME=n.$timer.current},onFinish(){n.$charge.cancel()&&(n.$timer&&n.$timer.clear(),n.CURRENT_TIME=null,n.reference=null,n.$resetContext(),setTimeout((()=>ra&&ra.activate.call(n)),10))}})}});function Lc(){const e=this,{$charge:t,$inputs:n}=this;return e.CAN_SWITCH_TO_CONFIRM=!1,Lc=Dr({NAME:"MOMO_UGANDA_INIT_VIEW",inputs:["phone"],next(){const r=k(n,"[phone].value");r&&t.init({data:{phonenumber:r},onRequireValidation(){e.CAN_SWITCH_TO_CONFIRM=!0},onRequireRedirection(){const t=k(e,"STATE.locale")||"en",n=k(e,"STATE.isTestMode")||!1;try{const{url:e}=this;bc(e,t,n)}catch(e){}}})}}).call(this)}function Pc(){const e=this,{$inputs:t,$timer:n}=this;return e.pollConfig={onBegin(){n.start()},onCancel(){e.pollConfig.onComplete()},onSuccessful(){no&&no.activate.call(e)},onComplete(){n.clear()}},Pc=Dr({NAME:"MOMO_UGANDA_CONFIRM_VIEW",mutables:{timerCurrent:"CURRENT_TIME"},constants:{get phone(){return k(t,"[phone].value")}}}).call(this)}const jc=[Lc,Pc];var xc=Object.freeze({__proto__:null,METHOD:"mobilemoneyuganda",METHOD_NAME:"Mobile Money",CHARGE_MODE:1,VIEWS:jc,mount:function(){return e=>{va.call(this,(()=>{const e=this.REDIRECT_URL&&(Ti||(this.REDIRECT_URL=null))||Lc;e&&e.activate.call(this)})),Sa()}},getChargeData:function(){return{is_mobile_money_gh:!0,payment_type:"mobilemoneygh"}},getViewsContext:function(e,t){const n=pn(Object.create(null),"REDIRECT_URL","CURRENT_TIME","CAN_SWITCH_TO_CONFIRM");return n.$subscribe("CAN_SWITCH_TO_CONFIRM",((e,t)=>{setTimeout((()=>{t||t===e||!0!==e||"boolean"!=typeof e||Pc&&Pc.activate((()=>{setTimeout((()=>{n.$charge.poll(n.pollConfig)}),0)}))}))})),n.$subscribe("REDIRECT_URL",((e,t)=>{setTimeout((()=>{(!t||t!==e)&&e instanceof URL&&Ti&&Ti.activate.call(n)}),0)})),fi(n,{phone:k(e,"phone")||null}),N(n,{TIMER_DURATION:300,$resetContext(){n.REDIRECT_URL=null},INIT_VIEW:e=>{Lc&&Lc.activate(e)}}),ni(n,{duration:300,onTick(){n.CURRENT_TIME=n.$timer.current},onFinish(){n.$charge.cancel()&&(n.$timer&&n.$timer.clear(),n.CURRENT_TIME=null,n.reference=null,n.$resetContext(),setTimeout((()=>ra&&ra.activate.call(n)),10))}})}});function Uc(){const e=this,{$charge:t,$inputs:n}=this;return e.CAN_SWITCH_TO_CONFIRM=!1,Uc=Dr({NAME:"MOMO_ZAMBIA_INIT_VIEW",inputs:["network","phone"],next(){const r=k(n,"[network].value"),o=k(n,"[phone].value");o&&S(r)&&t.init({data:{phonenumber:o,network:r.identifier},onRequireValidation(){e.CAN_SWITCH_TO_CONFIRM=!0},onRequireRedirection(){const t=k(e,"STATE.locale")||"en",n=k(e,"STATE.isTestMode")||!1;try{const{url:e}=this;bc(e,t,n)}catch(e){}}})}}).call(this)}function Vc(){const e=this,{$inputs:t,$timer:n}=this;return e.pollConfig={onBegin(){n.start()},onCancel(){e.pollConfig.onComplete()},onSuccessful(){no&&no.activate.call(e)},onComplete(){n.clear()}},Vc=Dr({NAME:"MOMO_ZAMBIA_CONFIRM_VIEW",mutables:{timerCurrent:"CURRENT_TIME"},constants:{get phone(){return k(t,"[phone].value")},get selectedNetwork(){return k(t,"[network].value")}}}).call(this)}const Fc=[Uc,Vc];var Bc=Object.freeze({__proto__:null,METHOD:"mobilemoneyzambia",METHOD_NAME:"Mobile Money",CHARGE_MODE:1,VIEWS:Fc,mount:function(){return e=>{va.call(this,(()=>{const e=this.REDIRECT_URL&&(Ti||(this.REDIRECT_URL=null))||Uc;e&&e.activate.call(this)})),Sa()}},getChargeData:function(){return{is_mobile_money_gh:!0,payment_type:"mobilemoneygh"}},getViewsContext:function(e,t){const n=k(e,"mobilemoney_networks[ZM]"),r=pn(Object.create(null),"REDIRECT_URL","CURRENT_TIME","CAN_SWITCH_TO_CONFIRM");return r.$subscribe("CAN_SWITCH_TO_CONFIRM",((e,t)=>{setTimeout((()=>{t||t===e||!0!==e||"boolean"!=typeof e||Vc&&Vc.activate((()=>{setTimeout((()=>{r.$charge.poll(r.pollConfig)}),0)}))}))})),r.$subscribe("REDIRECT_URL",((e,t)=>{setTimeout((()=>{(!t||t!==e)&&e instanceof URL&&Ti&&Ti.activate.call(r)}),0)})),fi(r,{phone:k(e,"phone")||null,network:{options:n,selector:wn.bind(r,n),defaultValue:k(e,"mobilemoney_network")||null}}),r.$inputs.$subscribe("network",((e,t)=>{setTimeout((()=>{const{currency:n,method:o}=r.STATE;t!==e&&"ZMW"===n.current&&"mobilemoneyzambia"===o.current&&setTimeout((()=>{Sa()}),0)}),0)})),N(r,{TIMER_DURATION:300,$resetContext(){r.REDIRECT_URL=null},INIT_VIEW:e=>{Uc&&Uc.activate(e)}}),ni(r,{duration:300,onTick(){r.CURRENT_TIME=r.$timer.current},onFinish(){r.$charge.cancel()&&(r.$timer&&r.$timer.clear(),r.CURRENT_TIME=null,r.reference=null,r.$resetContext(),setTimeout((()=>ra&&ra.activate.call(r)),10))}})}});function Hc(){const e=this,{$charge:t,$inputs:n}=this;return e.CAN_SWITCH_TO_CONFIRM=!1,Hc=Dr({NAME:"MOMO_TANZANIA_INIT_VIEW",inputs:["phone","network"],mutables:{timerCurrent:"CURRENT_TIME"},next(){const r=k(n,"[phone].value"),o=k(n,"[network].value");r&&t.init({data:{phonenumber:r,network:o.identifier},onRequireValidation(){e.CAN_SWITCH_TO_CONFIRM=!0},onRequireRedirection(){const t=k(e,"STATE.locale")||"en",n=k(e,"STATE.isTestMode")||!1;try{const{url:e}=this;bc(e,t,n)}catch(e){}}})}}).call(this)}function Gc(){const e=this,{$inputs:t,$timer:n}=this;return e.pollConfig={onBegin(){n.start()},onCancel(){e.pollConfig.onComplete()},onSuccessful(){no&&no.activate.call(e)},onComplete(){n.clear()}},Gc=Dr({NAME:"MOMO_TANZANIA_CONFIRM_VIEW",mutables:{timerCurrent:"CURRENT_TIME"},constants:{get phone(){return k(t,"[phone].value")},get selectedNetwork(){return k(t,"[network].value")}}}).call(this)}let zc;const Wc=[Hc,Gc];var Kc=Object.freeze({__proto__:null,METHOD:"mobilemoneytanzania",METHOD_NAME:"Mobile Money",CHARGE_MODE:1,VIEWS:Wc,mount:function(){return e=>{va.call(zc=this,(()=>{const e=this.REDIRECT_URL&&(Ti||(this.REDIRECT_URL=null))||Hc;e&&e.activate.call(this)})),Sa()}},getChargeData:function(){return{is_mobile_money_tz:!0,payment_type:"mobilemoneytz"}},getViewsContext:function(e,t){const n=k(e,"mobilemoney_networks[TZ]"),r=pn(Object.create(null),"REDIRECT_URL","MOMO_INSTRUCTIONS","CURRENT_TIME","CAN_SWITCH_TO_CONFIRM");return r.$subscribe("CAN_SWITCH_TO_CONFIRM",((e,t)=>{setTimeout((()=>{t||t===e||!0!==e||"boolean"!=typeof e||Gc&&Gc.activate((()=>{setTimeout((()=>{r.$charge.poll(r.pollConfig)}),0)}))}))})),r.$subscribe("REDIRECT_URL",((e,t)=>{setTimeout((()=>{(!t||t!==e)&&e instanceof URL&&Ti&&Ti.activate.call(r)}),0)})),fi(r,{phone:k(e,"phone")||null,network:{options:n,selector:wn.bind(r,n),defaultValue:k(e,"mobilemoney_network")||null}}),r.$inputs.$subscribe("network",((e,t)=>{setTimeout((()=>{const{currency:n,method:o}=r.STATE;t!==e&&"TZS"===n.current&&"mobilemoneytanzania"===o.current&&setTimeout((()=>{Sa(),va.call(zc)}),5)}),0)})),N(r,{TIMER_DURATION:300,$resetContext(){r.REDIRECT_URL=r.MOMO_INSTRUCTIONS=null},INIT_VIEW:e=>{Hc&&Hc.activate(e)}}),ni(r,{duration:300,onTick(){r.CURRENT_TIME=r.$timer.current},onFinish(){r.$charge.cancel()&&(r.$timer&&r.$timer.clear(),r.CURRENT_TIME=null,r.reference=null,r.$resetContext(),setTimeout((()=>ra&&ra.activate.call(r)),10))}})}});function qc(){const e=this,{$charge:t,$timer:n}=this,r={onBegin(){e.CAN_GO_BACK=!1,n.start()},onCancel(){r.onComplete()},onSuccessful(){no&&no.activate.call(e)},onComplete(){e.CAN_GO_BACK=!0,n.clear(),e.QR_CODE=null}};return qc=Dr({NAME:"ENAIRA_QR_VIEW",mutables:{hasBackAction:"CAN_GO_BACK",timerCurrent:"CURRENT_TIME"},constants:{get qrcode(){return e.QR_CODE},instruction:"Scan the QR Code below on your eNaira mobile app to complete the payment",resetView(){t.cancel(),e.cancelOption()}},next(){t.poll(r)},back(){e.CAN_GO_BACK&&e.INIT_VIEW()}}).call(this)}function Yc(){const{$charge:e,$inputs:t}=this,n=k(t,"eNairaPaymentOption[value]");switch(n.identifier){case"QR":e.init({data:{is_qr:!0}});break;case"TOKEN":e.init({data:{is_token:!0}});break;case"DIRECT_WALLET_DEBIT":e.init()}Ar.eNairaOptionSelected(n.label)}function Zc(){const e=this;return Zc=Dr({NAME:"ENAIRA_INIT_VIEW",inputs:["eNairaPaymentOption"],constants:{hasBackAction:!1},next:()=>Yc.call(e)}).call(this)}function Qc(){const e=this,{$charge:t,$inputs:n,DATA:r}=this;return Qc=Dr({NAME:"ENAIRA_OTP_VIEW",inputs:["phone","otp"],constants:{resetView:()=>e.cancelOption()},next(){const{charge:o=null}=S(e.reference)?e.reference:{},a=k(n,"[phone].value"),i=k(n,"[otp].value"),{PBFPubKey:c}=r;if(a&&i){const n={otp:i,is_enaira:1,PBFPubKey:c,phonenumber:a,transactionreference:o};Ar.startEnairaTokenValidation(),t.validate({data:n,onBegin(){e.CAN_GO_BACK=!1},onValidateSuccessful(){no&&no.activate.call(e)},onComplete(){}})}}}).call(this)}const Jc=[Zc,qc,Qc];var Xc=Object.freeze({__proto__:null,METHOD:"enaira",METHOD_NAME:"eNaira",CHARGE_MODE:1,VIEWS:Jc,mount:function(){return e=>{va.call(this,(()=>{const e=this.QR_CODE&&(qc||this.$resetContext())||this.REDIRECT_URL&&(Ti||this.$resetContext())||this.SHOULD_VALIDATE_CHARGE&&(Qc||this.$resetContext())||Zc;e&&e.activate.call(this)})),Sa()}},getChargeData:function(){return{payment_type:"enaira"}},getViewsContext:function(e,t){const n=pn(Object.create(null),"CURRENT_TIME","REDIRECT_URL","CAN_GO_BACK","QR_CODE","SHOULD_VALIDATE_CHARGE");return fi(n,{otp:null,phone:k(e,"phone")||null,eNairaPaymentOption:{options:kn,selector:Ln.bind(n,kn),defaultValue:kn[0]}}),n.cancelOption=()=>{n.$resetContext(),Zc.activate.call(n)},n.$subscribe("REDIRECT_URL",((e,t)=>{setTimeout((()=>{(!t||t!==e)&&e instanceof URL&&Ti&&Ti.activate.call(n)}),0)})),n.$subscribe("QR_CODE",((e,t)=>{setTimeout((()=>{!t&&e&&t!==e&&qc&&qc.activate()}),0)})),n.CAN_GO_BACK=!0,n.$subscribe("SHOULD_VALIDATE_CHARGE",((e,t)=>{setTimeout((()=>{t||t===e||!0!==e||(Qc&&Qc.activate(),n.CAN_GO_BACK=!0)}),0)})),N(n,{TIMER_DURATION:300,$resetContext(){n.$inputs.$reset("otp"),n.$inputs.$reset("phone"),n.CAN_GO_BACK=!1,n.REDIRECT_URL=n.QR_CODE=n.SHOULD_VALIDATE_CHARGE=null},INIT_VIEW:e=>{!0===k(n,"SHOULD_VALIDATE_CHARGE")&&"TOKEN"===k(n.$inputs,"eNairaPaymentOption.value.identifier")||Zc&&(n.$resetContext(),Zc.activate(e))}}),ni(n,{duration:300,onTick(){n.CURRENT_TIME=n.$timer.current},onFinish(){n.$charge.cancel()&&(n.$timer&&n.$timer.clear(),n.CURRENT_TIME=null,n.$resetContext(),setTimeout((()=>{ae.actions.updateErrorMessage(""),ra&&ra.activate.call(n)}),10))}})}});function es(){const{$charge:e}=this;return es=Dr({NAME:"OPAY_INIT_VIEW",constants:{hasBackAction:!1},next(){e.init()}}).call(this)}const ts=[es];var ns=Object.freeze({__proto__:null,METHOD:"opay",METHOD_NAME:"OPay",CHARGE_MODE:1,VIEWS:ts,mount:function(){return e=>{va.call(this,(()=>{const e=this.REDIRECT_URL&&(Ti||(this.REDIRECT_URL=null))||es;e&&e.activate.call(this)})),Sa()}},getChargeData:function(){return{payment_type:"opay"}},getViewsContext:function(e,t){const n=pn(Object.create(null),"REDIRECT_URL");return n.$subscribe("REDIRECT_URL",((e,t)=>{setTimeout((()=>{(!t||t!==e)&&e instanceof URL&&Ti&&Ti.activate.call(n)}),0)})),N(n,{INIT_VIEW:e=>{es&&es.activate(e)}})}});function rs(){const{$charge:e,$inputs:t,USE_CUSTOMER_ID:n}=this;let r={};const o=k(t,"[customernumber].value"),a=k(t,"[accountnumber].value"),i=k(t,"[phonenumber].value"),c=k(t,"[capitecPaymentOption].value");r=n?{identifierId:o}:"Account number"==k(c,"identifier")?{accountnumber:a}:{phonenumber:i},e.init({data:r})}function os(){const e=this;return os=Dr({NAME:"CAPITEC_INIT_VIEW",inputs:["phonenumber","accountnumber","customernumber","capitecPaymentOption"],constants:{hasBackAction:!1},mutables:{useCustomerID:"USE_CUSTOMER_ID"},next:()=>rs.call(e)}).call(this)}function as(){return as=Dr({NAME:"CAPITEC_CONFIRM_VIEW",mutables:{timerCurrent:"CURRENT_TIME",instruction:"CAPITEC_INSTRUCTION"},constant:{hasBackAction:!1,get timerDuration(){return $timer.duration}}}).call(this)}function is(){const e=this,{$charge:t,$timer:n}=this;return e.pollConfig={onBegin(){},onCancel(){e.pollConfig.onComplete()},onFailure(e){},onSuccessful(){no&&no.activate.call(e)},onComplete(){e.SHOULD_VALIDATE_CHARGE=!1,n.clear()}},is=Dr({NAME:"CAPITEC_DETAILS_VIEW",mutables:{timerCurrent:"CURRENT_TIME"},constants:{hasBackAction:!1,get timerDuration(){return n.duration}},next(){const n=k(e,"STATE.backgroundProcessing"),r=k(e,"STATE.currency.current");!1===n&&"ZAR"===r&&as&&as.activate((()=>{t.poll(e.pollConfig)}))}}).call(this)}const cs=[os,as,is];let ss;var ls=Object.freeze({__proto__:null,METHOD:"capitec",METHOD_NAME:"Capitec Pay",CHARGE_MODE:9,VIEWS:cs,mount:function(){return e=>{va.call(this,(()=>{const e=this.SHOULD_VALIDATE_CHARGE&&(is||(this.SHOULD_VALIDATE_CHARGE=!1))||os;e&&e.activate((()=>this.startListeningForCancellation()))})),ss=this,Sa()}},getChargeData:function(){return{payment_type:"capitec"}},getViewsContext:function(e,t){const n=pn(Object.create(null),"CAN_GO_BACK","CURRENT_TIME","SHOULD_VALIDATE_CHARGE","USE_CUSTOMER_ID","CAPITEC_INSTRUCTION");let r=!1;const o=()=>{a(),i()},a=()=>{!0===r&&(removeEventListener(co,o,!1),r=!1)},i=()=>{n.SHOULD_VALIDATE_CHARGE=!1,n.CURRENT_TIME=null,n.$resetContext(),n.$charge&&n.$charge.cancel()};return n.CAN_GO_BACK=!0,fi(n,{accountnumber:null,phonenumber:null,customernumber:null,capitecPaymentOption:{options:Jn,selector:Xn.bind(n,Jn),defaultValue:Jn[0]}}),n.$subscribe("SHOULD_VALIDATE_CHARGE",((e,t)=>{setTimeout((()=>{t||t===e||!0!==e||is&&is.activate((()=>{n.$timer.start(),setTimeout((()=>{"capitec"===k(n,"STATE.method.current")&&!0===n.SHOULD_VALIDATE_CHARGE&&ss.$charge.poll(ss.pollConfig)}),5e3)}))}),0)})),N(n,{TIMER_DURATION:180,startListeningForCancellation:()=>{!0!==r&&(addEventListener(co,o,!1),r=!0)},stopListeningForCancellation:a,$resetContext(){n.$inputs.$reset("accountnumber"),n.$inputs.$reset("phonenumber"),n.$inputs.$reset("customernumber"),n.CAPITEC_INSTRUCTION=null,n.CAN_GO_BACK=!1},INIT_VIEW:e=>{os&&(n.$resetContext(),os.activate(e))}}),ni(n,{duration:180,onTick(){n.CURRENT_TIME=n.$timer.current;const e=k(n,"CURRENT_TIME.time")||null,t=k(n,"$$data.data.chargeResponseMessage")||k(n,"$$data.data.acctvalrespmsg");e&&61===e&&(n.CAPITEC_INSTRUCTION=t,as&&as.activate(n))},onFinish(){if(n.$charge.cancel()){n.SHOULD_VALIDATE_CHARGE=!1,n.CURRENT_TIME=null;const e=k(n,"$$data.data.chargeResponseCode")||null,t=k(n,"$$data.status");n.$resetContext(),e&&"02"===e&&"failed"!==t?ra&&ra.activate(n):(os&&os.activate(),setTimeout((()=>n.dispatch(ae.actions.updateErrorMessage("capitec.expiry.error",20))),100))}}})}});function us(e,t){const{dispatch:n,getState:r}=t,{CHARGE_MODE:o,getChargeData:a,getViewsContext:i}=this,c=i(e,t)||Object.create(null),s=N(Object.create(null),{mode:o});return Object.freeze(L.call(s,{data:M(a).bind(c)})),fa.call(s,c),N(c,{dispatch:n}),L.call(c,{DATA:()=>e,STATE:()=>r()})}function ds(e,t){if(S(this)){const{VIEWS:n,METHOD:r,METHOD_NAME:o,mount:a,unmount:i}=this,c=us.call(this,e,t),s=n.map((e=>e.call(c)));return{method:r,name:o,views:s,mount:M(a).bind(c),unmount:M(i).bind(c),$context:c}}}var ms=[ls,ii,Ii,wi,Li,Ui,Xc,Bi,qi,Ji,tc,oc,ns,sc,pc,_c,Cc,Oc,wc,kc,xc,Bc,Kc].map((e=>ds.bind(e)));function ps(){return S(this)||Object.create(null),Dr({NAME:"TIMEOUT_VIEW",mount(){const{$$data:e,data:t}=this,n=S(e)?e:S(t)?t:null,r=("vbvcomplete"===k(n,"name")?Jr(n,"transactionobject").transactionobject:Jr(n,"tx").tx||Jr(n,"data").data||n)||null;var o;Ar.transactionTimeout(),o=()=>{if(eo||to)try{return void Xr.postMessage({name:n.name||"opop",data:n,tx:r,success:!1},"*")}catch(e){}setTimeout((function(){fr().then((e=>{try{const t=k(e,"redirect_url"),o=k(e,"txref");if(t&&o){const a=new URL(t),i=a.searchParams;if(!0===e.use_v3){const{transaction_id:e,status:t}=Jr(r,"id::transaction_id","status");i.set("status",t),i.set("tx_ref",o),i.set("transaction_id",e||null),Ar.redirectingToMerchant(r).finally((()=>window.location.href=a.href))}else{const{redirect_post:e,redirect_no_json:t}=It("redirect_post","redirect_no_json"),o=+e?"POST":"GET";if("GET"===o&&+t)return void Ar.redirectingToMerchant(r).finally((()=>window.location.href=a.href));const i=document.createElement("form"),c=document.createElement("textarea");c.setAttribute("name","resp"),c.setAttribute("hidden","hidden"),c.setAttribute("readonly","readonly"),c.classList.add("sr-only"),c.value=JSON.stringify(n),i.setAttribute("method",o),i.setAttribute("action",a.href),i.setAttribute("hidden","hidden"),i.classList.add("sr-only"),i.appendChild(c),document.body.appendChild(i),Ar.redirectingToMerchant(r).finally((()=>i.submit()))}}}catch(e){}}))}),5e3)},Wr.mixpanelInitialized()?Wr.paymentTimeout().finally((()=>o())):Promise.resolve().then((()=>o()))}}).call(this)}let fs,hs;const _s={},bs="view",Es=Object.create(null),ys=Object.create(null);function gs(e){if(I(e)&&S(this)){const{name:t,method:n,views:r,mount:o,unmount:a,$context:i}=e(this.$data,this.$store);N(ys,{[n]:Object.freeze(N(Object.create(null),{name:t,mount:M(o),unmount:M(a)}))}),this.$paymentMethods.indexOf(n)>=0&&[].concat(r).forEach((e=>{if(S(e)){const{NAME:t}=e;N(e,{$rootContext:i}),t&&N(Es,{[t]:e})}}))}}function Cs(e){if(e=S(e)?e:Es[e],S(e)&&S(this)){const t=this,{NAME:n}=e,{dispatch:r,getState:o}=this.$store;L.call(e,{DATA:()=>t.$data,STATE:()=>k(o(),`${bs}[context]`),ACTIVE:()=>{const e=k(o(),`${bs}[current]`);return n===e}}),N(e,{activate(n){t.$store.refresh.view.call(e)&&(fs=e)&&M(n)(r,e.STATE)}})}}function vs(e,t){const n=L({$data:()=>e,$store:()=>t,$paymentMethods:()=>k(e,"payment_options")||[]});if([_i,ba,Ti,no,kr,ra,ro,ps].forEach((e=>{I(e)&&N(e,{activate(t){let r=e.call(this);if(S(r)&&r.NAME){const{NAME:t}=r;t in Es||N(Es,{[t]:e}),Cs.call(n,r)}S(r)&&I(r.activate)&&(e!==_i&&_i.activate(),r.activate(t),e===no&&(hs=!0),I(r.$mount)&&r.$mount())}})})),ms.forEach(gs.bind(n)),Object.keys(Es).forEach(Cs.bind(n)),I(t.refresh)){const e=R(Object.create(null));N(t.refresh,{view(){const n=S(this)?this:{};if(O(n.ACTIVE)&&!n.ACTIVE){fs&&M(fs.Reducer.teardown)();let{NAME:r=null,Reducer:o,setup:a}=n;return!I(o)&&I(a)&&({Reducer:o}=(a(),n)),_s[bs]=K({current:R(r),context:I(o)?o:e}),t.refresh(),M(k(n.$rootContext,"$inputs.$refresh"))(),n.ACTIVE}return!1}}),t.refresh.view(),_i&&_i.activate()}}const Ts=Object.fromEntries(Array.from(Ft,((e,t)=>[e,t])));function Rs(){const e=this,t=Object.create(null),{data:n,dispatch:r}=this,o=k(n,"currencies"),a=k(n,"initial_currency"),c=k(n,"preferences[use_dynamic_currency_conversion]"),d=k(n,"integrity_hash"),m=c&&!d,p=b.call(e,a),f=ce({available:m?o:Object.freeze([a].filter(Boolean))}),h=ao.call(this,{actions:{on:l,off:u},initialState:!1,key:"switching"}),_=K({...h,...f,current(e=a,t){if(t.type===i){const{currency:t}=payload;return o.indexOf(t)>=0&&t!==e?t:e}return e},methods(n=p,r){if(r.type===s){const{current:n}=t.STATE;return b.call(e,n)}return n}});function b(e){const t=(S(this)&&k(this.data,`currency_options[${e}]`)||[]).sort(((e,t)=>Ts[e]-Ts[t]||0)),n=t.reduce(((e,t)=>N(e,{[t]:k(ys,`${t}[name]`)||null})),Object.create(null));return Object.freeze(Object.defineProperties(t,{labels:{value:Object.freeze(n)}}))}function E(){return e=>{const{methods:n,current:r}=t.STATE,{current:o}=As.STATE,a=n.indexOf(o)?o:"NGN"===r&&n.indexOf("card")>=0?"card":n[0];e(As.actions.switchMethod(a))}}function y(e){return n=>{if(!0!==hs&&!0!==ua&&m){const{current:r}=t.STATE;(e=String(it.from(e)))!==it.NONE&&e!==r&&it.DCC.indexOf(e)>=0&&(n(h.actions.on()),Promise.resolve().then((()=>{n({type:i,payload:{currency:e}}),n({type:s}),n(E()),n(h.actions.off())})))}}}return N(t,{NAME:"currency",Reducer:_,actions:N(Object.create(null),{switchCurrency:y}),exposedActions:N(Object.create(null),{Currency:Y({switch:y},r)})}),setTimeout((()=>{r(E())}),0),Rs=t}function As(){const e=Object.create(null),{data:t,dispatch:n}=this,r=k(t,"initial_method"),o={current:r,initial:r,label:k(ys,`${r}[name]`)||null};let a,i=!0;function s(t){return n=>{const{current:r}=e.STATE,{methods:o,current:s}=Rs.STATE;if(!0!==hs&&!0!==ua&&o.indexOf(t)>=0){let o=!(t===r&&a&&a===s);o&&(o=function(e){let t=k(ys,e);I(t)&&I(t=t())&&n(t)}),o&&o(`${r}[unmount]`),t!==r?(dispatchEvent(new CustomEvent(so,{bubbles:!1,cancelable:!1,detail:{current:t,previous:r}})),n({type:c,payload:{method:t}}),n(ae.actions.updateErrorMessage()),Ar.switchedMethod(e.STATE.label||e.STATE.current)):!0===i&&(i=!1,Ar.switchedMethod(e.STATE.label||e.STATE.current)),o&&o(`${t}[mount]`),({current:a}=Rs.STATE)}}}return N(e,{NAME:"method",Reducer:function(e=o,t){const n=S(t.payload)?t.payload:{};if(t.type===c){const{method:t}=n,{current:r}=e;return t!==r?{...e,current:t,label:k(ys,`${t}[name]`)||null}:e}return e},actions:N(Object.create(null),{switchMethod:s}),exposedActions:N(Object.create(null),{PaymentMethod:Y({switch:s},n)})}),As=e}function Os(){const e=Object.create(null),{data:t}=this;return N(e,{NAME:"customer",Reducer:K({...ce({name:function(){const e=k(t,"firstname"),n=k(t,"lastname");return[e,n].filter(Boolean).join(" ")||"Anonymous Customer"}(),email:function(){const e=k(t,"email");return!0===k(t,"preferences[prefers_hidden_email]")?null:e||null}()})})}),Os=e}function Is(){const e=Object.create(null),{data:t}=this,n=k(t,"merchant_logo").includes("services/filestack/download")?V(k(t,"merchant_logo")):k(t,"merchant_logo");return N(e,{NAME:"merchant",Reducer:K({...ce({name:k(t,"merchant_name"),logo:n,poweredby:"Flutterwave"})})}),Is=e}function Ss(){const e=Object.create(null);return N(e,{NAME:"viewport",Reducer:K({...ce({mobile:J.isMobile,width:window.innerWidth,height:window.innerHeight,orientation:null})})}),Ss=e}function Ns(){const e=Object.create(null),{data:t}=this;return N(e,{NAME:"isTestMode",Reducer:function(){return function(){const e=k(t,"PBFPubKey");return!!e&&e.includes("_TEST")}()}}),Ns=e}function ws(){const e=Object.create(null),{data:t}=this,n=k(t,"session_duration")||null;let r=null;"number"==typeof n&&n>0&&n<=1440&&(r=n);return N(e,{NAME:"session",Reducer:K({...ce({session_duration:r})})}),ws=e}const Ms={},$s={},Ds={};function ks(){fr().then((function(e){const t=k(e,"forter_site_id");if(t){const r=Pt(He.one.retry(...Dt,(function(e){return function(e){return Lt(e)?e.json():e.text().then(JSON.parse).catch(Mt)}(e).then((e=>!(S(e)&&"success"===e.status)))})).delay(He.ProgressiveDelay()).init($t).limit(10));document.addEventListener("ftr:tokenReady",(function(n){r("https://api.ravepay.co/v2/forter/events",{body:JSON.stringify({modal_audit_uuid:k(e,"modalauditid"),public_key:k(e,"PBFPubKey"),forter_site_id:t,token:n.detail})}).catch(v)})),n=t,function(){function e(e,t){for(var n=e.split(""),r=0;r<n.length;++r)n[r]=String.fromCharCode(n[r].charCodeAt(0)+t);return n.join("")}function t(t){return e(t,-d).replace(/%SN%/g,n)}function r(e){try{v.ex=e,window.ga&&"noopfn"===window.ga.name&&-1===v.ex.indexOf(C.uB)&&(v.ex+=C.uB),!(!navigator.brave||"function"!=typeof navigator.brave.isBrave)&&-1===v.ex.indexOf(C.uBr)&&(v.ex+=C.uBr),document.currentScript&&document.currentScript.src&&-1===v.ex.indexOf(C.nIL)&&(v.ex+=C.nIL),window.ftr__snp_cwc||(v.ex+=C.s),y(v)}catch(e){}}function o(e,t){function n(o){try{o.blockedURI===e&&(t(),document.removeEventListener(r,n))}catch(e){document.removeEventListener(r,n)}}var r="securitypolicyviolation";document.addEventListener(r,n),setTimeout((function(){document.removeEventListener(r,n)}),12e4)}function a(){!function(e,t,n){var r=new XMLHttpRequest;if(o(e,(function(){n(new Error("CSP Violation"),!0),isErrorEventCalled=!0})),"withCredentials"in r)r.open("GET",e,!0);else{if("undefined"==typeof XDomainRequest)return;(r=new XDomainRequest).open("GET",e)}r.onload=function(){"function"==typeof t&&t(r)},r.onerror=function(e){if("function"==typeof n&&!isErrorEventCalled)try{n(e,!1),isErrorEventCalled=!0}catch(e){}},r.onprogress=function(){},r.ontimeout=function(){"function"==typeof n&&n("timeout",!1)},setTimeout((function(){r.send()}),0)}(m,(function(r){try{var o=r.getAllResponseHeaders().toLowerCase();if(o.indexOf(f.toLowerCase())<0)return;var a=e(r.getResponseHeader(f),-d-1);if(a){var s=a.split(":");if(s&&3===s.length){var l=s[0],u=s[1],m=s[2];switch(u){case"none":c=l+p;break;case"res":c=l+p+m;break;case"enc":c=l+t("1forxgiurqw1qhw2vq2(VQ(2vfulsw1mv");break;case"enc-res":for(var _="",b=0,y=0;b<20;++b)_+=b%3>0&&y<12?n.charAt(y++):v.id.charAt(b);var g=m.split(".");if(g.length>1){var T=g[0],R=g[1];c=l+p+T+"."+_+"."+R}}if(o.indexOf(h.toLowerCase())>=0){var A=e(r.getResponseHeader(h),-d-1);window.ftr__altd=A}I(C.dUAL),setTimeout(i,E,C.dUAL)}}}catch(e){}}),(function(e,t){r(t?C.uAS+C.cP:C.uAS)}))}function i(e){try{var t=e===C.uDF?_:c;if(!t)return;!function(e,t,n,r){var a=!1;o(e="https://"+e,(function(){r(!0),a=!0}));var i=document.createElement("script");i.onerror=function(){if(!a)try{r(!1),a=!0}catch(e){}},i.onload=n,i.type="text/javascript",i.id="ftr__script",i.async=!0,i.src=e;var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(i,c)}(t,0,(function(){try{S(),r(e+C.uS)}catch(e){}}),(function(t){try{S(),v.td=1*new Date-v.ts,r(t?e+C.uF+C.cP:e+C.uF),e===C.uDF&&a()}catch(e){r(C.eUoe)}}))}catch(t){r(e+C.eTlu)}}var c,s="forterToken",l={write:function(e,t,n,r){var o,a;if(void 0===r&&(r=!0),n?((o=new Date).setTime(o.getTime()+24*n*60*60*1e3),a="; expires="+o.toGMTString()):a="",r)for(var i=1,c=document.domain.split("."),s=10,u=!0;u&&c.length>=i&&s>0;){var d=c.slice(-i).join(".");document.cookie=escape(e)+"="+escape(t)+a+"; path=/; domain="+d;var m=l.read(e);null!=m&&m==t||(d="."+d,document.cookie=escape(e)+"="+escape(t)+a+"; path=/; domain="+d),u=-1===document.cookie.indexOf(e+"="+t),i++,s--}else document.cookie=escape(e)+"="+escape(t)+a+"; path=/"},read:function(e){var t=null;try{for(var n=escape(e)+"=",r=document.cookie.split(";"),o=0;o<r.length;o++){for(var a=r[o];32===a.charCodeAt(0);)a=a.substring(1,a.length);0===a.indexOf(n)&&(t=unescape(a.substring(n.length,a.length)))}}finally{return t}}},u=function(e){if(document.head){var t=function(){var t=document.createElement("link");return t.setAttribute("rel","preconnect"),t.setAttribute("crossorigin","anonymous"),t.onload=function(){document.head.removeChild(t)},t.onerror=function(e){document.head.removeChild(t)},t.setAttribute("href",e),document.head.appendChild(t),t}();setTimeout((function(){document.head.removeChild(t)}),3e3)}},d=3,m=t("22g4zl{5jf5fjtlv1forxgiurqw1qhw2vwdwxv"),p=e("1forxgiurqw1qhw2",-d),f=e("[0Uhtxhvw0LG",-d),h=e("[0Fruuhodwlrq0LG",-d),_=t("(VQ(1fgq71iruwhu1frp2vq2(VQ(2vfulsw1mv"),b=t("(VQ(1fgq71iruwhu1frp2vqV2(VQ(2vfulsw1mv"),E=10;window.ftr__startScriptLoad=1*new Date;var y=function(e){var t=function(e){return e||""},n=t(e.id)+"_"+t(e.ts)+"_"+t(e.td)+"_"+t(e.ex)+"_"+t("13ck");l.write(s,n,1825,!0),function(e){window.ftr__tt&&clearTimeout(window.ftr__tt),window.ftr__tt=setTimeout((function(){try{delete window.ftr__tt,e+="_tt";var t=document.createEvent("Event");t.initEvent("ftr:tokenReady",!1,!1),t.detail=e,document.dispatchEvent(t)}catch(e){}}),1e3)}(n),window.ftr__gt=n},g=function(){for(var e={},t=[],n=0;n<256;n++)t[n]=(n<16?"0":"")+n.toString(16);return e.safeGenerateNoDash=function(){try{var e=function(){if(window.Uint32Array&&window.crypto&&window.crypto.getRandomValues){var e=new window.Uint32Array(4);return window.crypto.getRandomValues(e),{d0:e[0],d1:e[1],d2:e[2],d3:e[3]}}return{d0:4294967296*Math.random()>>>0,d1:4294967296*Math.random()>>>0,d2:4294967296*Math.random()>>>0,d3:4294967296*Math.random()>>>0}}();return function(e,n,r,o,a){var i=a?"-":"";return t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+i+t[255&n]+t[n>>8&255]+i+t[n>>16&15|64]+t[n>>24&255]+i+t[63&r|128]+t[r>>8&255]+i+t[r>>16&255]+t[r>>24&255]+t[255&o]+t[o>>8&255]+t[o>>16&255]+t[o>>24&255]}(e.d0,e.d1,e.d2,e.d3,!1)}catch(e){try{return"fgu"+function(){var e="",t=function(e,t){for(var n="",r=e;r>0;--r)n+=t.charAt(1e3*Math.random()%t.length);return n};return e+=t(2,"0123456789"),(e+=t(1,"123456789"))+t(8,"0123456789")}()}catch(e){}}},e.isValidNumericalToken=function(e){return e&&e.toString().length<=11&&e.length>=9&&parseInt(e,10).toString().length<=11&&parseInt(e,10).toString().length>=9},e.isValidUUIDToken=function(e){return e&&32===e.toString().length&&/^[a-z0-9]+$/.test(e)},e.isValidFGUToken=function(e){return 0==e.indexOf("fgu")&&e.length>=12},e}(),C={uDF:"UDF",dUAL:"dUAL",uAS:"UAS",mLd:"1",eTlu:"2",eUoe:"3",uS:"4",uF:"9",tmos:["T5","T10","T15","T30","T60"],tmosSecs:[5,10,15,30,60],bIR:"43",uB:"u",uBr:"b",cP:"c",nIL:"i",s:"s"};try{var v=function(){var e=(l.read(s)||"").split("_"),t=function(t){return e[t]||void 0};return{id:t(0),ts:t(1),td:t(2),ex:t(3),vr:t(4)}}();try{v.id&&(g.isValidNumericalToken(v.id)||g.isValidUUIDToken(v.id)||g.isValidFGUToken(v.id))?window.ftr__ncd=!1:(v.id=g.safeGenerateNoDash(),window.ftr__ncd=!0),v.ts=window.ftr__startScriptLoad,y(v),window.ftr__snp_cwc=!!l.read(s),window.ftr__snp_cwc||(_=b);for(var T="forter.com",R=["https://cdn9."+T,"https://"+v.id+"-"+n+".cdn."+T,"https://cdn3."+T],A=0;A<R.length;A++)u(R[A]);var O=new Array(C.tmosSecs.length),I=function(e){for(var t=0;t<C.tmosSecs.length;t++)O[t]=setTimeout(r,1e3*C.tmosSecs[t],e+C.tmos[t])},S=function(){for(var e=0;e<C.tmosSecs.length;e++)clearTimeout(O[e])};!function(e,t){for(var n=C.tmos,r=0;r<n.length;r++)if(e+n[r]===t)return!0;return!1}(C.uDF,v.ex)?(I(C.uDF),setTimeout(i,E,C.uDF)):loadAlternate()}catch(e){r(C.mLd)}}catch(e){}}()}var n}))}let Ls,Ps=!1;const js=function e(t,n,r){if("function"!=typeof t)throw new Error(H(2));if("function"==typeof n&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(H(0));if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error(H(1));return r(e)(t,n)}let o=t,a=n,i=new Map,c=i,s=0,l=!1;function u(){c===i&&(c=new Map,i.forEach(((e,t)=>{c.set(t,e)})))}function d(){if(l)throw new Error(H(3));return a}function m(e){if("function"!=typeof e)throw new Error(H(4));if(l)throw new Error(H(5));let t=!0;u();const n=s++;return c.set(n,e),function(){if(t){if(l)throw new Error(H(6));t=!1,u(),c.delete(n),i=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}(e))throw new Error(H(7));if(void 0===e.type)throw new Error(H(8));if("string"!=typeof e.type)throw new Error(H(17));if(l)throw new Error(H(9));try{l=!0,a=o(a,e)}finally{l=!1}return(i=c).forEach((e=>{e()})),e}return p({type:W.INIT}),{dispatch:p,subscribe:m,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(H(10));o=e,p({type:W.REPLACE})},[G]:function(){const e=m;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(H(11));function n(){const e=t;e.next&&e.next(d())}n();return{unsubscribe:e(n)}},[G](){return this}}}}}(xs(),function(...e){return t=>(n,r)=>{const o=t(n,r);let a=()=>{throw new Error(H(15))};const i={getState:o.getState,dispatch:(e,...t)=>a(e,...t)},c=e.map((e=>e(i)));return a=function(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>e(t(...n))))}(...c)(o.dispatch),{...o,dispatch:a}}}(r));function xs(){return K({...Ms,..._s})}function Us(){const{dispatch:e,getState:t,subscribe:n}=js,r=L({dispatch:()=>e,getState:()=>t,subscribe:()=>n},!1);return Object.freeze(N(r,{...Ds}))}function Vs(e){!0!==Ps&&(Ps=!0,dispatchEvent(e))}function Fs(){return Ls||(Ls=fr().then((e=>{const t={...S(e)?e:{}};return ks(),Wr.init(),Promise.resolve(on()),Object.defineProperty(js,"refresh",{value:()=>js.replaceReducer(xs())}),_a(t,js),function(e,t){let n=1440;if(e&&t){const r={data:{status:"session_expired",message:"Checkout session expired",transaction_id:null,id:null}},o=L({$chargeData:()=>e,$state:()=>t.getState(),$$data:()=>r},!1),a=Rt.get("custom_session_duration")||1440;isNaN(a)||(n=a<=0||a>1440?1440:a),setTimeout((()=>{const e=o.$state.view&&o.$state.view.current||"PLACEHOLDER_VIEW";["SUCCESS_VIEW","TIMEOUT_VIEW","FAILURE_VIEW"].includes(e)||ps&&ps.activate.call({...o})}),6e4*n)}}(t,js),vs(t,js),function(e,t){const n=L({actions:()=>$s,data:()=>e,dispatch:()=>t.dispatch});[ie,se,oe,Rs,Os,F,ae,oo,Ir,Is,As,Ns,Ss,io,na,ws].forEach((e=>{if(I(e)){const r=e.call(n),{NAME:o,Reducer:a,actions:i,exposedActions:c}=r,s=w.bind(r);i&&($s[o]=i),c&&N(Ds,c),Ms[o]=a,s("STATE",(function(){return k(t.getState(),`${o}`)}))}})),N(Ds,{LogUntranslatedErrors:N(Object.create(null),{logError(e){Ar.logUntranslatedError(e)}}),Control:N(Object.create(null),{close(e){e&&"function"==typeof k(e,"preventDefault")&&e.preventDefault();const n=k(js.getState(),"view.current");let r=wt("en"===k(t.getState(),"locale")?oa:aa,"close.checkout.notice");if(!hs&&"PENDING_VIEW"!==n||!eo&&!to){if(!hs&&confirm(r)&&(eo||to))try{dispatchEvent(new CustomEvent(co,{bubbles:!1,cancelable:!1})),Ar.closeModal(),Xr.postMessage({name:"closeiframe",data:{cancelled:!0}},"*")}catch(e){}}else try{dispatchEvent(new CustomEvent(co,{bubbles:!1,cancelable:!1})),Ar.closeModal(!0),Xr.postMessage({name:"closeiframe",data:{}},"*")}catch(e){}}})})}(t,js),js.refresh(),Rt.hasErrors()&&ba&&ba.activate((()=>{js.dispatch(ae.actions.updateErrorMessage(Rt.getError()))})),new CustomEvent("checkout:ready",{bubbles:!1,cancelable:!1,detail:L({store:Us})})}))),Ls}addEventListener("checkout:app",(function e(){removeEventListener("checkout:app",e,!1),Fs().then(Vs)}),!1),Fs().then(Vs)}));
//# sourceMappingURL=checkout.js.map
